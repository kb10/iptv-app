webpackJsonp([0],{160:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=160},185:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id=185},212:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(49),i=n(0),o=n(1),a=n(16),s=n(36),l=n(61),u=function(){function t(t,e){this.viewCtrl=t,this.splashScreen=e}return t.prototype.ionViewDidEnter=function(){var t=this;this.splashScreen.hide(),setTimeout(function(){t.viewCtrl.dismiss()},1e3)},t}(),c=n(62),d=function(){function t(t){this.storage=t}return t.prototype.set=function(t,e){return this.storage.set(t,JSON.stringify(e))},t.prototype.get=function(t){return this.storage.get(t)},t.prototype.remove=function(t){return this.storage.remove(t)},t.prototype.listAll=function(){return this.storage.keys()},t.prototype.clear=function(){return this.storage.clear()},t}(),f=n(11),h=n(106),p=n(75),v=n(76),g=(n(63),n(77)),y=function(){function t(t,e,n,r,i){this.http=t,this.alertCtrl=e,this.fileProvider=n,this.androidPermissions=r,this.storage=i,this.urlStorePrefix="url"}return t.prototype.fetchAndBuildPlayList=function(t){var e=this;return t||alert("URL NOT FOUND"),-1==t.indexOf("content://")?this.http.get(t,{responseType:"text"}).map(function(n){return e.convertM3uToJson(n,t)}):new f.Observable(function(n){e.getPlaylistFromFileSystem(t).then(function(r){n.next(!!r&&e.convertM3uToJson(r,t))}).catch(function(t){console.log("ERRRRR from file read",t)})})},t.prototype.getPlaylistFromFileSystem=function(t){var e=this,n=t.split("\\").pop().split("/");n.pop(),n=n.join("/");var r=t.split("\\").pop().split("/").pop();return console.log("FOLDER:",n,"FILE:",r),this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE,this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE]).then(function(t){if(console.log("SO...permission?",t),t.hasPermission)return e.fileProvider.resolveDirectoryUrl(n).then(function(t){return console.log("RESOLVIGN PATH:",t),e.fileProvider.getFile(t,r,{create:!0,exclusive:!1})}).catch(function(t){return console.log("ERR resolving dir:",t)})})},t.prototype.getList=function(t){var e=this;return new f.Observable(function(n){e.storage.get(e.urlStorePrefix+"-"+t).then(function(r){if(r)try{n.next(JSON.parse(r))}catch(t){n.next({err:!0,message:"Error parsing json"})}else e.buildPlaylist(t).subscribe(function(t){t&&n.next(t),n.next({err:!0,message:"No playlist found"})})}).catch(function(t){console.log("Err getting stored playlist",t),n.next({err:!0,message:"No playlist found"})})})},t.prototype.buildPlaylist=function(t){var e=this;return new f.Observable(function(n){console.log("BUILDING PLAYLIST"),e.fetchAndBuildPlayList(t).subscribe(function(t){console.log("FETCHING PLAYLIST",t),t?n.next(t):(console.log("ERR in GET:",t),n.next(!1))},function(t){console.log("Error from Fetch"),n.next(!1)})})},t.prototype.getCountries=function(){return this.data.countries},t.prototype.validateFile=function(t){if(t.length<1)return!1;var e;switch(!0){case t[0].indexOf("#EXTM3U")>-1:t[1].indexOf("#EXTINF:-1,"),e=t[1].indexOf("#EXTINF:0,")>-1?this.parseM3uSimple(t):this.parseM3uWithOptions(t)}return e},t.prototype.convertM3uToJson=function(t,e){var n=t.split("\n"),r=this.validateFile(n);return this.storage.set(this.urlStorePrefix+"-"+e,JSON.stringify(r)),r},t.prototype.parseM3uWithOptions=function(t){var e={},n=null;return t.forEach(function(t,r){if(0==r)return!1;if(null==t.match(/ group-title="([^"]*)"/)&&t.indexOf("http")>-1){return e[n][e[n].length-1].url=t.toString().replace("\r",""),!1}var i=(t=t.replace("#EXTINF:-1 ","").replace("#EXTINF:-0 ","").split(",")[0]).match(/(\S+)=["']?((?:.(?!["']?\s+(?:\S+)=|[>"']))+.)["']?/g),o={};if(!i)return!1;if(i.forEach(function(t){var e=t.split("=");e[1]=e[1].replace(/"/g,""),o[e[0]]=e[1]}),!o["tvg-name"])return!1;var a={id:o["tvg-id"],groupName:o["group-title"],tvLogo:o["tvg-logo"],tvName:o["tvg-name"]};if(a.groupName){var s=a.groupName;n=s,e[s]?e[s].push(a):(e[s]=[],e[s].push(a),e.countries||(e.countries=[]),e.countries.push({name:s,channels:null,image:null}))}}),e.countries.map(function(t){t.channels=e[t.name].length}),e},t.prototype.parseM3uSimple=function(t){var e={},n=null;return t.forEach(function(t,r){if(0==r)return!1;if(null==t.match(/#EXTINF:-1,/)&&t.indexOf("http")>-1){return e[e[n].length-1].url=t.toString().replace("\r",""),!1}var i=t.split("#EXTINF:-1,")[1];e.push({tvName:i}),n=r}),e},t.prototype.askPlaylistUrlOrFile=function(){var t=this;return new f.Observable(function(e){var n=t.alertCtrl.create({title:"Playlist url",inputs:[{name:"url",placeholder:"Url"}],buttons:[{text:"Cancel",role:"cancel",handler:function(t){console.log(t)}},{text:"Ok",handler:function(r){var i=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi);r.url.match(i)&&t.buildPlaylist(r.url).subscribe(function(t){t&&(console.log(t),n.dismiss(),e.next(t))}),e.next(!1)}}]});n.present()})},t}(),m=n(93),_=function(){function t(t){this.loadingCtrl=t,this.timeout=5e3}return t.prototype.presentLoadingDefault=function(t){var e=this.loadingCtrl.create({content:t});return e.present(),e},t.prototype.presentLoadingCustom=function(){var t=this.loadingCtrl.create({spinner:"hide",content:'\n            <div class="custom-spinner-container">\n              <div class="custom-spinner-box"></div>\n            </div>',duration:this.timeout});t.onDidDismiss(function(){console.log("Dismissed loading")}),t.present()},t}(),b=function(){function t(t){this.toastCtrl=t}return t.prototype.presentToast=function(t,e){void 0===e&&(e=1e3);this.toastCtrl.create({message:t,duration:e}).present()},t}(),T=function(){function t(t,e,n,r,i,o,a,s,l){this.storage=t,this.toastCtrl=e,this.alertCtrl=n,this.fileChooser=r,this.androidPermissions=i,this.m3uProvider=o,this.loadingProvider=a,this.m3u8Provider=s,this.toasterProvider=l,this.playlistPrefix="iptv-playlist-"}return t.prototype.add=function(){var t=this;return new f.Observable(function(e){t.presentPlaylistDataPrompt().subscribe(function(t){console.log("subscribe returning to add()",t),e.next(t)})})},t.prototype.current=function(){return this.storage.get("playlist-url")},t.prototype.get=function(t){return this.storage.get("playlist-"+t)},t.prototype.list=function(){var t=this;return new f.Observable(function(e){t.storage.listAll().then(function(n){if(!n)return{err:!0,message:"no playlist"};var r=[];n.filter(function(e){return e.indexOf(t.playlistPrefix)>-1}).map(function(e,n){e.indexOf(t.playlistPrefix)>-1&&t.storage.get(e).then(function(t){r.push(JSON.parse(t))})}),e.next(r)},function(t){console.log("Error:",t);e.next({error:!0,message:t})})})},t.prototype.use=function(){},t.prototype.presentPlaylistDataPrompt=function(){var t=this;return new f.Observable(function(e){t.alertCtrl.create({title:"New Playlist",inputs:[{name:"playlist",placeholder:"name"},{name:"url",placeholder:"url"}],buttons:[{text:"Cancel",role:"cancel",handler:function(t){console.log("Cancel clicked"),e.next({err:!0,message:"canceled"})}},{text:"Save",handler:function(n){if(!(n.playlist.length>0&&n.url.length>0))return console.log("Invalid data",n),!1;var r={name:n.playlist,url:n.url,order:0,type:null,data:null};console.log("PRE-RETRIEVE:",r),t.retrieveList(n.url).then(function(e){return r.data=e,console.log("RETRIEVE DATA:",r),t.storage.set(t.playlistPrefix+n.playlist,r)}).then(function(t){console.log("SAVED IN STORAGE:",t),e.next(r)}).catch(function(t){console.log("Err getting playlist",t)})}}]}).present()})},t.prototype.retrieveList=function(t){var e=this;return new Promise(function(n,r){e.m3u8Provider.getList(t).subscribe(function(t){console.log("retrieve list method: ",t),t.err?(e.toasterProvider.presentToast("Couldnt load playlist"),n(null)):(e.toasterProvider.presentToast("Playlist saved"),n(t))})})},t.prototype.remove=function(t){var e=this;return console.log("Deleting:",t),this.storage.remove(this.playlistPrefix+t.name).then(function(){return e.storage.remove("url-"+t.url)})},t.prototype.uploadFile=function(){var t=this;return this.androidPermissions.requestPermissions([this.androidPermissions.PERMISSION.READ_EXTERNAL_STORAGE,this.androidPermissions.PERMISSION.WRITE_EXTERNAL_STORAGE]).then(function(e){t.openFilePicker().then(function(e){console.log("URI FROM FILEPICKER: ",e),t.m3uProvider.getPlaylistFromFileSystem(e).then(function(t){console.log("DATA FROM BUILD PLAYLIST",t)})}).catch(function(t){return console.log("FILEPICKER ERR: ",t)})})},t.prototype.openFilePicker=function(){return this.fileChooser.open()},t}(),E=function(){function t(t,e){this.http=t,this.storage=e}return t.prototype.add=function(t){var e=this;return new f.Observable(function(n){e.list().then(function(r){var i=[];if(r){if((i=r).filter(function(e){return e.tvName==t.tvName}).length>0)return n.next(!1),!1}i.push(t),e.storage.set("favorites",JSON.stringify(i)).then(function(t){e.list().then(function(t){n.next(t)})}).catch(function(t){n.next(!1)})})})},t.prototype.getAllFromContry=function(t){var e=this;return new f.Observable(function(n){e.list().then(function(e){n.next(e.filter(function(e){return e.groupName==t}))})})},t.prototype.remove=function(t){var e=this;return new f.Observable(function(n){e.list().then(function(r){var i=[];r&&(i=r);var o=i.filter(function(e){return e.tvName!==t.tvName});e.storage.set("favorites",JSON.stringify(o)).then(function(t){n.next(o)}).catch(function(t){n.next(!1)})})})},t.prototype.list=function(){return this.storage.get("favorites").then(function(t){return JSON.parse(t)})},t}(),w=function(){function t(t){this.platform=t}return t.prototype.start=function(t){var e=this;this.platform.ready().then(function(n){n&&e.playVideoJsHLS(t)})},t.prototype.showControlls=function(){},t.prototype.close=function(){},t.prototype.playVideoJsHLS=function(t){var e=videojs("stream-video",{html5:{hlsjsConfig:{debug:!1}}});e.qualityPickerPlugin(),e.ready(function(){this.src({src:t.url,type:"application/x-mpegURL"})})},t.prototype.startUsingHlsNative=function(){if(Hls.isSupported()){var t=document.getElementById("stream-video"),e=new Hls;e.loadSource("http://clientportal.link:8080/live/zk5DrRr958/w9MaPr386/3214.m3u8"),e.attachMedia(t),e.on(Hls.Events.MANIFEST_PARSED,function(){t.play()})}else t.canPlayType("application/vnd.apple.mpegurl")&&(t.src="http://clientportal.link:8080/live/zk5DrRr958/w9MaPr386/3214.m3u8",t.addEventListener("canplay",function(){t.play()}))},t}(),k=n(4),S=n(107),O=n(46),j=n(108),C=(n(251),n(252),function(){function t(t,e,n,r,i,o,a,s,l){var u=this;this.videoProvider=t,this.navParams=e,this.plt=n,this.screenOrientation=r,this.alertController=i,this.navController=o,this.statusBar=a,this.platform=s,this.insomnia=l,this.current=(new Date).getTime(),this.item=this.navParams.get("channel"),this.data=this.navParams.get("list"),this.list=this.data.splice(0,30),this.platform.ready().then(function(t){u.statusBar.hide()}),this.insomnia.keepAwake().then(function(){return console.log("success")},function(){return console.log("error")}),this.activateOrientationDetection()}return t.prototype.activateOrientationDetection=function(){var t=this;this.screenOrientation.onChange().subscribe(function(e){t.screenOrientation.type.indexOf("landscape")>-1?(t.player.enterFullWindow(),t.player.height("100%")):(t.player.exitFullWindow(),t.player.height("200px"))})},t.prototype.ngOnInit=function(){},t.prototype.registerPlayerButtons=function(){var t=videojs.getComponent("Button"),e=videojs.extend(t,{constructor:function(){t.apply(this,arguments)},handleClick:function(){},buildCSSClass:function(){return"vjs-icon-next-item vjs-control vjs-button"}});videojs.registerComponent("MyButton",e)},t.prototype.playItem=function(t){this.item=t,this.player.pause(),this.player.src(""),this.player.src({src:this.item.url,type:"application/x-mpegURL"}),this.player.play()},t.prototype.playVideoJsHLS=function(){var t=this,e=this;this.player=videojs("stream-video",{fluid:!0,html5:{hlsjsConfig:{debug:!1}}}),this.player.qualityPickerPlugin(),this.player.ready(function(){this.src({src:e.item.url,type:"application/x-mpegURL"}),this.play()}),this.player.on("error",function(e){console.log("VIDEOJS ERROR:",e),t.navController.pop()})},t.prototype.ionViewWillLeave=function(){this.player.dispose(),this.statusBar.isVisible||this.statusBar.show(),this.insomnia.allowSleepAgain().then(function(){return console.log("success")},function(){return console.log("error")})},t.prototype.ngAfterViewInit=function(){this.playVideoJsHLS()},t.prototype.doInfinite=function(t){for(var e=this.list.length,n=this.list.length;n<e+30;n++){if(!this.data[n])return t.complete();this.list.push(this.data[n])}t.complete()},t}()),R=n(145),x=function(){function t(t,e,n){this.transfer=t,this.file=e,this.toasterProvider=n}return t.prototype.download=function(t){var e=this;return new f.Observable(function(n){var r=e.transfer.create(),i=t.split("/");i=i[i.length-1],console.log("DOWNLOAD START",i,t),r.download(t,e.file.dataDirectory+i,!0).then(function(t){console.log("download complete: "+t.toURL()),n.next(t)},function(t){console.log("Error Download file"),n.next(!1)})})},t}(),P=n(146),A=function(){function t(t,e,n,r,i,o,a){this.http=t,this.storage=e,this.downloadProvider=n,this.zip=r,this.file=i,this.alertCtrl=o,this.loadingProvider=a,this.epgPrefix="epg-list-"}return t.prototype.convertXmlToJson=function(t){var e=this,n=this.x2jsParser(t);if(n)return n.hasOwnProperty("tv")&&(n=n.tv),n.programme.map(function(t){t._start=e.convertEPGDateToReadable(t._start),t._stop=e.convertEPGDateToReadable(t._stop)}),n.lastUpdated=new Date,console.log(n),n},t.prototype.isEpdDateValid=function(t){var e=new Date,n=new Date(t._stop).getTime(),r=new Date(t._start).getTime(),i=e.getTime();return i<n&&i>r},t.prototype.convertEPGDateToReadable=function(t){var e=t.toString().slice(0,4),n=t.toString().slice(4,6),r=t.toString().slice(6,8),i=t.toString().slice(8,10),o=t.toString().slice(10,12);return new Date(e+"-"+n+"-"+r+" "+i+":"+o)},t.prototype.x2jsParser=function(t){var e=t;return(new X2JS).xml_str2json(e)},t.prototype.downloadEPGFile=function(t){return this.http.get(t,{responseType:"text"})},t.prototype.promptForEPGFileUrl=function(t){var e=this;return new f.Observable(function(n){e.alertCtrl.create({title:"Do you have a EPG url",inputs:[{name:"url",placeholder:"Url"}],buttons:[{text:"Choose from list",handler:function(r){e.getRemoteEPGList().subscribe(function(r){var i=r;i=i.filter(function(t){return"list.json"!==t}),e.chooseFromRemoteEPGList(i).subscribe(function(r){e.getEPG("https://mazarelo.com/iptv/epg/"+r,t).subscribe(function(t){n.next(t)})})},function(t){console.log("FAILED TO GET EPG URL"),n.next(!1)})}},{text:"Cancel",role:"cancel",handler:function(t){console.log(t)}},{text:"Ok",handler:function(r){e.getEPG(r.url,t).subscribe(function(t){n.next(t)})}}]}).present()})},t.prototype.clear=function(){var t=this;this.storage.listAll().then(function(e){e&&e.map(function(e){e.indexOf(t.epgPrefix)>-1&&t.storage.remove(e)})})},t.prototype.getEPG=function(t,e){var n=this;return new f.Observable(function(r){var i=n.loadingProvider.presentLoadingDefault("Generating EPG"),o=new RegExp(/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi);t.match(o)?n.downloadEPGFile(t).subscribe(function(t){if(t){var o=n.convertXmlToJson(t);n.storage.set(n.epgPrefix+e.toLowerCase(),o).then(function(){r.next(o),i.dismiss()}).catch(function(t){r.next(!1),i.dismiss()})}else i.dismiss()},function(t){i.dismiss(),r.next(!1)}):(i.dismiss(),r.next(!1))})},t.prototype.chooseFromRemoteEPGList=function(t){var e=this;return new f.Observable(function(n){var r=e.alertCtrl.create();r.setTitle("Select Site"),t.forEach(function(t){r.addInput({type:"radio",label:t.replace(".xml",""),value:t})}),r.addButton("Cancel"),r.addButton({text:"OK",handler:function(t){return r.dismiss(),n.next(t),!1}}),r.present()})},t.prototype.remove=function(t){var e=this;return new Promise(function(n,r){t||n({error:!0,message:"Invalid name provided"});var i=t.toLowerCase();e.storage.listAll().then(function(t){if(t)t.map(function(t){t==e.epgPrefix+i&&(e.storage.remove(t),n(!0))});else n({error:!0,message:"Error accessing store"})})})},t.prototype.getRemoteEPGList=function(){return this.http.get("https://mazarelo.com/iptv/epg/list.json")},t.prototype.addEpg=function(t){var e=this;return new f.Observable(function(n){e.promptForEPGFileUrl(t).subscribe(function(t){n.next(t||!1)})})},t.prototype.getCountryEPG=function(t){var e=this;return new f.Observable(function(n){e.storage.get(e.epgPrefix+t.toLowerCase()).then(function(t){var e;try{e=JSON.parse(t)}catch(t){console.log("ERROR PARSING JSON"),n.next(!1)}return e?(console.log("From store:",e),n.next(e)):n.next(!1)}).catch(function(t){n.next(!1)})})},t}(),L=function(){function t(t,e,n,r,i,o,a){this.navParams=t,this.navCtrl=e,this.favorites=n,this.epgProvider=r,this.toastProvider=i,this.platform=o,this.statusBar=a,this.channels=[],this.current=(new Date).getTime(),this.data=this.navParams.get("channels"),this.channels=this.data.slice(0,30)}return t.prototype.initializeItems=function(){this.channels=this.data},t.prototype.onInput=function(t){this.initializeItems();var e=t.target.value;e&&""!=e.trim()&&(this.channels=this.channels.filter(function(t){return t.tvName.toLowerCase().indexOf(e.toLowerCase())>-1}))},t.prototype.getCurrentEPGTimeBar=function(t){var e=new Date(t._stop).getTime(),n=new Date(t._start).getTime();return Math.floor(100*(this.current-n)/(e-n)).toString()+"%"},t.prototype.playChannel=function(t){this.navCtrl.push(C,{channel:t,list:this.data})},t}(),D=function(){function t(t,e,n,r,i,o,a,s,l,u){this.navParams=t,this.navCtrl=e,this.actionSheetCtrl=n,this.favorites=r,this.toastProvider=i,this.videoProvider=o,this.epgProvider=a,this.navController=s,this.platform=l,this.statusBar=u,this.activeElement=0,this.channels=[],this.current=(new Date).getTime(),this.data=this.navParams.get("channels"),this.title=this.navParams.get("title"),this.channels=this.data.slice(0,30),this.getCountryEpgList()}return t.prototype.onKeydownHandler=function(t){switch(t.preventDefault(),t.keyCode){case 40:this.goDownOnList();break;case 38:this.goUpOnList();break;case 13:this.playChannel(this.channels[this.activeElement]);break;case 27:case 8:this.navController.pop()}},t.prototype.goUpOnList=function(){if(0!=this.activeElement){this.activeElement=this.activeElement-1;document.querySelector(".item-"+this.activeElement).focus()}},t.prototype.goDownOnList=function(){if(this.activeElement!=this.channels.length+1){this.activeElement=this.activeElement+1;document.querySelector(".item-"+this.activeElement).focus()}},t.prototype.focusFirstElement=function(){document.querySelector(".item-0").focus()},t.prototype.playChannel=function(t){this.navCtrl.push(C,{channel:t,list:this.data})},t.prototype.getCountryEpgList=function(){var t=this;this.epgProvider.getCountryEPG(this.title).subscribe(function(e){if(e){var n=e;t.data.map(function(e,r){if(n.channel.filter(function(t){return t._id==e.id})){var i=n.programme.filter(function(n){return n._channel==e.id&&t.epgProvider.isEpdDateValid(n)});t.data[r].epg=i}}),console.log("CHANNELS:",t.channels)}else t.toastProvider.presentToast("Error fetching EPG list")})},t.prototype.doInfinite=function(t){for(var e=this.channels.length,n=this.channels.length;n<e+30;n++){if(!this.data[n])return t.complete();this.channels.push(this.data[n])}t.complete()},t.prototype.goToSearch=function(){this.navCtrl.push(L,{channels:this.data})},t.prototype.ionViewDidEnter=function(){},t}(),I=function(){function t(t,e,n,r,i,o,a,s,l,u){this.navCtrl=t,this.navParams=e,this.m3u8Provider=n,this.favoritesProvider=r,this.videoProvider=i,this.toasterProvider=o,this.loadingProvider=a,this.actionSheetCtrl=s,this.epgProvider=l,this.navController=u,this.data=null,this.countries=[],this.favorites=[],this.userPlaylists=[],this.title="",this.activeElement=0,this.playlist=this.navParams.get("data"),this.getDataFromPlaylist(this.playlist)}return t.prototype.keyEvents=function(t){switch(t.preventDefault(),t.keyCode){case 40:this.goDownOnList();break;case 38:this.goUpOnList();break;case 13:this.goToCountry(this.countries[this.activeElement]);break;case 27:case 8:this.navController.pop()}},t.prototype.goUpOnList=function(){if(!(this.activeElement<=0)){this.activeElement=this.activeElement-1,console.log("GO UP ON LIST",this.activeElement);var t=document.querySelector(".groups-item-"+this.activeElement);t&&t.focus()}},t.prototype.goDownOnList=function(){if(this.activeElement!=this.userPlaylists.length){this.activeElement=this.activeElement+1,console.log("GO DOWN ON LIST",this.activeElement);var t=document.querySelector(".groups-item-"+this.activeElement);t&&t.focus()}},t.prototype.getFlagUrL=function(t){return"assets/imgs/flags/"+t.toLowerCase().replace(" ","-")+".jpg"},t.prototype.goToCountry=function(t){this.navCtrl.push(D,{channels:this.playlist.data[t],playlist:this.playlist.name,title:t})},t.prototype.getDataFromPlaylist=function(t){this.title=t.name,t.data.countries&&(this.countries=t.data.countries)},t.prototype.loadOptions=function(t){var e=this;this.actionSheetCtrl.create({title:t.name+" options",subTitle:"",buttons:[{text:"Add EPG",icon:"add",handler:function(){e.epgProvider.addEpg(t.name).subscribe(function(t){e.toasterProvider.presentToast(t?"EPG added successfully":"Failed to add EPG")})}},{text:"Clear EPG data",icon:"trash",handler:function(){e.epgProvider.remove(t.name).then(function(t){e.toasterProvider.presentToast(t?"EPG removed successfully":"Failed to remove EPG")})}},{text:"Cancel",icon:"cross",role:"cancel",handler:function(){console.log("Cancel clicked")}}]}).present()},t.prototype.playChannel=function(t){this.videoProvider.start(t)},t.prototype.favoritesInCountry=function(t){return this.favorites.filter(function(e){return e.groupName==t})},t.prototype.ngOnInit=function(){},t.prototype.ionViewWillLeave=function(){},t.prototype.ionViewDidLoad=function(){},t}(),M=function(){function t(t,e,n,r,i){var o=this;this.navController=t,this.playlistProvider=e,this.actionSheetCtrl=n,this.epgProvider=r,this.alertCtrl=i,this.activeElement=0,this.allowKeyArrows=!0,this.countries=[],this.favorites=[],this.userPlaylists=[],this.editMode=!1,this.playlistProvider.list().subscribe(function(t){o.userPlaylists=t})}return t.prototype.keyEvents=function(t){if(console.log(t),this.allowKeyArrows)switch(t.preventDefault(),t.keyCode){case 40:this.goDownOnList();break;case 38:this.goUpOnList();break;case 13:this.activeElement!==this.userPlaylists.length?this.goToPlaylist(this.userPlaylists[this.activeElement]):this.addPlayList();break;case 27:case 8:this.navController.pop()}},t.prototype.goUpOnList=function(){if(0!=this.activeElement){this.activeElement=this.activeElement-1,console.log("GO UP ON LIST",this.activeElement);var t=document.querySelector(".home-item-"+this.activeElement);t&&t.focus()}},t.prototype.goDownOnList=function(){if(this.activeElement!=this.userPlaylists.length-1){this.activeElement=this.activeElement+1,console.log("GO DOWN ON LIST",this.activeElement);var t=document.querySelector(".home-item-"+this.activeElement);t&&t.focus()}},t.prototype.retrievePlaylists=function(){var t=this;this.playlistProvider.list().subscribe(function(e){e.err||(t.userPlaylists=e)})},t.prototype.goToPlaylist=function(t){this.editMode?this.promptDeleteConfirmation(t):this.navController.push(I,{data:t})},t.prototype.addPlayList=function(){var t=this;this.allowKeyArrows=!1,this.playlistProvider.add().subscribe(function(e){e.err||t.userPlaylists.push(e),t.allowKeyArrows=!0})},t.prototype.promptDeleteConfirmation=function(t){var e=this;this.alertCtrl.create({title:"Confirm Delete",message:'Do you want to delete "'+t.name+'" playlist?',buttons:[{text:"Cancel",role:"cancel",handler:function(){}},{text:"Delete",handler:function(){e.editMode=!1,e.deletePlaylist(t)}}]}).present()},t.prototype.loadPlaylistOptions=function(t){var e=this;this.actionSheetCtrl.create({title:t.name+" options",subTitle:"",buttons:[{text:"Delete Playlist",icon:"trash",handler:function(){e.promptDeleteConfirmation(t)}},{text:"Cancel",icon:"cross",role:"cancel",handler:function(){console.log("Cancel clicked")}}]}).present()},t.prototype.loadOptions=function(){var t=this;this.actionSheetCtrl.create({title:"",subTitle:"",buttons:[{text:"Add Playlist",icon:"add",handler:function(){t.addPlayList()}},{text:"Delete Playlist",icon:"trash",handler:function(){t.editMode=!0}},{text:"Cancel",icon:"cross",role:"cancel",handler:function(){console.log("Cancel clicked")}}]}).present()},t.prototype.deletePlaylist=function(t){var e=this;this.playlistProvider.remove(t).then(function(n){e.userPlaylists=e.userPlaylists.filter(function(e){return e.name!==t.name})})},t.prototype.ngOnInit=function(){this.focused.nativeElement.focus()},t.prototype.ionViewWillLeave=function(){},t.prototype.ionViewDidLoad=function(){},t}(),F=function(){function t(t,e,n,r,i){this.navCtrl=t,this.storage=e,this.toastProvider=n,this.fileChooser=r,this.m3u8Provider=i,this.settings={offlineUse:!1}}return t.prototype.refreshPlaylist=function(){var t=this;this.storage.remove("playlist").then(function(e){t.toastProvider.presentToast("Playlist refreshed")}).catch(function(e){t.toastProvider.presentToast("Error refreshing playlist")})},t.prototype.uploadPlaylist=function(){this.getPlayList()},t.prototype.getPlayList=function(){var t=this;this.m3u8Provider.getList("").subscribe(function(e){console.log("retrieve list method: ",e),e.err&&t.m3u8Provider.askPlaylistUrlOrFile().subscribe(function(t){console.log("Returned to GetPlayList()",t)})})},t.prototype.uploadPlaylistToApp=function(){var t=this;this.fileChooser.open().then(function(e){console.log("URL FILE",e),t.m3u8Provider.buildPlaylist(e).subscribe(function(e){t.toastProvider.presentToast(e?"New Playlist Added":"Error adding playlist")})}).catch(function(t){return console.log(t)})},t.prototype.cleanFavorites=function(){var t=this;this.storage.remove("favorites").then(function(e){t.toastProvider.presentToast("Favorites removed")}).catch(function(e){t.toastProvider.presentToast("error removing favorites")})},t.prototype.wipeAllData=function(){var t=this;this.storage.clear().then(function(e){t.toastProvider.presentToast("All Data wiped")})},t.prototype.cleanPlaylists=function(){var t=this;this.storage.keys().then(function(e){e.forEach(function(e){e.indexOf("iptv-playlist-")&&t.storage.remove("playlist")}),t.toastProvider.presentToast("Playlists removed")})},t}(),N=function(){function t(t,e,n,r){this.navCtrl=t,this.actionSheetCtrl=e,this.favorites=n,this.toastProvider=r,this.channels=[],this.data=[]}return t.prototype.presentActionSheet=function(t){var e=this;this.actionSheetCtrl.create({title:"Choose",buttons:[{text:"Play",icon:"arrow-dropright-circle",handler:function(){e.playChannel(e.channels[t].url)}},{text:"Remove from Favorites",icon:"heart-outline",handler:function(){e.favorites.remove(e.channels[t]).subscribe(function(t){if(!t)return e.toastProvider.presentToast("Could not remove from Favorites"),!1;e.channels=t,e.data=t,e.toastProvider.presentToast("Removed from Favorites")})}},{text:"Cancel",icon:"cross",role:"cancel",handler:function(){console.log("Cancel clicked")}}]}).present()},t.prototype.initializeItems=function(){this.channels=this.data},t.prototype.playChannel=function(t){this.navCtrl.push(C,{channel:t,list:this.data})},t.prototype.doInfinite=function(t){for(var e=this.channels.length,n=this.channels.length;n<e+30;n++){if(!this.data[n])return t.complete();this.channels.push(this.data[n])}t.complete()},t.prototype.doRefresh=function(t){var e=this;this.favorites.list().then(function(n){e.channels=n,e.data=n,t.complete()})},t.prototype.ngOnInit=function(){var t=this;this.favorites.list().then(function(e){t.channels=e,t.data=e})},t}(),U=function(){function t(t,e,n,r,i,o){this.platform=t,this.statusBar=e,this.splashScreen=n,this.modalCtrl=r,this.app=i,this.alertCtrl=o,this.rootPage=M,this.initializeApp(),this.pages=[{title:"Home",component:M,icon:"list"},{title:"Favorites",component:N,icon:"heart-outline"},{title:"Settings",component:F,icon:"settings"}]}return t.prototype.initializeApp=function(){var t=this;this.platform.ready().then(function(){t.statusBar.backgroundColorByHexString("#43738d");t.modalCtrl.create(u).present()})},t.prototype.backButtonInit=function(){var t=this;this.platform.registerBackButtonAction(function(){var e=t.app.getActiveNavs()[0];if("FirstPage"===e.getActive().name)if(e.canGoBack())e.pop();else{t.alertCtrl.create({title:"App termination",message:"Do you want to close the app?",buttons:[{text:"Cancel",role:"cancel",handler:function(){console.log("Application exit prevented!")}},{text:"Close App",handler:function(){t.platform.exitApp()}}]}).present()}})},t.prototype.openPage=function(t){this.nav.setRoot(t.component)},t}(),B=function(){return function(){this.tab1Root=M,this.tab2Root=N,this.tab3Root=F}}(),G=n(206),Y=n(207),H=n(208),V=n(209),z=function(){function t(){}return t.prototype.validateFile=function(){},t.prototype.parseM3uOptionsFile=function(t){var e={},n=null;return t.split("\n").forEach(function(t,r){if(0==r||t.length<1)return!1;if(null==t.match(/ tvg-name="([^"]*)"/)&&t.indexOf("http")>-1){return e[n][e[n].length-1].url=t.toString().replace("\r",""),!1}var i={};(t=t.replace("#EXTINF:-1 ","").split(",")[0]).match(/(\S+)=["']?((?:.(?!["']?\s+(?:\S+)=|[>"']))+.)["']?/g).forEach(function(t){var e=t.split("=");e[1]=e[1].replace(/"/g,""),i[e[0]]=e[1]});var o={tvId:i["tvg-id"],groupName:i["group-title"],tvLogo:i["tvg-logo"],tvName:i["tvg-name"]};if(o.groupName){var a=o.groupName;n=a,e[a]?e[a].push(o):(e[a]=[],e[a].push(o),e.countries||(e.countries=[]),e.countries.push({name:a,channels:null,image:null}))}}),e.countries.map(function(t){t.channels=e[t.name].length}),e},t}(),W=(n(202),function(){function t(t,e,n,r){this.navCtrl=t,this.actionSheetCtrl=e,this.favorites=n,this.toastProvider=r,this.goToPlayChannel=new i.l,this.current=(new Date).getTime()}return t.prototype.playChannel=function(t){this.goToPlayChannel.emit(this.channel)},t.prototype.getCurrentEPGTimeBar=function(t){var e=new Date(t._stop).getTime(),n=new Date(t._start).getTime();return Math.floor(100*(this.current-n)/(e-n)).toString()+"%"},t.prototype.itemOptions=function(t){var e=this,n=this.channel;this.actionSheetCtrl.create({title:n.tvName,subTitle:n.tvGroup,buttons:[{text:"Play",icon:"arrow-dropright-circle",handler:function(){e.playChannel(n)}},{text:"Add to Favorites",icon:"heart-outline",handler:function(){e.favorites.add(n).subscribe(function(t){if(!t)return e.toastProvider.presentToast("Could not add to Favorites"),!1;e.toastProvider.presentToast("Added to Favorites")})}},{text:"Cancel",icon:"cross",role:"cancel",handler:function(){console.log("Cancel clicked")}}]}).present()},t.prototype.ngOnInit=function(){this.channel=this.obj,console.log("FROM ITEM",this.channel,this.index)},t.prototype.ngOnDestroy=function(){},t}()),q=function(t){Object(o.__extends)(e,t);function e(e,n,r,i,o){var a=t.call(this,e,n,r,i,o)||this;return a.__elementRef=e,a.__content=i,a}return Object.defineProperty(e.prototype,"top",{get:function(){return this._rect=this.__elementRef.nativeElement.getBoundingClientRect(),this._rect.top+this.__content.scrollTop-this.__content._cTop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this._rect=this.__elementRef.nativeElement.getBoundingClientRect(),this._rect.bottom+this.__content.scrollTop-this.__content._cTop},enumerable:!0,configurable:!0}),e=Object(o.__decorate)([Object(o.__param)(3,Object(i.v)())],e)}(a.a),Z=function(){return function(){}}(),K=n(68),X=n(253),$=n(254),J=n(255),Q=n(256),tt=n(257),et=n(258),nt=n(259),rt=n(260),it=n(261),ot=n(109),at=n(22),st=n(19),lt=n(2),ut=n(48),ct=n(56),dt=n(124),ft=n(20),ht=n(23),pt=n(210),vt=n(31),gt=n(72),yt=n(18),mt=n(8),_t=n(6),bt=n(7),Tt=n(39),Et=n(5),wt=n(78),kt=n(28),St=n(64),Ot=n(41),jt=n(27),Ct=n(25),Rt=n(14),xt=n(38),Pt=n(40),At=n(42),Lt=n(15),Dt=n(13),It=n(35),Mt=n(10),Ft=n(211),Nt=n(57),Ut=n(30),Bt=n(17),Gt=n(95),Yt=i.X({encapsulation:2,styles:[],data:{}});function Ht(t){return i._22(0,[(t()(),i.Z(0,0,null,null,10,"ion-item",[["class","item item-block"],["ion-item",""],["menuClose",""]],null,[[null,"click"]],function(t,e,n){var r=!0,o=t.component;if("click"===e){r=!1!==i._13(t,6).close()&&r}if("click"===e){r=!1!==o.openPage(t.context.$implicit)&&r}return r},ot.b,ot.a)),i.Y(1,1097728,null,3,at.a,[st.a,lt.a,i.j,i.z,[2,ut.a]],null,null),i._18(335544320,5,{contentLabel:0}),i._18(603979776,6,{_buttons:1}),i._18(603979776,7,{_icons:1}),i.Y(5,16384,null,0,ct.a,[],null,null),i.Y(6,16384,null,0,dt.a,[ft.a],{menuClose:[0,"menuClose"]},null),(t()(),i._20(-1,2,["\n            "])),(t()(),i.Z(8,0,null,0,1,"ion-icon",[["item-start",""],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(9,147456,[[7,4]],0,ht.a,[lt.a,i.j,i.z],{name:[0,"name"]},null),(t()(),i._20(10,2,["\n            ","\n          "]))],function(t,e){t(e,6,0,"");t(e,9,0,i._2(1,"",e.context.$implicit.icon,""))},function(t,e){t(e,8,0,i._13(e,9)._hidden);t(e,10,0,e.context.$implicit.title)})}function Vt(t){return i._22(0,[i._18(402653184,1,{nav:0}),(t()(),i.Z(1,0,null,null,38,"ion-menu",[["role","navigation"]],null,null,null,pt.b,pt.a)),i._17(6144,null,vt.a,null,[gt.a]),i.Y(3,245760,null,2,gt.a,[ft.a,i.j,lt.a,k.a,i.z,yt.a,mt.l,_t.a,bt.a],{content:[0,"content"]},null),i._18(335544320,2,{menuContent:0}),i._18(335544320,3,{menuNav:0}),(t()(),i._20(-1,0,["\n    "])),(t()(),i.Z(7,0,null,0,20,"ion-header",[],null,null,null,null,null)),i.Y(8,16384,null,0,Tt.a,[lt.a,i.j,i.z,[2,Et.a]],null,null),(t()(),i._20(-1,null,["\n      "])),(t()(),i.Z(10,0,null,null,16,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,wt.b,wt.a)),i.Y(11,49152,null,0,kt.a,[lt.a,i.j,i.z],null,null),(t()(),i._20(-1,3,["\n        "])),(t()(),i.Z(13,0,null,3,2,"ion-title",[],null,null,null,St.b,St.a)),i.Y(14,49152,null,0,Ot.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),(t()(),i._20(-1,0,["IPTV"])),(t()(),i._20(-1,3,["\n        "])),(t()(),i.Z(17,0,null,0,8,"button",[["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==i._13(t,19).toggle()&&r}return r},Ct.b,Ct.a)),i.Y(18,1097728,[[4,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],null,null),i.Y(19,1064960,null,0,xt.a,[ft.a,[2,Et.a],[2,Rt.a],[2,jt.a]],{menuToggle:[0,"menuToggle"]},null),i.Y(20,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,4,{_buttons:1}),(t()(),i._20(-1,0,["\n            "])),(t()(),i.Z(23,0,null,0,1,"ion-icon",[["name","close"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(24,147456,null,0,ht.a,[lt.a,i.j,i.z],{name:[0,"name"]},null),(t()(),i._20(-1,0,["\n        "])),(t()(),i._20(-1,3,["\n      "])),(t()(),i._20(-1,null,["\n    "])),(t()(),i._20(-1,0,["\n  \n    "])),(t()(),i.Z(29,0,null,0,9,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,At.b,At.a)),i.Y(30,4374528,[[2,4]],0,Lt.a,[lt.a,k.a,_t.a,i.j,i.z,bt.a,yt.a,i.u,[2,Et.a],[2,Dt.a]],null,null),(t()(),i._20(-1,1,["\n      "])),(t()(),i.Z(32,0,null,1,5,"ion-list",[],null,null,null,null,null)),i.Y(33,16384,null,0,It.a,[lt.a,i.j,i.z,k.a,mt.l,_t.a],null,null),(t()(),i._20(-1,null,["\n          "])),(t()(),i.U(16777216,null,null,1,null,Ht)),i.Y(36,802816,null,0,Mt.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(t()(),i._20(-1,null,["\n      "])),(t()(),i._20(-1,1,["\n    "])),(t()(),i._20(-1,0,["\n  \n  "])),(t()(),i._20(-1,null,["\n  \n  "])),(t()(),i._20(-1,null,["\n  "])),(t()(),i.Z(42,0,null,null,2,"ion-nav",[["swipeBackEnabled","false"]],null,null,null,Ft.b,Ft.a)),i._17(6144,null,vt.a,null,[Nt.a]),i.Y(44,4374528,[[1,4],["content",4]],0,Nt.a,[[2,Et.a],[2,Dt.a],bt.a,lt.a,k.a,i.j,i.u,i.z,i.i,mt.l,Ut.a,[2,Bt.a],_t.a,i.k],{swipeBackEnabled:[0,"swipeBackEnabled"],root:[1,"root"]},null)],function(t,e){var n=e.component;t(e,3,0,i._13(e,44));t(e,19,0,"");t(e,24,0,"close");t(e,36,0,n.pages);t(e,44,0,"false",n.rootPage)},function(t,e){t(e,10,0,i._13(e,11)._sbPadding);t(e,17,0,i._13(e,19).isHidden);t(e,23,0,i._13(e,24)._hidden);t(e,29,0,i._13(e,30).statusbarPadding,i._13(e,30)._hasRefresher)})}var zt=i.V("ng-component",U,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"ng-component",[],null,null,null,Vt,Yt)),i.Y(1,49152,null,0,U,[k.a,s.a,l.a,Gt.a,bt.a,O.a],null,null)],null,null)},{},{},[]),Wt=n(79),qt=n(54),Zt=n(262),Kt=n(105),Xt=n(34),$t=n(21),Jt=n(144),Qt=i.X({encapsulation:2,styles:[],data:{}});function te(t){return i._22(0,[(t()(),i.Z(0,0,null,null,20,"ion-header",[],null,null,null,null,null)),i.Y(1,16384,null,0,Tt.a,[lt.a,i.j,i.z,[2,Et.a]],null,null),(t()(),i._20(-1,null,["\n    "])),(t()(),i.Z(3,0,null,null,16,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Wt.b,Wt.a)),i.Y(4,49152,null,0,jt.a,[bt.a,[2,Et.a],[2,Dt.a],lt.a,i.j,i.z],null,null),(t()(),i._20(-1,3,["\n        "])),(t()(),i.Z(6,0,null,3,2,"ion-title",[],null,null,null,St.b,St.a)),i.Y(7,49152,null,0,Ot.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),(t()(),i._20(-1,0,["\n            Settings\n        "])),(t()(),i._20(-1,3,["\n        "])),(t()(),i.Z(10,0,null,0,8,"button",[["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==i._13(t,12).toggle()&&r}return r},Ct.b,Ct.a)),i.Y(11,1097728,[[1,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],null,null),i.Y(12,1064960,null,0,xt.a,[ft.a,[2,Et.a],[2,Rt.a],[2,jt.a]],{menuToggle:[0,"menuToggle"]},null),i.Y(13,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,1,{_buttons:1}),(t()(),i._20(-1,0,["\n      "])),(t()(),i.Z(16,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(17,147456,null,0,ht.a,[lt.a,i.j,i.z],{name:[0,"name"]},null),(t()(),i._20(-1,0,["\n    "])),(t()(),i._20(-1,3,["\n    "])),(t()(),i._20(-1,null,["\n"])),(t()(),i._20(-1,null,["\n\n"])),(t()(),i.Z(22,0,null,null,93,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,At.b,At.a)),i.Y(23,4374528,null,0,Lt.a,[lt.a,k.a,_t.a,i.j,i.z,bt.a,yt.a,i.u,[2,Et.a],[2,Dt.a]],null,null),(t()(),i._20(-1,1,["\n\n    "])),(t()(),i.Z(25,0,null,1,21,"ion-list",[],null,null,null,null,null)),i.Y(26,16384,null,0,It.a,[lt.a,i.j,i.z,k.a,mt.l,_t.a],null,null),(t()(),i._20(-1,null,["\n        "])),(t()(),i.Z(28,0,null,null,17,"ion-item",[["class","item item-block"]],null,null,null,ot.b,ot.a)),i.Y(29,1097728,null,3,at.a,[st.a,lt.a,i.j,i.z,[2,ut.a]],null,null),i._18(335544320,2,{contentLabel:0}),i._18(603979776,3,{_buttons:1}),i._18(603979776,4,{_icons:1}),i.Y(33,16384,null,0,ct.a,[],null,null),(t()(),i._20(-1,2,["\n            "])),(t()(),i.Z(35,0,null,1,2,"ion-label",[],null,null,null,null,null)),i.Y(36,16384,[[2,4]],0,qt.a,[lt.a,i.j,i.z,[8,null],[8,null],[8,null],[8,null]],null,null),(t()(),i._20(-1,null,["Offline use"])),(t()(),i._20(-1,2,["\n            "])),(t()(),i.Z(39,0,null,4,5,"ion-toggle",[["checked","false"]],[[2,"toggle-disabled",null],[2,"toggle-checked",null],[2,"toggle-activated",null],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"keyup"]],function(t,e,n){var r=!0,o=t.component;if("keyup"===e){r=!1!==i._13(t,40)._keyup(n)&&r}if("ngModelChange"===e){r=!1!==(o.offlineData=n)&&r}return r},Zt.b,Zt.a)),i.Y(40,1228800,null,0,Kt.a,[st.a,lt.a,k.a,i.j,i.z,Xt.a,[2,at.a],mt.l,_t.a,i.u],{checked:[0,"checked"]},null),i._17(1024,null,$t.e,function(t){return[t]},[Kt.a]),i.Y(42,671744,null,0,$t.h,[[8,null],[8,null],[8,null],[2,$t.e]],{model:[0,"model"]},{update:"ngModelChange"}),i._17(2048,null,$t.f,null,[$t.h]),i.Y(44,16384,null,0,$t.g,[$t.f],null,null),(t()(),i._20(-1,2,["\n        "])),(t()(),i._20(-1,null,["\n    "])),(t()(),i._20(-1,1,["\n\n    "])),(t()(),i.Z(48,0,null,1,26,"ion-list",[],null,null,null,null,null)),i.Y(49,16384,null,0,It.a,[lt.a,i.j,i.z,k.a,mt.l,_t.a],null,null),(t()(),i._20(-1,null,["\n\n        "])),(t()(),i.Z(51,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ot.b,ot.a)),i.Y(52,1097728,null,3,at.a,[st.a,lt.a,i.j,i.z,[2,ut.a]],null,null),i._18(335544320,5,{contentLabel:0}),i._18(603979776,6,{_buttons:1}),i._18(603979776,7,{_icons:1}),i.Y(56,16384,null,0,ct.a,[],null,null),(t()(),i._20(-1,2,["\n            Playlist\n            "])),(t()(),i.Z(58,0,null,4,2,"button",[["ion-button",""],["item-end",""],["outline",""]],null,[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.refreshPlaylist()&&r}return r},Ct.b,Ct.a)),i.Y(59,1097728,[[6,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],{outline:[0,"outline"]},null),(t()(),i._20(-1,0,["Refresh"])),(t()(),i._20(-1,2,["\n        "])),(t()(),i._20(-1,null,["\n        "])),(t()(),i.Z(63,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ot.b,ot.a)),i.Y(64,1097728,null,3,at.a,[st.a,lt.a,i.j,i.z,[2,ut.a]],null,null),i._18(335544320,8,{contentLabel:0}),i._18(603979776,9,{_buttons:1}),i._18(603979776,10,{_icons:1}),i.Y(68,16384,null,0,ct.a,[],null,null),(t()(),i._20(-1,2,["\n            m3u8 Url\n            "])),(t()(),i.Z(70,0,null,4,2,"button",[["ion-button",""],["item-end",""],["outline",""]],null,[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.uploadPlaylist()&&r}return r},Ct.b,Ct.a)),i.Y(71,1097728,[[9,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],{outline:[0,"outline"]},null),(t()(),i._20(-1,0,["Upload"])),(t()(),i._20(-1,2,["\n        "])),(t()(),i._20(-1,null,["\n    "])),(t()(),i._20(-1,1,["\n\n    "])),(t()(),i.Z(76,0,null,1,38,"ion-list",[],null,null,null,null,null)),i.Y(77,16384,null,0,It.a,[lt.a,i.j,i.z,k.a,mt.l,_t.a],null,null),(t()(),i._20(-1,null,["\n        "])),(t()(),i.Z(79,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ot.b,ot.a)),i.Y(80,1097728,null,3,at.a,[st.a,lt.a,i.j,i.z,[2,ut.a]],null,null),i._18(335544320,11,{contentLabel:0}),i._18(603979776,12,{_buttons:1}),i._18(603979776,13,{_icons:1}),i.Y(84,16384,null,0,ct.a,[],null,null),(t()(),i._20(-1,2,["\n            Favorites\n            "])),(t()(),i.Z(86,0,null,4,2,"button",[["color","danger"],["ion-button",""],["item-end",""],["outline",""]],null,[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.cleanFavorites()&&r}return r},Ct.b,Ct.a)),i.Y(87,1097728,[[12,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],{color:[0,"color"],outline:[1,"outline"]},null),(t()(),i._20(-1,0,["Delete"])),(t()(),i._20(-1,2,["\n        "])),(t()(),i._20(-1,null,["\n\n        "])),(t()(),i.Z(91,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ot.b,ot.a)),i.Y(92,1097728,null,3,at.a,[st.a,lt.a,i.j,i.z,[2,ut.a]],null,null),i._18(335544320,14,{contentLabel:0}),i._18(603979776,15,{_buttons:1}),i._18(603979776,16,{_icons:1}),i.Y(96,16384,null,0,ct.a,[],null,null),(t()(),i._20(-1,2,["\n            Cache\n            "])),(t()(),i.Z(98,0,null,4,2,"button",[["color","danger"],["ion-button",""],["item-end",""],["outline",""]],null,[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.cleanPlaylists()&&r}return r},Ct.b,Ct.a)),i.Y(99,1097728,[[15,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],{color:[0,"color"],outline:[1,"outline"]},null),(t()(),i._20(-1,0,["Delete"])),(t()(),i._20(-1,2,["\n        "])),(t()(),i._20(-1,null,["\n\n        "])),(t()(),i.Z(103,0,null,null,10,"ion-item",[["class","item item-block"]],null,null,null,ot.b,ot.a)),i.Y(104,1097728,null,3,at.a,[st.a,lt.a,i.j,i.z,[2,ut.a]],null,null),i._18(335544320,17,{contentLabel:0}),i._18(603979776,18,{_buttons:1}),i._18(603979776,19,{_icons:1}),i.Y(108,16384,null,0,ct.a,[],null,null),(t()(),i._20(-1,2,["\n            Wipe data\n            "])),(t()(),i.Z(110,0,null,4,2,"button",[["color","danger"],["ion-button",""],["item-end",""],["outline",""]],null,[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.wipeAllData()&&r}return r},Ct.b,Ct.a)),i.Y(111,1097728,[[18,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],{color:[0,"color"],outline:[1,"outline"]},null),(t()(),i._20(-1,0,["wipe"])),(t()(),i._20(-1,2,["\n        "])),(t()(),i._20(-1,null,["\n\n    "])),(t()(),i._20(-1,1,["\n"]))],function(t,e){var n=e.component;t(e,12,0,"");t(e,17,0,"menu");t(e,40,0,"false");t(e,42,0,n.offlineData);t(e,59,0,"");t(e,71,0,"");t(e,87,0,"danger","");t(e,99,0,"danger","");t(e,111,0,"danger","")},function(t,e){t(e,3,0,i._13(e,4)._hidden,i._13(e,4)._sbPadding);t(e,10,0,i._13(e,12).isHidden);t(e,16,0,i._13(e,17)._hidden);t(e,22,0,i._13(e,23).statusbarPadding,i._13(e,23)._hasRefresher);t(e,39,0,i._13(e,40)._disabled,i._13(e,40)._value,i._13(e,40)._activated,i._13(e,44).ngClassUntouched,i._13(e,44).ngClassTouched,i._13(e,44).ngClassPristine,i._13(e,44).ngClassDirty,i._13(e,44).ngClassValid,i._13(e,44).ngClassInvalid,i._13(e,44).ngClassPending)})}var ee=i.V("page-settings",F,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"page-settings",[],null,null,null,te,Qt)),i.Y(1,49152,null,0,F,[Dt.a,Jt.a,b,p.a,y],null,null)],null,null)},{},{},[]),ne=i.X({encapsulation:2,styles:[],data:{}});function re(t){return i._22(0,[(t()(),i.Z(0,0,null,null,0,"img",[],null,null,null,null,null))],null,null)}var ie=n(135),oe=n(32),ae=i.X({encapsulation:2,styles:[],data:{}});function se(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"virtual-ion-img",[],null,null,null,re,ne)),i.Y(1,1228800,null,0,q,[i.j,i.z,k.a,[2,Lt.a],_t.a],{src:[0,"src"],cache:[1,"cache"]},null)],function(t,e){t(e,1,0,e.component.channel.tvLogo,!0)},null)}function le(t){return i._22(0,[(t()(),i.Z(0,0,null,null,20,"div",[],null,null,null,null,null)),(t()(),i._20(-1,null,["\n            "])),(t()(),i.Z(2,0,null,null,4,"p",[],null,null,null,null,null)),(t()(),i._20(-1,null,["\n              "])),(t()(),i.Z(4,0,null,null,1,"ion-icon",[["name","information-circle"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(5,147456,[[3,4]],0,ht.a,[lt.a,i.j,i.z],{name:[0,"name"]},null),(t()(),i._20(6,null,[" ","\n            "])),(t()(),i._20(-1,null,["\n            "])),(t()(),i.Z(8,0,null,null,0,"div",[["class","timeline"]],[[4,"width",null]],null,null,null,null)),(t()(),i._20(-1,null,["\n            "])),(t()(),i.Z(10,0,null,null,9,"p",[["class","epg-hours"]],null,null,null,null,null)),(t()(),i._20(-1,null,["\n                "])),(t()(),i.Z(12,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),i._20(13,null,["",""])),i._16(14,2),(t()(),i._20(-1,null,["\n                -\n                "])),(t()(),i.Z(16,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),i._20(17,null,["",""])),i._16(18,2),(t()(),i._20(-1,null,["\n              "])),(t()(),i._20(-1,null,["\n          "]))],function(t,e){t(e,5,0,"information-circle")},function(t,e){var n=e.component;t(e,4,0,i._13(e,5)._hidden);t(e,6,0,e.context.$implicit.title.__text);t(e,8,0,n.getCurrentEPGTimeBar(e.context.$implicit));t(e,13,0,i._21(e,13,0,t(e,14,0,i._13(e.parent.parent.parent,0),e.context.$implicit._start,"shortTime")));t(e,17,0,i._21(e,17,0,t(e,18,0,i._13(e.parent.parent.parent,0),e.context.$implicit._stop,"shortTime")))})}function ue(t){return i._22(0,[(t()(),i.Z(0,0,null,null,4,"div",[["class","epg"]],null,null,null,null,null)),(t()(),i._20(-1,null,["\n          "])),(t()(),i.U(16777216,null,null,1,null,le)),i.Y(3,802816,null,0,Mt.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(t()(),i._20(-1,null,["\n      "]))],function(t,e){t(e,3,0,e.component.channel.epg)},null)}function ce(t){return i._22(0,[(t()(),i.Z(0,0,null,null,22,"ion-item",[["aria-checked","true"],["class","item item-block"],["tappable",""]],[[8,"tabIndex",0]],[[null,"press"],[null,"tap"]],function(t,e,n){var r=!0,i=t.component;if("press"===e){r=!1!==i.itemOptions(i.i)&&r}if("tap"===e){r=!1!==i.playChannel(i.channel)&&r}return r},ot.b,ot.a)),i.Y(1,278528,null,0,Mt.h,[i.p,i.q,i.j,i.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i._15(2,{active:0}),i.Y(3,1097728,null,3,at.a,[st.a,lt.a,i.j,i.z,[2,ut.a]],null,null),i._18(335544320,1,{contentLabel:0}),i._18(603979776,2,{_buttons:1}),i._18(603979776,3,{_icons:1}),i.Y(7,16384,null,0,ct.a,[],null,null),(t()(),i._20(-1,2,["\n      "])),(t()(),i.Z(9,0,null,0,6,"ion-thumbnail",[["item-start",""]],null,null,null,null,null)),i.Y(10,16384,null,0,ie.a,[],null,null),(t()(),i._20(-1,null,["\n        "])),(t()(),i.U(16777216,null,null,1,null,se)),i.Y(13,16384,null,0,Mt.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(t()(),i._20(-1,null,["\n        "])),(t()(),i._20(-1,null,["\n      "])),(t()(),i._20(-1,2,["\n      "])),(t()(),i.Z(17,0,null,2,1,"h2",[],null,null,null,null,null)),(t()(),i._20(18,null,["",""])),(t()(),i._20(-1,2,["\n      "])),(t()(),i.U(16777216,null,2,1,null,ue)),i.Y(21,16384,null,0,Mt.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(t()(),i._20(-1,2,["\n"]))],function(t,e){var n=e.component;t(e,1,0,i._2(1,"items-template item-",n.index,""),t(e,2,0,n.channel.active));t(e,13,0,n.channel.tvLogo);t(e,21,0,n.channel.epg)},function(t,e){var n=e.component;t(e,0,0,i._2(1,"",n.index,""));t(e,18,0,n.channel.tvName)})}function de(t){return i._22(0,[i._14(0,Mt.d,[i.r]),(t()(),i.U(16777216,null,null,1,null,ce)),i.Y(2,16384,null,0,Mt.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.channel)},null)}var fe=i.V("feed-item",W,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"feed-item",[],null,null,null,de,ae)),i.Y(1,245760,null,0,W,[Dt.a,oe.a,E,b],null,null)],function(t,e){t(e,1,0)},null)},{obj:"obj",index:"index"},{goToPlayChannel:"goToPlayChannel"},[]),he=n(74),pe=n(263),ve=n(98),ge=n(51),ye=n(148),me=n(55),_e=i.X({encapsulation:2,styles:[],data:{}});function be(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"feed-item",[],null,[[null,"goToPlayChannel"]],function(t,e,n){var r=!0;if("goToPlayChannel"===e){r=!1!==t.component.playItem(n)&&r}return r},de,ae)),i.Y(1,245760,null,0,W,[Dt.a,oe.a,E,b],{obj:[0,"obj"],index:[1,"index"]},{goToPlayChannel:"goToPlayChannel"})],function(t,e){t(e,1,0,e.context.$implicit,e.context.index)},null)}function Te(t){return i._22(0,[(t()(),i.Z(0,0,null,null,20,"ion-header",[],null,null,null,null,null)),i.Y(1,16384,null,0,Tt.a,[lt.a,i.j,i.z,[2,Et.a]],null,null),(t()(),i._20(-1,null,["\n  "])),(t()(),i.Z(3,0,null,null,16,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Wt.b,Wt.a)),i.Y(4,49152,null,0,jt.a,[bt.a,[2,Et.a],[2,Dt.a],lt.a,i.j,i.z],null,null),(t()(),i._20(-1,3,["\n    "])),(t()(),i.Z(6,0,null,3,2,"ion-title",[],null,null,null,St.b,St.a)),i.Y(7,49152,null,0,Ot.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),(t()(),i._20(-1,0,["Favorites"])),(t()(),i._20(-1,3,["\n    "])),(t()(),i.Z(10,0,null,0,8,"button",[["ion-button",""],["menuToggle",""]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==i._13(t,12).toggle()&&r}return r},Ct.b,Ct.a)),i.Y(11,1097728,[[1,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],null,null),i.Y(12,1064960,null,0,xt.a,[ft.a,[2,Et.a],[2,Rt.a],[2,jt.a]],{menuToggle:[0,"menuToggle"]},null),i.Y(13,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,1,{_buttons:1}),(t()(),i._20(-1,0,["\n      "])),(t()(),i.Z(16,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(17,147456,null,0,ht.a,[lt.a,i.j,i.z],{name:[0,"name"]},null),(t()(),i._20(-1,0,["\n    "])),(t()(),i._20(-1,3,["\n  "])),(t()(),i._20(-1,null,["\n"])),(t()(),i._20(-1,null,["\n"])),(t()(),i.Z(22,0,null,null,25,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,At.b,At.a)),i.Y(23,4374528,null,0,Lt.a,[lt.a,k.a,_t.a,i.j,i.z,bt.a,yt.a,i.u,[2,Et.a],[2,Dt.a]],null,null),(t()(),i._20(-1,1,["\n    "])),(t()(),i.Z(25,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(t,e,n){var r=!0;if("ionRefresh"===e){r=!1!==t.component.doRefresh(n)&&r}return r},null,null)),i.Y(26,212992,null,0,he.a,[k.a,Lt.a,i.u,mt.l],null,{ionRefresh:"ionRefresh"}),(t()(),i._20(-1,null,["\n        "])),(t()(),i.Z(28,0,null,null,2,"ion-refresher-content",[["pullingText","Pull to refresh"],["refreshingSpinner","circles"],["refreshingText","Refreshing..."]],[[1,"state",0]],null,null,pe.b,pe.a)),i.Y(29,114688,null,0,ve.a,[he.a,lt.a],{pullingText:[0,"pullingText"],refreshingSpinner:[1,"refreshingSpinner"],refreshingText:[2,"refreshingText"]},null),(t()(),i._20(-1,null,["\n        "])),(t()(),i._20(-1,null,["\n      "])),(t()(),i._20(-1,1,["\n\n   "])),(t()(),i._20(-1,1,["\n  "])),(t()(),i.Z(34,0,null,1,5,"ion-list",[],null,null,null,null,null)),i.Y(35,16384,null,0,It.a,[lt.a,i.j,i.z,k.a,mt.l,_t.a],null,null),(t()(),i._20(-1,null,["\n    "])),(t()(),i.U(16777216,null,null,1,null,be)),i.Y(38,802816,null,0,Mt.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(t()(),i._20(-1,null,["\n  "])),(t()(),i._20(-1,1,["\n  "])),(t()(),i.Z(41,0,null,1,5,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],function(t,e,n){var r=!0;if("ionInfinite"===e){r=!1!==t.component.doInfinite(n)&&r}return r},null,null)),i.Y(42,1196032,null,0,ge.a,[Lt.a,i.u,i.j,_t.a],null,{ionInfinite:"ionInfinite"}),(t()(),i._20(-1,null,["\n      "])),(t()(),i.Z(44,0,null,null,1,"ion-infinite-scroll-content",[],[[1,"state",0]],null,null,ye.b,ye.a)),i.Y(45,114688,null,0,me.a,[ge.a,lt.a],null,null),(t()(),i._20(-1,null,["\n  "])),(t()(),i._20(-1,1,["\n"])),(t()(),i._20(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,12,0,"");t(e,17,0,"menu"),t(e,26,0);t(e,29,0,"Pull to refresh","circles","Refreshing...");t(e,38,0,n.channels),t(e,45,0)},function(t,e){t(e,3,0,i._13(e,4)._hidden,i._13(e,4)._sbPadding);t(e,10,0,i._13(e,12).isHidden);t(e,16,0,i._13(e,17)._hidden);t(e,22,0,i._13(e,23).statusbarPadding,i._13(e,23)._hasRefresher);t(e,25,0,"inactive"!==i._13(e,26).state,i._13(e,26)._top);t(e,28,0,i._13(e,29).r.state);t(e,44,0,i._13(e,45).inf.state)})}var Ee=i.V("page-favorites",N,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"page-favorites",[],null,null,null,Te,_e)),i.Y(1,114688,null,0,N,[Dt.a,oe.a,E,b],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),we=n(88),ke=n(84),Se=n(89),Oe=n(90),je=i.X({encapsulation:2,styles:[],data:{}});function Ce(t){return i._22(0,[(t()(),i.Z(0,0,null,null,14,"ion-col",[["class","col"],["col-12",""],["col-lg-3",""],["col-md-4",""],["col-xl-2",""]],null,null,null,null,null)),i.Y(1,16384,null,0,we.a,[],null,null),(t()(),i._20(-1,null,["\n        "])),(t()(),i.Z(3,0,null,null,10,"ion-card",[["aria-checked","true"],["tabindex","-1"]],null,[[null,"tap"],[null,"press"]],function(t,e,n){var r=!0,i=t.component;if("tap"===e){r=!1!==i.goToPlaylist(t.context.$implicit)&&r}if("press"===e){r=!1!==i.loadPlaylistOptions(t.context.$implicit)&&r}return r},null,null)),i.Y(4,278528,null,0,Mt.h,[i.p,i.q,i.j,i.A],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),i._15(5,{editable:0}),i.Y(6,16384,null,0,ke.a,[lt.a,i.j,i.z],null,null),(t()(),i._20(-1,null,["\n            "])),(t()(),i.Z(8,0,null,null,0,"div",[["class","image-overlay"]],null,null,null,null,null)),(t()(),i._20(-1,null,["\n            "])),(t()(),i.Z(10,0,null,null,1,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),i._20(11,null,["",""])),(t()(),i._20(-1,null,["\n            "])),(t()(),i._20(-1,null,["\n        "])),(t()(),i._20(-1,null,["\n      "]))],function(t,e){var n=e.component;t(e,4,0,i._2(1,"home-item-",e.context.index,""),t(e,5,0,n.editMode))},function(t,e){t(e,11,0,e.context.$implicit.name)})}function Re(t){return i._22(0,[(t()(),i.Z(0,0,null,null,14,"ion-col",[["class","col"],["col-12",""],["col-lg-3",""],["col-md-4",""],["col-xl-2",""]],null,null,null,null,null)),i.Y(1,16384,null,0,we.a,[],null,null),(t()(),i._20(-1,null,["\n        "])),(t()(),i.Z(3,0,null,null,10,"ion-card",[["tabindex","1"]],[[8,"className",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==t.component.addPlayList()&&r}return r},null,null)),i.Y(4,16384,null,0,ke.a,[lt.a,i.j,i.z],null,null),(t()(),i._20(-1,null,["\n          "])),(t()(),i.Z(6,0,null,null,0,"div",[["class","image-overlay"]],null,null,null,null,null)),(t()(),i._20(-1,null,["\n          "])),(t()(),i.Z(8,0,null,null,1,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),i._20(-1,null,["+"])),(t()(),i._20(-1,null,["\n          "])),(t()(),i.Z(11,0,null,null,1,"div",[["class","card-subtitle"]],null,null,null,null,null)),(t()(),i._20(-1,null,["add playlist"])),(t()(),i._20(-1,null,["\n        "])),(t()(),i._20(-1,null,["\n      "]))],null,function(t,e){t(e,3,0,i._2(1,"card card-md item-",e.component.userPlaylists.length,""))})}function xe(t){return i._22(0,[i._18(402653184,1,{focused:0}),(t()(),i.Z(1,0,null,null,31,"ion-header",[],null,null,null,null,null)),i.Y(2,16384,null,0,Tt.a,[lt.a,i.j,i.z,[2,Et.a]],null,null),(t()(),i._20(-1,null,["\n    "])),(t()(),i.Z(4,0,null,null,27,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,wt.b,wt.a)),i.Y(5,49152,null,0,kt.a,[lt.a,i.j,i.z],null,null),(t()(),i._20(-1,3,["\n        "])),(t()(),i.Z(7,0,null,0,8,"button",[["ion-button",""],["menuToggle",""],["start",""]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==i._13(t,9).toggle()&&r}return r},Ct.b,Ct.a)),i.Y(8,1097728,[[2,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],null,null),i.Y(9,1064960,null,0,xt.a,[ft.a,[2,Et.a],[2,Rt.a],[2,jt.a]],{menuToggle:[0,"menuToggle"]},null),i.Y(10,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,2,{_buttons:1}),(t()(),i._20(-1,0,["\n            "])),(t()(),i.Z(13,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(14,147456,null,0,ht.a,[lt.a,i.j,i.z],{name:[0,"name"]},null),(t()(),i._20(-1,0,["\n          "])),(t()(),i._20(-1,3,["\n        "])),(t()(),i.Z(17,0,null,3,7,"ion-buttons",[],null,null,null,null,null)),i.Y(18,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,3,{_buttons:1}),(t()(),i._20(-1,null,["\n            "])),(t()(),i.Z(21,0,null,null,2,"ion-title",[],null,null,null,St.b,St.a)),i.Y(22,49152,null,0,Ot.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),(t()(),i._20(-1,0,["Playlists"])),(t()(),i._20(-1,null,["\n        "])),(t()(),i._20(-1,3,["\n        "])),(t()(),i.Z(26,0,null,2,4,"ion-buttons",[["end",""]],null,null,null,null,null)),i.Y(27,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,4,{_buttons:1}),(t()(),i._20(-1,null,["\n            "])),(t()(),i._20(-1,null,["\n        "])),(t()(),i._20(-1,3,["\n    "])),(t()(),i._20(-1,null,["\n"])),(t()(),i._20(-1,null,["\n\n"])),(t()(),i.Z(34,0,null,null,17,"ion-content",[["class","card-background-page"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,At.b,At.a)),i.Y(35,4374528,null,0,Lt.a,[lt.a,k.a,_t.a,i.j,i.z,bt.a,yt.a,i.u,[2,Et.a],[2,Dt.a]],null,null),(t()(),i._20(-1,1,["\n  "])),(t()(),i.Z(37,0,null,1,12,"ion-grid",[["class","grid"]],null,null,null,null,null)),i.Y(38,16384,null,0,Se.a,[],null,null),(t()(),i._20(-1,null,["\n    "])),(t()(),i.Z(40,0,[[1,0],["focused",1]],null,8,"ion-row",[["autofocus",""],["class","row"],["tabindex","0"]],null,[[null,"keydown"]],function(t,e,n){var r=!0;if("keydown"===e){r=!1!==t.component.keyEvents(n)&&r}return r},null,null)),i.Y(41,16384,null,0,Oe.a,[],null,null),(t()(),i._20(-1,null,["\n      "])),(t()(),i.U(16777216,null,null,1,null,Ce)),i.Y(44,802816,null,0,Mt.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(t()(),i._20(-1,null,["\n      "])),(t()(),i.U(16777216,null,null,1,null,Re)),i.Y(47,16384,null,0,Mt.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(t()(),i._20(-1,null,["\n    "])),(t()(),i._20(-1,null,["\n  "])),(t()(),i._20(-1,1,["\n  "])),(t()(),i._20(-1,1,["\n"]))],function(t,e){var n=e.component;t(e,9,0,"");t(e,14,0,"menu");t(e,44,0,n.userPlaylists);t(e,47,0,!n.editMode)},function(t,e){t(e,4,0,i._13(e,5)._sbPadding);t(e,7,0,i._13(e,9).isHidden);t(e,13,0,i._13(e,14)._hidden);t(e,34,0,i._13(e,35).statusbarPadding,i._13(e,35)._hasRefresher)})}var Pe=i.V("page-home",M,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"page-home",[],null,null,null,xe,je)),i.Y(1,114688,null,0,M,[Dt.a,T,oe.a,A,O.a],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Ae=n(12),Le=i.X({encapsulation:2,styles:[],data:{}});function De(t){return i._22(0,[(t()(),i.Z(0,0,null,null,0,"video",[["class","video-js vjs-big-play-centered"],["controls",""],["id","stream-video"],["poster","myPoster.jpg"]],null,null,null,null,null))],null,null)}function Ie(t){return i._22(0,[(t()(),i.Z(0,0,null,null,3,"feed-item",[],null,[[null,"goToPlayChannel"]],function(t,e,n){var r=!0;if("goToPlayChannel"===e){r=!1!==t.component.playItem(n)&&r}return r},de,ae)),i.Y(1,278528,null,0,Mt.h,[i.p,i.q,i.j,i.A],{ngClass:[0,"ngClass"]},null),i._15(2,{active:0}),i.Y(3,245760,null,0,W,[Dt.a,oe.a,E,b],{obj:[0,"obj"],index:[1,"index"]},{goToPlayChannel:"goToPlayChannel"})],function(t,e){t(e,1,0,t(e,2,0,e.component.item.tvName===e.context.$implicit.tvName));t(e,3,0,e.context.$implicit,e.context.index)},null)}function Me(t){return i._22(0,[(t()(),i.Z(0,0,null,null,11,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,At.b,At.a)),i.Y(1,4374528,null,0,Lt.a,[lt.a,k.a,_t.a,i.j,i.z,bt.a,yt.a,i.u,[2,Et.a],[2,Dt.a]],null,null),(t()(),i._20(-1,1,["\n  "])),(t()(),i.Z(3,0,null,1,7,"div",[["class","video-container"]],null,null,null,null,null)),(t()(),i._20(-1,null,["\n    "])),(t()(),i.Z(5,0,null,null,4,"div",[["class","video-wrapper"]],null,null,null,null,null)),(t()(),i._20(-1,null,["\n      "])),(t()(),i.U(16777216,null,null,1,null,De)),i.Y(8,16384,null,0,Mt.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(t()(),i._20(-1,null,["\n    "])),(t()(),i._20(-1,null,["\n  "])),(t()(),i._20(-1,1,["\n"])),(t()(),i._20(-1,null,["\n"])),(t()(),i._20(-1,null,["\n"])),(t()(),i.Z(14,0,null,null,24,"ion-menu",[["role","navigation"],["side","right"]],null,null,null,pt.b,pt.a)),i._17(6144,null,vt.a,null,[gt.a]),i.Y(16,245760,null,2,gt.a,[ft.a,i.j,lt.a,k.a,i.z,yt.a,mt.l,_t.a,bt.a],{content:[0,"content"],side:[1,"side"]},null),i._18(335544320,1,{menuContent:0}),i._18(335544320,2,{menuNav:0}),(t()(),i._20(-1,0,["\n  "])),(t()(),i._20(-1,0,["\n  "])),(t()(),i.Z(21,0,null,0,16,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,At.b,At.a)),i.Y(22,4374528,[[1,4]],0,Lt.a,[lt.a,k.a,_t.a,i.j,i.z,bt.a,yt.a,i.u,[2,Et.a],[2,Dt.a]],null,null),(t()(),i._20(-1,1,["\n    "])),(t()(),i.Z(24,0,null,1,5,"ion-list",[],null,null,null,null,null)),i.Y(25,16384,null,0,It.a,[lt.a,i.j,i.z,k.a,mt.l,_t.a],null,null),(t()(),i._20(-1,null,["\n        "])),(t()(),i.U(16777216,null,null,1,null,Ie)),i.Y(28,802816,null,0,Mt.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(t()(),i._20(-1,null,["\n    "])),(t()(),i._20(-1,1,["\n    "])),(t()(),i.Z(31,0,null,1,5,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],function(t,e,n){var r=!0;if("ionInfinite"===e){r=!1!==t.component.doInfinite(n)&&r}return r},null,null)),i.Y(32,1196032,null,0,ge.a,[Lt.a,i.u,i.j,_t.a],null,{ionInfinite:"ionInfinite"}),(t()(),i._20(-1,null,["\n      "])),(t()(),i.Z(34,0,null,null,1,"ion-infinite-scroll-content",[],[[1,"state",0]],null,null,ye.b,ye.a)),i.Y(35,114688,null,0,me.a,[ge.a,lt.a],null,null),(t()(),i._20(-1,null,["\n    "])),(t()(),i._20(-1,1,["\n  "])),(t()(),i._20(-1,0,["\n"])),(t()(),i._20(-1,null,["\n"])),(t()(),i.Z(40,0,null,null,2,"ion-nav",[],null,null,null,Ft.b,Ft.a)),i._17(6144,null,vt.a,null,[Nt.a]),i.Y(42,4374528,[["content",4]],0,Nt.a,[[2,Et.a],[2,Dt.a],bt.a,lt.a,k.a,i.j,i.u,i.z,i.i,mt.l,Ut.a,[2,Bt.a],_t.a,i.k],null,null),(t()(),i._20(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,8,0,n.item.url);t(e,16,0,i._13(e,42),"right");t(e,28,0,n.list),t(e,35,0)},function(t,e){t(e,0,0,i._13(e,1).statusbarPadding,i._13(e,1)._hasRefresher);t(e,21,0,i._13(e,22).statusbarPadding,i._13(e,22)._hasRefresher);t(e,34,0,i._13(e,35).inf.state)})}var Fe=i.V("channel",C,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"channel",[],null,null,null,Me,Le)),i.Y(1,4308992,null,0,C,[w,Ae.a,k.a,S.a,O.a,Dt.a,s.a,k.a,j.a],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),Ne=i.X({encapsulation:2,styles:[],data:{}});function Ue(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"feed-item",[],null,[[null,"goToPlayChannel"]],function(t,e,n){var r=!0;if("goToPlayChannel"===e){r=!1!==t.component.playChannel(n)&&r}return r},de,ae)),i.Y(1,245760,null,0,W,[Dt.a,oe.a,E,b],{obj:[0,"obj"],index:[1,"index"]},{goToPlayChannel:"goToPlayChannel"})],function(t,e){t(e,1,0,e.context.$implicit,e.context.index)},null)}function Be(t){return i._22(0,[(t()(),i.Z(0,0,null,null,5,"ion-list",[],null,null,null,null,null)),i.Y(1,16384,null,0,It.a,[lt.a,i.j,i.z,k.a,mt.l,_t.a],null,null),(t()(),i._20(-1,null,["\n        "])),(t()(),i.U(16777216,null,null,1,null,Ue)),i.Y(4,802816,null,0,Mt.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(t()(),i._20(-1,null,["\n    "]))],function(t,e){t(e,4,0,e.component.channels)},null)}function Ge(t){return i._22(0,[(t()(),i.Z(0,0,null,null,41,"ion-header",[],null,null,null,null,null)),i.Y(1,16384,null,0,Tt.a,[lt.a,i.j,i.z,[2,Et.a]],null,null),(t()(),i._20(-1,null,["\n  "])),(t()(),i.Z(3,0,null,null,37,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Wt.b,Wt.a)),i.Y(4,49152,null,0,jt.a,[bt.a,[2,Et.a],[2,Dt.a],lt.a,i.j,i.z],null,null),(t()(),i._20(-1,3,["\n    "])),(t()(),i.Z(6,0,null,3,33,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,wt.b,wt.a)),i.Y(7,49152,null,0,kt.a,[lt.a,i.j,i.z],null,null),(t()(),i._20(-1,3,["\n      "])),(t()(),i.Z(9,0,null,0,8,"button",[["ion-button",""],["menuToggle",""],["start",""]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==i._13(t,11).toggle()&&r}return r},Ct.b,Ct.a)),i.Y(10,1097728,[[1,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],null,null),i.Y(11,1064960,null,0,xt.a,[ft.a,[2,Et.a],[2,Rt.a],[2,jt.a]],{menuToggle:[0,"menuToggle"]},null),i.Y(12,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,1,{_buttons:1}),(t()(),i._20(-1,0,["\n          "])),(t()(),i.Z(15,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(16,147456,null,0,ht.a,[lt.a,i.j,i.z],{name:[0,"name"]},null),(t()(),i._20(-1,0,["\n        "])),(t()(),i._20(-1,3,["\n      "])),(t()(),i.Z(19,0,null,3,7,"ion-buttons",[],null,null,null,null,null)),i.Y(20,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,2,{_buttons:1}),(t()(),i._20(-1,null,["\n          "])),(t()(),i.Z(23,0,null,null,2,"ion-title",[],null,null,null,St.b,St.a)),i.Y(24,49152,null,0,Ot.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),(t()(),i._20(25,0,["",""])),(t()(),i._20(-1,null,["\n      "])),(t()(),i._20(-1,3,["\n      "])),(t()(),i.Z(28,0,null,2,10,"ion-buttons",[["end",""]],null,null,null,null,null)),i.Y(29,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,3,{_buttons:1}),(t()(),i._20(-1,null,["\n          "])),(t()(),i.Z(32,0,null,null,5,"button",[["icon-only",""],["ion-button",""]],null,[[null,"tap"]],function(t,e,n){var r=!0;if("tap"===e){r=!1!==t.component.goToSearch()&&r}return r},Ct.b,Ct.a)),i.Y(33,1097728,[[3,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],null,null),(t()(),i._20(-1,0,["\n            "])),(t()(),i.Z(35,0,null,0,1,"ion-icon",[["name","search"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(36,147456,null,0,ht.a,[lt.a,i.j,i.z],{name:[0,"name"]},null),(t()(),i._20(-1,0,["\n          "])),(t()(),i._20(-1,null,["\n      "])),(t()(),i._20(-1,3,["\n    "])),(t()(),i._20(-1,3,["\n  "])),(t()(),i._20(-1,null,["\n"])),(t()(),i._20(-1,null,["\n"])),(t()(),i.Z(43,0,null,null,12,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,At.b,At.a)),i.Y(44,4374528,null,0,Lt.a,[lt.a,k.a,_t.a,i.j,i.z,bt.a,yt.a,i.u,[2,Et.a],[2,Dt.a]],null,null),(t()(),i._20(-1,1,["\n    "])),(t()(),i.U(16777216,null,1,1,null,Be)),i.Y(47,16384,null,0,Mt.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(t()(),i._20(-1,1,["\n    "])),(t()(),i.Z(49,0,null,1,5,"ion-infinite-scroll",[],null,[[null,"ionInfinite"]],function(t,e,n){var r=!0;if("ionInfinite"===e){r=!1!==t.component.doInfinite(n)&&r}return r},null,null)),i.Y(50,1196032,null,0,ge.a,[Lt.a,i.u,i.j,_t.a],null,{ionInfinite:"ionInfinite"}),(t()(),i._20(-1,null,["\n        "])),(t()(),i.Z(52,0,null,null,1,"ion-infinite-scroll-content",[],[[1,"state",0]],null,null,ye.b,ye.a)),i.Y(53,114688,null,0,me.a,[ge.a,lt.a],null,null),(t()(),i._20(-1,null,["\n    "])),(t()(),i._20(-1,1,["\n   \n"]))],function(t,e){var n=e.component;t(e,11,0,"");t(e,16,0,"menu");t(e,36,0,"search");t(e,47,0,n.channels),t(e,53,0)},function(t,e){var n=e.component;t(e,3,0,i._13(e,4)._hidden,i._13(e,4)._sbPadding);t(e,6,0,i._13(e,7)._sbPadding);t(e,9,0,i._13(e,11).isHidden);t(e,15,0,i._13(e,16)._hidden);t(e,25,0,n.title);t(e,35,0,i._13(e,36)._hidden);t(e,43,0,i._13(e,44).statusbarPadding,i._13(e,44)._hasRefresher);t(e,52,0,i._13(e,53).inf.state)})}var Ye=i.V("channels",D,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"channels",[],null,[["document","keydown"]],function(t,e,n){var r=!0;return"document:keydown"===e&&(r=!1!==i._13(t,1).onKeydownHandler(n)&&r),r},Ge,Ne)),i.Y(1,49152,null,0,D,[Ae.a,Dt.a,oe.a,E,b,w,A,Dt.a,k.a,s.a],null,null)],null,null)},{},{},[]),He=i.X({encapsulation:2,styles:[],data:{}});function Ve(t){return i._22(0,[(t()(),i.Z(0,0,null,null,4,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,At.b,At.a)),i.Y(1,4374528,null,0,Lt.a,[lt.a,k.a,_t.a,i.j,i.z,bt.a,yt.a,i.u,[2,Et.a],[2,Dt.a]],null,null),(t()(),i._20(-1,1,["\n \n    "])),(t()(),i.Z(3,0,null,1,0,"img",[["src","assets/imgs/splash-screen.png"]],null,null,null,null,null)),(t()(),i._20(-1,1,["\n \n"]))],null,function(t,e){t(e,0,0,i._13(e,1).statusbarPadding,i._13(e,1)._hasRefresher)})}var ze=i.V("page-splash",u,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"page-splash",[],null,null,null,Ve,He)),i.Y(1,49152,null,0,u,[Et.a,l.a],null,null)],null,null)},{},{},[]),We=n(264),qe=n(60),Ze=n(265),Ke=n(101),Xe=i.X({encapsulation:2,styles:[],data:{}});function $e(t){return i._22(0,[(t()(),i.Z(0,0,null,null,12,"ion-tabs",[],null,null,null,We.b,We.a)),i._17(6144,null,vt.a,null,[qe.a]),i.Y(2,4374528,null,0,qe.a,[[2,Dt.a],[2,Et.a],bt.a,lt.a,i.j,k.a,i.z,Bt.a,yt.a],null,null),(t()(),i._20(-1,0,["\n  "])),(t()(),i.Z(4,0,null,0,1,"ion-tab",[["role","tabpanel"],["tabIcon","film"],["tabTitle","Channels"]],[[1,"id",0],[1,"aria-labelledby",0]],null,null,Ze.b,Ze.a)),i.Y(5,245760,null,0,Ke.a,[qe.a,bt.a,lt.a,k.a,i.j,i.u,i.z,i.i,i.g,mt.l,Ut.a,[2,Bt.a],_t.a,i.k],{root:[0,"root"],tabTitle:[1,"tabTitle"],tabIcon:[2,"tabIcon"]},null),(t()(),i._20(-1,0,["\n  "])),(t()(),i.Z(7,0,null,0,1,"ion-tab",[["role","tabpanel"],["tabIcon","star"],["tabTitle","Favorites"]],[[1,"id",0],[1,"aria-labelledby",0]],null,null,Ze.b,Ze.a)),i.Y(8,245760,null,0,Ke.a,[qe.a,bt.a,lt.a,k.a,i.j,i.u,i.z,i.i,i.g,mt.l,Ut.a,[2,Bt.a],_t.a,i.k],{root:[0,"root"],tabTitle:[1,"tabTitle"],tabIcon:[2,"tabIcon"]},null),(t()(),i._20(-1,0,["\n  "])),(t()(),i.Z(10,0,null,0,1,"ion-tab",[["role","tabpanel"],["tabIcon","settings"],["tabTitle","Settings"]],[[1,"id",0],[1,"aria-labelledby",0]],null,null,Ze.b,Ze.a)),i.Y(11,245760,null,0,Ke.a,[qe.a,bt.a,lt.a,k.a,i.j,i.u,i.z,i.i,i.g,mt.l,Ut.a,[2,Bt.a],_t.a,i.k],{root:[0,"root"],tabTitle:[1,"tabTitle"],tabIcon:[2,"tabIcon"]},null),(t()(),i._20(-1,0,["\n"])),(t()(),i._20(-1,null,["\n"]))],function(t,e){var n=e.component;t(e,5,0,n.tab1Root,"Channels","film");t(e,8,0,n.tab2Root,"Favorites","star");t(e,11,0,n.tab3Root,"Settings","settings")},function(t,e){t(e,4,0,i._13(e,5)._tabId,i._13(e,5)._btnId);t(e,7,0,i._13(e,8)._tabId,i._13(e,8)._btnId);t(e,10,0,i._13(e,11)._tabId,i._13(e,11)._btnId)})}var Je=i.V("ng-component",B,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"ng-component",[],null,null,null,$e,Xe)),i.Y(1,49152,null,0,B,[],null,null)],null,null)},{},{},[]),Qe=i.X({encapsulation:2,styles:[],data:{}});function tn(t){return i._22(0,[(t()(),i.Z(0,0,null,null,15,"ion-col",[["class","col"],["col-12",""],["col-lg-3",""],["col-md-4",""],["col-xl-2",""]],null,null,null,null,null)),i.Y(1,16384,null,0,we.a,[],null,null),(t()(),i._20(-1,null,["\n          "])),(t()(),i.Z(3,0,null,null,10,"ion-card",[["aria-checked","true"],["tappable",""]],[[8,"className",0],[8,"tabIndex",0]],[[null,"press"],[null,"tap"]],function(t,e,n){var r=!0,i=t.component;if("press"===e){r=!1!==i.loadOptions(t.context.$implicit)&&r}if("tap"===e){r=!1!==i.goToCountry(t.context.$implicit.name)&&r}return r},null,null)),i.Y(4,16384,null,0,ke.a,[lt.a,i.j,i.z],null,null),(t()(),i._20(-1,null,["\n              "])),(t()(),i.Z(6,0,null,null,0,"div",[["class","image-overlay"]],null,null,null,null,null)),(t()(),i._20(-1,null,["\n              "])),(t()(),i.Z(8,0,null,null,1,"div",[["class","card-title"]],null,null,null,null,null)),(t()(),i._20(9,null,["",""])),(t()(),i._20(-1,null,["\n              "])),(t()(),i.Z(11,0,null,null,1,"div",[["class","card-subtitle"]],null,null,null,null,null)),(t()(),i._20(12,null,[""," channels"])),(t()(),i._20(-1,null,["\n          "])),(t()(),i._20(-1,null,["\n      "])),(t()(),i._20(-1,null,["\n        "]))],null,function(t,e){t(e,3,0,i._2(1,"groups-item-",e.context.index,""),i._2(1,"",e.context.index+1,""));t(e,9,0,e.context.$implicit.name);t(e,12,0,e.context.$implicit.channels)})}function en(t){return i._22(0,[(t()(),i.Z(0,0,null,null,5,"ion-row",[["class","row"],["tabindex","0"]],null,[[null,"keypress"]],function(t,e,n){var r=!0;if("keypress"===e){r=!1!==t.component.keyEvents(n)&&r}return r},null,null)),i.Y(1,16384,null,0,Oe.a,[],null,null),(t()(),i._20(-1,null,["\n        "])),(t()(),i.U(16777216,null,null,1,null,tn)),i.Y(4,802816,null,0,Mt.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(t()(),i._20(-1,null,["\n      "]))],function(t,e){t(e,4,0,e.component.countries)},null)}function nn(t){return i._22(0,[i._18(402653184,1,{slides:0}),(t()(),i.Z(1,0,null,null,34,"ion-header",[],null,null,null,null,null)),i.Y(2,16384,null,0,Tt.a,[lt.a,i.j,i.z,[2,Et.a]],null,null),(t()(),i._20(-1,null,["\n  "])),(t()(),i.Z(4,0,null,null,30,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Wt.b,Wt.a)),i.Y(5,49152,null,0,jt.a,[bt.a,[2,Et.a],[2,Dt.a],lt.a,i.j,i.z],null,null),(t()(),i._20(-1,3,["\n    "])),(t()(),i.Z(7,0,null,3,26,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,wt.b,wt.a)),i.Y(8,49152,null,0,kt.a,[lt.a,i.j,i.z],null,null),(t()(),i._20(-1,3,["\n      "])),(t()(),i.Z(10,0,null,0,8,"button",[["ion-button",""],["menuToggle",""],["start",""]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==i._13(t,12).toggle()&&r}return r},Ct.b,Ct.a)),i.Y(11,1097728,[[2,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],null,null),i.Y(12,1064960,null,0,xt.a,[ft.a,[2,Et.a],[2,Rt.a],[2,jt.a]],{menuToggle:[0,"menuToggle"]},null),i.Y(13,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,2,{_buttons:1}),(t()(),i._20(-1,0,["\n          "])),(t()(),i.Z(16,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(17,147456,null,0,ht.a,[lt.a,i.j,i.z],{name:[0,"name"]},null),(t()(),i._20(-1,0,["\n        "])),(t()(),i._20(-1,3,["\n      "])),(t()(),i.Z(20,0,null,3,7,"ion-buttons",[],null,null,null,null,null)),i.Y(21,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,3,{_buttons:1}),(t()(),i._20(-1,null,["\n          "])),(t()(),i.Z(24,0,null,null,2,"ion-title",[],null,null,null,St.b,St.a)),i.Y(25,49152,null,0,Ot.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),(t()(),i._20(26,0,["",""])),(t()(),i._20(-1,null,["\n      "])),(t()(),i._20(-1,3,["\n      "])),(t()(),i.Z(29,0,null,2,3,"ion-buttons",[["end",""]],null,null,null,null,null)),i.Y(30,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,4,{_buttons:1}),(t()(),i._20(-1,null,["\n      "])),(t()(),i._20(-1,3,["\n    "])),(t()(),i._20(-1,3,["\n  "])),(t()(),i._20(-1,null,["\n"])),(t()(),i._20(-1,null,["\n"])),(t()(),i.Z(37,0,null,null,9,"ion-content",[["class","card-background-page"]],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,At.b,At.a)),i.Y(38,4374528,null,0,Lt.a,[lt.a,k.a,_t.a,i.j,i.z,bt.a,yt.a,i.u,[2,Et.a],[2,Dt.a]],null,null),(t()(),i._20(-1,1,["\n    "])),(t()(),i.Z(40,0,null,1,5,"ion-grid",[["class","grid"]],null,null,null,null,null)),i.Y(41,16384,null,0,Se.a,[],null,null),(t()(),i._20(-1,null,["\n      "])),(t()(),i.U(16777216,null,null,1,null,en)),i.Y(44,16384,null,0,Mt.j,[i.I,i.F],{ngIf:[0,"ngIf"]},null),(t()(),i._20(-1,null,["\n    "])),(t()(),i._20(-1,1,["\n"]))],function(t,e){var n=e.component;t(e,12,0,"");t(e,17,0,"menu");t(e,44,0,n.countries)},function(t,e){var n=e.component;t(e,4,0,i._13(e,5)._hidden,i._13(e,5)._sbPadding);t(e,7,0,i._13(e,8)._sbPadding);t(e,10,0,i._13(e,12).isHidden);t(e,16,0,i._13(e,17)._hidden);t(e,26,0,n.title);t(e,37,0,i._13(e,38).statusbarPadding,i._13(e,38)._hasRefresher)})}var rn=i.V("page-countries",I,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"page-countries",[],null,null,null,nn,Qe)),i.Y(1,114688,null,0,I,[Dt.a,Ae.a,y,E,w,b,_,oe.a,A,Dt.a],null,null)],function(t,e){t(e,1,0)},null)},{},{},[]),on=n(266),an=n(99),sn=i.X({encapsulation:2,styles:[],data:{}});function ln(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"feed-item",[],null,[[null,"goToPlayChannel"]],function(t,e,n){var r=!0;if("goToPlayChannel"===e){r=!1!==t.component.playChannel(n)&&r}return r},de,ae)),i.Y(1,245760,null,0,W,[Dt.a,oe.a,E,b],{obj:[0,"obj"],index:[1,"index"]},{goToPlayChannel:"goToPlayChannel"})],function(t,e){t(e,1,0,e.context.$implicit,e.context.index)},null)}function un(t){return i._22(0,[(t()(),i.Z(0,0,null,null,29,"ion-header",[],null,null,null,null,null)),i.Y(1,16384,null,0,Tt.a,[lt.a,i.j,i.z,[2,Et.a]],null,null),(t()(),i._20(-1,null,["\n  "])),(t()(),i.Z(3,0,null,null,25,"ion-navbar",[["class","toolbar"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,Wt.b,Wt.a)),i.Y(4,49152,null,0,jt.a,[bt.a,[2,Et.a],[2,Dt.a],lt.a,i.j,i.z],null,null),(t()(),i._20(-1,3,["\n    "])),(t()(),i.Z(6,0,null,3,21,"ion-toolbar",[["class","toolbar"]],[[2,"statusbar-padding",null]],null,null,wt.b,wt.a)),i.Y(7,49152,null,0,kt.a,[lt.a,i.j,i.z],null,null),(t()(),i._20(-1,3,["\n      "])),(t()(),i.Z(9,0,null,0,8,"button",[["ion-button",""],["menuToggle",""],["start",""]],[[8,"hidden",0]],[[null,"click"]],function(t,e,n){var r=!0;if("click"===e){r=!1!==i._13(t,11).toggle()&&r}return r},Ct.b,Ct.a)),i.Y(10,1097728,[[1,4]],0,Rt.a,[[8,""],lt.a,i.j,i.z],null,null),i.Y(11,1064960,null,0,xt.a,[ft.a,[2,Et.a],[2,Rt.a],[2,jt.a]],{menuToggle:[0,"menuToggle"]},null),i.Y(12,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,1,{_buttons:1}),(t()(),i._20(-1,0,["\n          "])),(t()(),i.Z(15,0,null,0,1,"ion-icon",[["name","menu"],["role","img"]],[[2,"hide",null]],null,null,null,null)),i.Y(16,147456,null,0,ht.a,[lt.a,i.j,i.z],{name:[0,"name"]},null),(t()(),i._20(-1,0,["\n        "])),(t()(),i._20(-1,3,["\n      "])),(t()(),i.Z(19,0,null,3,7,"ion-buttons",[],null,null,null,null,null)),i.Y(20,16384,null,1,Pt.a,[lt.a,i.j,i.z,[2,kt.a],[2,jt.a]],null,null),i._18(603979776,2,{_buttons:1}),(t()(),i._20(-1,null,["\n          "])),(t()(),i.Z(23,0,null,null,1,"ion-searchbar",[],[[2,"searchbar-animated",null],[2,"searchbar-has-value",null],[2,"searchbar-active",null],[2,"searchbar-show-cancel",null],[2,"searchbar-left-aligned",null],[2,"searchbar-has-focus",null]],[[null,"ionInput"]],function(t,e,n){var r=!0;if("ionInput"===e){r=!1!==t.component.onInput(n)&&r}return r},on.b,on.a)),i.Y(24,1294336,null,0,an.a,[lt.a,k.a,i.j,i.z,[2,$t.f]],null,{ionInput:"ionInput"}),(t()(),i._20(-1,null,["\n      "])),(t()(),i._20(-1,null,["\n      "])),(t()(),i._20(-1,3,["\n    "])),(t()(),i._20(-1,3,["\n  "])),(t()(),i._20(-1,null,["\n"])),(t()(),i._20(-1,null,["\n"])),(t()(),i.Z(31,0,null,null,9,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,At.b,At.a)),i.Y(32,4374528,null,0,Lt.a,[lt.a,k.a,_t.a,i.j,i.z,bt.a,yt.a,i.u,[2,Et.a],[2,Dt.a]],null,null),(t()(),i._20(-1,1,["\n    "])),(t()(),i.Z(34,0,null,1,5,"ion-list",[],null,null,null,null,null)),i.Y(35,16384,null,0,It.a,[lt.a,i.j,i.z,k.a,mt.l,_t.a],null,null),(t()(),i._20(-1,null,["\n      "])),(t()(),i.U(16777216,null,null,1,null,ln)),i.Y(38,802816,null,0,Mt.i,[i.I,i.F,i.p],{ngForOf:[0,"ngForOf"]},null),(t()(),i._20(-1,null,["\n    "])),(t()(),i._20(-1,1,["\n"]))],function(t,e){var n=e.component;t(e,11,0,"");t(e,16,0,"menu"),t(e,24,0);t(e,38,0,n.channels)},function(t,e){t(e,3,0,i._13(e,4)._hidden,i._13(e,4)._sbPadding);t(e,6,0,i._13(e,7)._sbPadding);t(e,9,0,i._13(e,11).isHidden);t(e,15,0,i._13(e,16)._hidden);t(e,23,0,i._13(e,24)._animated,i._13(e,24)._value,i._13(e,24)._isActive,i._13(e,24)._showCancelButton,i._13(e,24)._shouldAlignLeft,i._13(e,24)._isFocus);t(e,31,0,i._13(e,32).statusbarPadding,i._13(e,32)._hasRefresher)})}var cn=i.V("search",L,function(t){return i._22(0,[(t()(),i.Z(0,0,null,null,1,"search",[],null,null,null,un,sn)),i.Y(1,49152,null,0,L,[Ae.a,Dt.a,E,A,b,k.a,s.a],null,null)],null,null)},{},{},[]),dn=n(143),fn=n(140),hn=n(204),pn=n(70),vn=n(58),gn=n(85),yn=n(130),mn=n(139),_n=n(134),bn=n(203),Tn=n(141),En=n(125),wn=n(142),kn=i.W(Z,[K.b],function(t){return i._10([i._11(512,i.i,i.S,[[8,[X.a,$.a,J.a,Q.a,tt.a,et.a,nt.a,rt.a,it.a,zt,ee,Ee,Pe,Fe,Ye,ze,Je,rn,cn,fe]],[3,i.i],i.s]),i._11(5120,i.r,i._9,[[3,i.r]]),i._11(4608,Mt.l,Mt.k,[i.r,[2,Mt.t]]),i._11(5120,i.b,i._0,[]),i._11(5120,i.p,i._6,[]),i._11(5120,i.q,i._7,[]),i._11(4608,r.c,r.q,[Mt.c]),i._11(6144,i.D,null,[r.c]),i._11(4608,r.f,dn.a,[]),i._11(5120,r.d,function(t,e,n,i,o){return[new r.k(t,e),new r.o(n),new r.n(i,o)]},[Mt.c,i.u,Mt.c,Mt.c,r.f]),i._11(4608,r.e,r.e,[r.d,i.u]),i._11(135680,r.m,r.m,[Mt.c]),i._11(4608,r.l,r.l,[r.e,r.m]),i._11(6144,i.B,null,[r.l]),i._11(6144,r.p,null,[r.m]),i._11(4608,i.G,i.G,[i.u]),i._11(4608,r.h,r.h,[Mt.c]),i._11(4608,r.i,r.i,[Mt.c]),i._11(4608,v.h,v.m,[Mt.c,i.w,v.k]),i._11(4608,v.n,v.n,[v.h,v.l]),i._11(5120,v.a,function(t){return[t]},[v.n]),i._11(4608,v.j,v.j,[]),i._11(6144,v.i,null,[v.j]),i._11(4608,v.g,v.g,[v.i]),i._11(6144,v.b,null,[v.g]),i._11(5120,v.f,v.o,[v.b,[2,v.a]]),i._11(4608,v.c,v.c,[v.f]),i._11(4608,$t.k,$t.k,[]),i._11(4608,$t.c,$t.c,[]),i._11(4608,oe.a,oe.a,[bt.a,lt.a]),i._11(4608,O.a,O.a,[bt.a,lt.a]),i._11(4608,fn.a,fn.a,[]),i._11(4608,st.a,st.a,[]),i._11(4608,Xt.a,Xt.a,[k.a]),i._11(4608,yt.a,yt.a,[lt.a,k.a,i.u,_t.a]),i._11(4608,m.a,m.a,[bt.a,lt.a]),i._11(5120,Mt.g,hn.b,[Mt.r,[2,Mt.a],lt.a]),i._11(4608,Mt.f,Mt.f,[Mt.g]),i._11(5120,pn.b,pn.d,[bt.a,pn.a]),i._11(5120,Bt.a,Bt.b,[bt.a,pn.b,Mt.f,vn.b,i.i]),i._11(4608,Gt.a,Gt.a,[bt.a,lt.a,Bt.a]),i._11(4608,gn.a,gn.a,[bt.a,lt.a]),i._11(4608,yn.a,yn.a,[bt.a,lt.a,Bt.a]),i._11(4608,mn.a,mn.a,[lt.a,k.a,_t.a,bt.a,mt.l]),i._11(4608,_n.a,_n.a,[bt.a,lt.a]),i._11(4608,Ut.a,Ut.a,[k.a,lt.a]),i._11(5120,Jt.a,Jt.c,[Jt.b]),i._11(4608,s.a,s.a,[]),i._11(4608,l.a,l.a,[]),i._11(4608,G.a,G.a,[]),i._11(4608,E,E,[v.c,Jt.a]),i._11(4608,b,b,[_n.a]),i._11(4608,Y.a,Y.a,[]),i._11(4608,H.a,H.a,[]),i._11(4608,w,w,[k.a]),i._11(4608,d,d,[Jt.a]),i._11(4608,V.a,V.a,[]),i._11(4608,p.a,p.a,[]),i._11(4608,g.a,g.a,[]),i._11(4608,h.a,h.a,[]),i._11(4608,y,y,[v.c,O.a,g.a,h.a,Jt.a]),i._11(4608,_,_,[m.a]),i._11(4608,T,T,[d,_n.a,O.a,p.a,h.a,y,_,y,b]),i._11(4608,S.a,S.a,[]),i._11(4608,z,z,[]),i._11(4608,R.a,R.a,[]),i._11(4608,x,x,[R.a,g.a,b]),i._11(4608,P.a,P.a,[]),i._11(4608,A,A,[v.c,d,x,P.a,g.a,O.a,_]),i._11(4608,j.a,j.a,[]),i._11(512,Mt.b,Mt.b,[]),i._11(512,i.k,bn.a,[]),i._11(256,lt.b,{},[]),i._11(1024,Tn.a,Tn.b,[]),i._11(1024,k.a,k.b,[r.b,Tn.a,i.u]),i._11(1024,lt.a,lt.c,[lt.b,k.a]),i._11(512,_t.a,_t.a,[k.a]),i._11(512,ft.a,ft.a,[]),i._11(512,bt.a,bt.a,[lt.a,k.a,[2,ft.a]]),i._11(512,mt.l,mt.l,[bt.a]),i._11(256,pn.a,{links:[]},[]),i._11(512,i.h,i.h,[]),i._11(512,En.a,En.a,[i.h]),i._11(1024,vn.b,vn.c,[En.a,i.o]),i._11(1024,i.c,function(t,e,n,i,o,a,s,l,u,c,d,f,h){return[r.s(t),wn.a(e),fn.b(n,i),mn.b(o,a,s,l,u),vn.d(c,d,f,h)]},[[2,i.t],lt.a,k.a,_t.a,lt.a,k.a,_t.a,bt.a,mt.l,lt.a,pn.a,vn.b,i.u]),i._11(512,i.d,i.d,[[2,i.c]]),i._11(131584,i.f,i.f,[i.u,i.T,i.o,i.k,i.i,i.d]),i._11(512,i.e,i.e,[i.f]),i._11(512,r.a,r.a,[[3,r.a]]),i._11(512,v.e,v.e,[]),i._11(512,v.d,v.d,[]),i._11(512,$t.j,$t.j,[]),i._11(512,$t.d,$t.d,[]),i._11(512,$t.i,$t.i,[]),i._11(512,hn.a,hn.a,[]),i._11(512,c.a,c.a,[]),i._11(512,Z,Z,[]),i._11(256,v.k,"XSRF-TOKEN",[]),i._11(256,v.l,"X-XSRF-TOKEN",[]),i._11(256,K.a,U,[]),i._11(256,Mt.a,"/",[]),i._11(256,Jt.b,null,[])])});Object(i.M)(),Object(r.j)().bootstrapModuleFactory(kn)},251:function(t,e,n){(function(e){var n;t.exports=function(){return function t(e,r,i){function o(s,l){if(!r[s]){if(!e[s]){if(!l&&("function"==typeof n&&n))return n(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return o(n||t)},c,c.exports,t,e,r,i)}return r[s].exports}for(var a="function"==typeof n&&n,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,n){(function(e){var r=void 0!==e?e:"undefined"!=typeof window?window:{},i=t("min-document");if("undefined"!=typeof document)n.exports=document;else{var o=r["__GLOBAL_DOCUMENT_CACHE@4"];o||(o=r["__GLOBAL_DOCUMENT_CACHE@4"]=i),n.exports=o}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"min-document":3}],2:[function(t,n){(function(t){n.exports="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}}).call(this,void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(){},{}],4:[function(t,e){var n=t("../internal/getNative")(Date,"now");e.exports=n||function(){return(new Date).getTime()}},{"../internal/getNative":20}],5:[function(t,e){var n=t("../lang/isObject"),r=t("../date/now"),i="Expected a function",o=Math.max;e.exports=function(t,e,a){function s(e,n){n&&clearTimeout(n),f=g=y=void 0,e&&(m=r(),h=t.apply(v,d),g||f||(d=v=void 0))}function l(){var t=e-(r()-p);0>=t||t>e?s(y,f):g=setTimeout(l,t)}function u(){s(b,g)}function c(){if(d=arguments,p=r(),v=this,y=b&&(g||!T),!1===_)var n=T&&!g;else{f||T||(m=p);var i=_-(p-m),o=0>=i||i>_;o?(f&&(f=clearTimeout(f)),m=p,h=t.apply(v,d)):f||(f=setTimeout(u,i))}return o&&g?g=clearTimeout(g):g||e===_||(g=setTimeout(l,e)),n&&(o=!0,h=t.apply(v,d)),!o||g||f||(d=v=void 0),h}var d,f,h,p,v,g,y,m=0,_=!1,b=!0;if("function"!=typeof t)throw new TypeError(i);if(e=0>e?0:+e||0,!0===a){var T=!0;b=!1}else n(a)&&(T=!!a.leading,_="maxWait"in a&&o(+a.maxWait||0,e),b="trailing"in a?!!a.trailing:b);return c.cancel=function(){g&&clearTimeout(g),f&&clearTimeout(f),m=0,f=g=y=void 0},c}},{"../date/now":4,"../lang/isObject":33}],6:[function(t,e){var n="Expected a function",r=Math.max;e.exports=function(t,e){if("function"!=typeof t)throw new TypeError(n);return e=r(void 0===e?t.length-1:+e||0,0),function(){for(var n=arguments,i=-1,o=r(n.length-e,0),a=Array(o);++i<o;)a[i]=n[e+i];switch(e){case 0:return t.call(this,a);case 1:return t.call(this,n[0],a);case 2:return t.call(this,n[0],n[1],a)}var s=Array(e+1);for(i=-1;++i<e;)s[i]=n[i];return s[e]=a,t.apply(this,s)}}},{}],7:[function(t,e){var n=t("./debounce"),r=t("../lang/isObject"),i="Expected a function";e.exports=function(t,e,o){var a=!0,s=!0;if("function"!=typeof t)throw new TypeError(i);return!1===o?a=!1:r(o)&&(a="leading"in o?!!o.leading:a,s="trailing"in o?!!o.trailing:s),n(t,e,{leading:a,maxWait:+e,trailing:s})}},{"../lang/isObject":33,"./debounce":5}],8:[function(t,e){e.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},{}],9:[function(t,e){e.exports=function(t,e){for(var n=-1,r=t.length;++n<r&&!1!==e(t[n],n,t););return t}},{}],10:[function(t,e){e.exports=function(t,e,n){n||(n={});for(var r=-1,i=e.length;++r<i;){var o=e[r];n[o]=t[o]}return n}},{}],11:[function(t,e){var n=t("./createBaseFor")();e.exports=n},{"./createBaseFor":18}],12:[function(t,e){var n=t("./baseFor"),r=t("../object/keysIn");e.exports=function(t,e){return n(t,e,r)}},{"../object/keysIn":39,"./baseFor":11}],13:[function(t,e){var n=t("./arrayEach"),r=t("./baseMergeDeep"),i=t("../lang/isArray"),o=t("./isArrayLike"),a=t("../lang/isObject"),s=t("./isObjectLike"),l=t("../lang/isTypedArray"),u=t("../object/keys");e.exports=function t(e,c,d,f,h){if(!a(e))return e;var p=o(c)&&(i(c)||l(c)),v=p?void 0:u(c);return n(v||c,function(n,i){if(v&&(i=n,n=c[i]),s(n))f||(f=[]),h||(h=[]),r(e,c,i,t,d,f,h);else{var o=e[i],a=d?d(o,n,i,e,c):void 0,l=void 0===a;l&&(a=n),void 0===a&&(!p||i in e)||!l&&(a==a?a===o:o!=o)||(e[i]=a)}}),e}},{"../lang/isArray":30,"../lang/isObject":33,"../lang/isTypedArray":36,"../object/keys":38,"./arrayEach":9,"./baseMergeDeep":14,"./isArrayLike":21,"./isObjectLike":26}],14:[function(t,e){var n=t("./arrayCopy"),r=t("../lang/isArguments"),i=t("../lang/isArray"),o=t("./isArrayLike"),a=t("../lang/isPlainObject"),s=t("../lang/isTypedArray"),l=t("../lang/toPlainObject");e.exports=function(t,e,u,c,d,f,h){for(var p=f.length,v=e[u];p--;)if(f[p]==v)return void(t[u]=h[p]);var g=t[u],y=d?d(g,v,u,t,e):void 0,m=void 0===y;m&&(y=v,o(v)&&(i(v)||s(v))?y=i(g)?g:o(g)?n(g):[]:a(v)||r(v)?y=r(g)?l(g):a(g)?g:{}:m=!1),f.push(v),h.push(y),m?t[u]=c(y,v,d,f,h):(y==y?y!==g:g==g)&&(t[u]=y)}},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isPlainObject":34,"../lang/isTypedArray":36,"../lang/toPlainObject":37,"./arrayCopy":8,"./isArrayLike":21}],15:[function(t,e){var n=t("./toObject");e.exports=function(t){return function(e){return null==e?void 0:n(e)[t]}}},{"./toObject":28}],16:[function(t,e){var n=t("../utility/identity");e.exports=function(t,e,r){if("function"!=typeof t)return n;if(void 0===e)return t;switch(r){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)};case 5:return function(n,r,i,o,a){return t.call(e,n,r,i,o,a)}}return function(){return t.apply(e,arguments)}}},{"../utility/identity":42}],17:[function(t,e){var n=t("./bindCallback"),r=t("./isIterateeCall"),i=t("../function/restParam");e.exports=function(t){return i(function(e,i){var o=-1,a=null==e?0:i.length,s=a>2?i[a-2]:void 0,l=a>2?i[2]:void 0,u=a>1?i[a-1]:void 0;for("function"==typeof s?(s=n(s,u,5),a-=2):a-=(s="function"==typeof u?u:void 0)?1:0,l&&r(i[0],i[1],l)&&(s=3>a?void 0:s,a=1);++o<a;){var c=i[o];c&&t(e,c,s)}return e})}},{"../function/restParam":6,"./bindCallback":16,"./isIterateeCall":24}],18:[function(t,e){var n=t("./toObject");e.exports=function(t){return function(e,r,i){for(var o=n(e),a=i(e),s=a.length,l=t?s:-1;t?l--:++l<s;){var u=a[l];if(!1===r(o[u],u,o))break}return e}}},{"./toObject":28}],19:[function(t,e){var n=t("./baseProperty")("length");e.exports=n},{"./baseProperty":15}],20:[function(t,e){var n=t("../lang/isNative");e.exports=function(t,e){var r=null==t?void 0:t[e];return n(r)?r:void 0}},{"../lang/isNative":32}],21:[function(t,e){var n=t("./getLength"),r=t("./isLength");e.exports=function(t){return null!=t&&r(n(t))}},{"./getLength":19,"./isLength":25}],22:[function(t,e){var n=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}();e.exports=n},{}],23:[function(t,e){var n=/^\d+$/,r=9007199254740991;e.exports=function(t,e){return t="number"==typeof t||n.test(t)?+t:-1,e=null==e?r:e,t>-1&&t%1==0&&e>t}},{}],24:[function(t,e){var n=t("./isArrayLike"),r=t("./isIndex"),i=t("../lang/isObject");e.exports=function(t,e,o){if(!i(o))return!1;var a=typeof e;if("number"==a?n(o)&&r(e,o.length):"string"==a&&e in o){var s=o[e];return t==t?t===s:s!=s}return!1}},{"../lang/isObject":33,"./isArrayLike":21,"./isIndex":23}],25:[function(t,e){var n=9007199254740991;e.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&n>=t}},{}],26:[function(t,e){e.exports=function(t){return!!t&&"object"==typeof t}},{}],27:[function(t,e){var n=t("../lang/isArguments"),r=t("../lang/isArray"),i=t("./isIndex"),o=t("./isLength"),a=t("../lang/isString"),s=t("../object/keysIn"),l=Object.prototype.hasOwnProperty;e.exports=function(t){for(var e=s(t),u=e.length,c=u&&t.length,d=!!c&&o(c)&&(r(t)||n(t)||a(t)),f=-1,h=[];++f<u;){var p=e[f];(d&&i(p,c)||l.call(t,p))&&h.push(p)}return h}},{"../lang/isArguments":29,"../lang/isArray":30,"../lang/isString":35,"../object/keysIn":39,"./isIndex":23,"./isLength":25}],28:[function(t,e){var n=t("../lang/isObject"),r=t("../lang/isString"),i=t("../support");e.exports=function(t){if(i.unindexedChars&&r(t)){for(var e=-1,o=t.length,a=Object(t);++e<o;)a[e]=t.charAt(e);return a}return n(t)?t:Object(t)}},{"../lang/isObject":33,"../lang/isString":35,"../support":41}],29:[function(t,e){var n=t("../internal/isArrayLike"),r=t("../internal/isObjectLike"),i=Object.prototype,o=i.hasOwnProperty,a=i.propertyIsEnumerable;e.exports=function(t){return r(t)&&n(t)&&o.call(t,"callee")&&!a.call(t,"callee")}},{"../internal/isArrayLike":21,"../internal/isObjectLike":26}],30:[function(t,e){var n=t("../internal/getNative"),r=t("../internal/isLength"),i=t("../internal/isObjectLike"),o=Object.prototype.toString,a=n(Array,"isArray");e.exports=a||function(t){return i(t)&&r(t.length)&&"[object Array]"==o.call(t)}},{"../internal/getNative":20,"../internal/isLength":25,"../internal/isObjectLike":26}],31:[function(t,e){var n=t("./isObject"),r="[object Function]",i=Object.prototype.toString;e.exports=function(t){return n(t)&&i.call(t)==r}},{"./isObject":33}],32:[function(t,e){var n=t("./isFunction"),r=t("../internal/isHostObject"),i=t("../internal/isObjectLike"),o=/^\[object .+?Constructor\]$/,a=Object.prototype,s=Function.prototype.toString,l=RegExp("^"+s.call(a.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t){return null!=t&&(n(t)?l.test(s.call(t)):i(t)&&(r(t)?l:o).test(t))}},{"../internal/isHostObject":22,"../internal/isObjectLike":26,"./isFunction":31}],33:[function(t,e){e.exports=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}},{}],34:[function(t,e){var n=t("../internal/baseForIn"),r=t("./isArguments"),i=t("../internal/isHostObject"),o=t("../internal/isObjectLike"),a=t("../support"),s="[object Object]",l=Object.prototype,u=l.hasOwnProperty,c=l.toString;e.exports=function(t){var e;if(!o(t)||c.call(t)!=s||i(t)||r(t)||!u.call(t,"constructor")&&(e=t.constructor,"function"==typeof e&&!(e instanceof e)))return!1;var l;return a.ownLast?(n(t,function(t,e,n){return l=u.call(n,e),!1}),!1!==l):(n(t,function(t,e){l=e}),void 0===l||u.call(t,l))}},{"../internal/baseForIn":12,"../internal/isHostObject":22,"../internal/isObjectLike":26,"../support":41,"./isArguments":29}],35:[function(t,e){var n=t("../internal/isObjectLike"),r="[object String]",i=Object.prototype.toString;e.exports=function(t){return"string"==typeof t||n(t)&&i.call(t)==r}},{"../internal/isObjectLike":26}],36:[function(t,e){var n=t("../internal/isLength"),r=t("../internal/isObjectLike"),i={};i["[object Float32Array]"]=i["[object Float64Array]"]=i["[object Int8Array]"]=i["[object Int16Array]"]=i["[object Int32Array]"]=i["[object Uint8Array]"]=i["[object Uint8ClampedArray]"]=i["[object Uint16Array]"]=i["[object Uint32Array]"]=!0,i["[object Arguments]"]=i["[object Array]"]=i["[object ArrayBuffer]"]=i["[object Boolean]"]=i["[object Date]"]=i["[object Error]"]=i["[object Function]"]=i["[object Map]"]=i["[object Number]"]=i["[object Object]"]=i["[object RegExp]"]=i["[object Set]"]=i["[object String]"]=i["[object WeakMap]"]=!1;var o=Object.prototype.toString;e.exports=function(t){return r(t)&&n(t.length)&&!!i[o.call(t)]}},{"../internal/isLength":25,"../internal/isObjectLike":26}],37:[function(t,e){var n=t("../internal/baseCopy"),r=t("../object/keysIn");e.exports=function(t){return n(t,r(t))}},{"../internal/baseCopy":10,"../object/keysIn":39}],38:[function(t,e){var n=t("../internal/getNative"),r=t("../internal/isArrayLike"),i=t("../lang/isObject"),o=t("../internal/shimKeys"),a=t("../support"),s=n(Object,"keys");e.exports=s?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||("function"==typeof t?a.enumPrototypes:r(t))?o(t):i(t)?s(t):[]}:o},{"../internal/getNative":20,"../internal/isArrayLike":21,"../internal/shimKeys":27,"../lang/isObject":33,"../support":41}],39:[function(t,e){var n=t("../internal/arrayEach"),r=t("../lang/isArguments"),i=t("../lang/isArray"),o=t("../lang/isFunction"),a=t("../internal/isIndex"),s=t("../internal/isLength"),l=t("../lang/isObject"),u=t("../lang/isString"),c=t("../support"),d="[object Error]",f="[object Object]",h="[object String]",p=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],v=Error.prototype,g=Object.prototype,y=String.prototype,m=g.hasOwnProperty,_=g.toString,b={};b["[object Array]"]=b["[object Date]"]=b["[object Number]"]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},b["[object Boolean]"]=b[h]={constructor:!0,toString:!0,valueOf:!0},b[d]=b["[object Function]"]=b["[object RegExp]"]={constructor:!0,toString:!0},b[f]={constructor:!0},n(p,function(t){for(var e in b)if(m.call(b,e)){var n=b[e];n[t]=m.call(n,t)}}),e.exports=function(t){if(null==t)return[];l(t)||(t=Object(t));var e=t.length;e=e&&s(e)&&(i(t)||r(t)||u(t))&&e||0;for(var n=t.constructor,T=-1,E=o(n)&&n.prototype||g,w=E===t,k=Array(e),S=e>0,O=c.enumErrorProps&&(t===v||t instanceof Error),j=c.enumPrototypes&&o(t);++T<e;)k[T]=T+"";for(var C in t)j&&"prototype"==C||O&&("message"==C||"name"==C)||S&&a(C,e)||"constructor"==C&&(w||!m.call(t,C))||k.push(C);if(c.nonEnumShadows&&t!==g){var R=t===y?h:t===v?d:_.call(t),x=b[R]||b[f];for(R==f&&(E=g),e=p.length;e--;){var P=x[C=p[e]];w&&P||(P?!m.call(t,C):t[C]===E[C])||k.push(C)}}return k}},{"../internal/arrayEach":9,"../internal/isIndex":23,"../internal/isLength":25,"../lang/isArguments":29,"../lang/isArray":30,"../lang/isFunction":31,"../lang/isObject":33,"../lang/isString":35,"../support":41}],40:[function(t,e){var n=t("../internal/baseMerge"),r=t("../internal/createAssigner")(n);e.exports=r},{"../internal/baseMerge":13,"../internal/createAssigner":17}],41:[function(t,e){var n=Array.prototype,r=Error.prototype,i=Object.prototype.propertyIsEnumerable,o=n.splice,a={};!function(t){var e=function(){this.x=1},n={0:1,length:1},s=[];e.prototype={valueOf:1,y:1};for(var l in new e)s.push(l);a.enumErrorProps=i.call(r,"message")||i.call(r,"name"),a.enumPrototypes=i.call(e,"prototype"),a.nonEnumShadows=!/valueOf/.test(s),a.ownLast="x"!=s[0],a.spliceObjects=(o.call(n,0,1),!n[0]),a.unindexedChars="x"[0]+Object("x")[0]!="xx"}(),e.exports=a},{}],42:[function(t,e){e.exports=function(t){return t}},{}],43:[function(t,e){"use strict";var n=t("object-keys");e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test");if("string"==typeof e)return!1;if(e instanceof Symbol)return!1;t[e]=42;for(e in t)return!1;if(0!==n(t).length)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},{"object-keys":49}],44:[function(t,e){"use strict";var n=t("object-keys"),r=t("function-bind"),i=t("./hasSymbols")(),o=Object,a=r.call(Function.call,Array.prototype.push),s=r.call(Function.call,Object.prototype.propertyIsEnumerable);e.exports=function(t){if(void 0===(e=t)||null===e)throw new TypeError("target must be an object");var e,r,l,u,c,d,f=o(t);for(r=1;r<arguments.length;++r){if(l=o(arguments[r]),c=n(l),i&&Object.getOwnPropertySymbols)for(d=Object.getOwnPropertySymbols(l),u=0;u<d.length;++u)s(l,d[u])&&a(c,d[u]);for(u=0;u<c.length;++u)f[c[u]]=l[c[u]]}return f}},{"./hasSymbols":43,"function-bind":48,"object-keys":49}],45:[function(t,e){"use strict";var n=t("define-properties"),r=t("./implementation");n(r,{implementation:r,getPolyfill:t("./polyfill"),shim:t("./shim")}),e.exports=r},{"./implementation":44,"./polyfill":51,"./shim":52,"define-properties":46}],46:[function(t,e){"use strict";var n=t("object-keys"),r=t("foreach"),i="function"==typeof Symbol&&"symbol"==typeof Symbol(),o=Object.prototype.toString,a=Object.defineProperty&&function(){var t={};try{Object.defineProperty(t,"x",{enumerable:!1,value:t});for(var e in t)return!1;return t.x===t}catch(t){return!1}}(),s=function(t,e,n,r){(!(e in t)||(i=r,"function"==typeof i&&"[object Function]"===o.call(i)&&r()))&&(a?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n);var i},l=function(t,e){var o=arguments.length>2?arguments[2]:{},a=n(e);i&&(a=a.concat(Object.getOwnPropertySymbols(e))),r(a,function(n){s(t,n,e[n],o[n])})};l.supportsDescriptors=!!a,e.exports=l},{foreach:47,"object-keys":49}],47:[function(t,e){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(t,e,i){if("[object Function]"!==r.call(e))throw new TypeError("iterator must be a function");var o=t.length;if(o===+o)for(var a=0;o>a;a++)e.call(i,t[a],a,t);else for(var s in t)n.call(t,s)&&e.call(i,t[s],s,t)}},{}],48:[function(t,e){var n=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==r.call(e))throw new TypeError("Function.prototype.bind called on incompatible "+e);for(var i=n.call(arguments,1),o=Math.max(0,e.length-i.length),a=[],s=0;o>s;s++)a.push("$"+s);var l=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof l){var r=e.apply(this,i.concat(n.call(arguments)));return Object(r)===r?r:this}return e.apply(t,i.concat(n.call(arguments)))});if(e.prototype){var u=function(){};u.prototype=e.prototype,l.prototype=new u,u.prototype=null}return l}},{}],49:[function(t,e){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString,i=Array.prototype.slice,o=t("./isArguments"),a=!{toString:null}.propertyIsEnumerable("toString"),s=function(){}.propertyIsEnumerable("prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(t){var e=t.constructor;return e&&e.prototype===t},c={$console:!0,$frame:!0,$frameElement:!0,$frames:!0,$parent:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!c["$"+t]&&n.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{u(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),f=function(t){var e=null!==t&&"object"==typeof t,i="[object Function]"===r.call(t),c=o(t),f=e&&"[object String]"===r.call(t),h=[];if(!e&&!i&&!c)throw new TypeError("Object.keys called on a non-object");var p=s&&i;if(f&&t.length>0&&!n.call(t,0))for(var v=0;v<t.length;++v)h.push(String(v));if(c&&t.length>0)for(var g=0;g<t.length;++g)h.push(String(g));else for(var y in t)p&&"prototype"===y||!n.call(t,y)||h.push(String(y));if(a)for(var m=function(t){if("undefined"==typeof window||!d)return u(t);try{return u(t)}catch(t){return!1}}(t),_=0;_<l.length;++_)m&&"constructor"===l[_]||!n.call(t,l[_])||h.push(l[_]);return h};f.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(e){return t(o(e)?i.call(e):e)}}}else Object.keys=f;return Object.keys||f},e.exports=f},{"./isArguments":50}],50:[function(t,e){"use strict";var n=Object.prototype.toString;e.exports=function(t){var e=n.call(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===n.call(t.callee)),r}},{}],51:[function(t,e){"use strict";var n=t("./implementation");e.exports=function(){return!Object.assign||function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch(e){return"y"===t[1]}}()?n:Object.assign}},{"./implementation":44}],52:[function(t,e){"use strict";var n=t("define-properties"),r=t("./polyfill");e.exports=function(){var t=r();return Object.assign!==t&&n(Object,{assign:t}),t}},{"./polyfill":51,"define-properties":46}],53:[function(t,e){e.exports=function(t,e){var n,r=null;try{n=JSON.parse(t,e)}catch(t){r=t}return[r,n]}},{}],54:[function(t,e){e.exports=function(t){for(var e="",n=0;n<arguments.length;n++)e+=(r=t[n],r.replace(/\n\r?\s*/g,"")+(arguments[n+1]||""));var r;return e}},{}],55:[function(t,e){"use strict";function n(t,e){function r(t){clearTimeout(d),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,e(t,s)}function a(){if(!c){var n;clearTimeout(d);var r=s,i=null;0!==(n=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status)?(r={body:function(){var t=void 0;if(l.response?t=l.response:"text"!==l.responseType&&l.responseType||(t=l.responseText||l.responseXML),y)try{t=JSON.parse(t)}catch(t){}return t}(),statusCode:n,method:h,headers:{},url:f,rawRequest:l},l.getAllResponseHeaders&&(r.headers=o(l.getAllResponseHeaders()))):i=new Error("Internal XMLHttpRequest Error"),e(i,r,r.body)}}var s={body:void 0,headers:{},statusCode:0,method:h,url:f,rawRequest:l};if("string"==typeof t&&(t={uri:t}),t=t||{},void 0===e)throw new Error("callback argument missing");e=i(e);var l=t.xhr||null;l||(l=t.cors||t.useXDR?new n.XDomainRequest:new n.XMLHttpRequest);var u,c,d,f=l.url=t.uri||t.url,h=l.method=t.method||"GET",p=t.body||t.data,v=l.headers=t.headers||{},g=!!t.sync,y=!1;if("json"in t&&(y=!0,v.accept||v.Accept||(v.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(v["content-type"]||v["Content-Type"]||(v["Content-Type"]="application/json"),p=JSON.stringify(t.json))),l.onreadystatechange=function(){4===l.readyState&&a()},l.onload=a,l.onerror=r,l.onprogress=function(){},l.ontimeout=r,l.open(h,f,!g,t.username,t.password),g||(l.withCredentials=!!t.withCredentials),!g&&t.timeout>0&&(d=setTimeout(function(){c=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",r(t)},t.timeout)),l.setRequestHeader)for(u in v)v.hasOwnProperty(u)&&l.setRequestHeader(u,v[u]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(p),l}var r=t("global/window"),i=t("once"),o=t("parse-headers");e.exports=n,n.XMLHttpRequest=r.XMLHttpRequest||function(){},n.XDomainRequest="withCredentials"in new n.XMLHttpRequest?n.XMLHttpRequest:r.XDomainRequest},{"global/window":2,once:56,"parse-headers":60}],56:[function(t,e){function n(t){var e=!1;return function(){return e?void 0:(e=!0,t.apply(this,arguments))}}e.exports=n,n.proto=n(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return n(this)},configurable:!0})})},{}],57:[function(t,e){var n=t("is-function");e.exports=function(t,e,o){if(!n(e))throw new TypeError("iterator must be a function");arguments.length<3&&(o=this),"[object Array]"===r.call(t)?function(t,e,n){for(var r=0,o=t.length;o>r;r++)i.call(t,r)&&e.call(n,t[r],r,t)}(t,e,o):"string"==typeof t?function(t,e,n){for(var r=0,i=t.length;i>r;r++)e.call(n,t.charAt(r),r,t)}(t,e,o):function(t,e,n){for(var r in t)i.call(t,r)&&e.call(n,t[r],r,t)}(t,e,o)};var r=Object.prototype.toString,i=Object.prototype.hasOwnProperty},{"is-function":58}],58:[function(t,e){e.exports=function(t){var e=n.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)};var n=Object.prototype.toString},{}],59:[function(t,e,n){(n=e.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},n.right=function(t){return t.replace(/\s*$/,"")}},{}],60:[function(t,e){var n=t("trim"),r=t("for-each");e.exports=function(t){if(!t)return{};var e={};return r(n(t).split("\n"),function(t){var r=t.indexOf(":"),i=n(t.slice(0,r)).toLowerCase(),o=n(t.slice(r+1));void 0===e[i]?e[i]=o:"[object Array]"===Object.prototype.toString.call(e[i])?e[i].push(o):e[i]=[e[i],o]}),e}},{"for-each":57,trim:59}],61:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("./button.js")),o=r(t("./component.js")),a=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(){this.player_.play()},e}(i.default);a.prototype.controlText_="Play Video",o.default.registerComponent("BigPlayButton",a),n.default=a,e.exports=n.default},{"./button.js":62,"./component.js":63}],62:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("./component")),a=r(t("./utils/dom.js")),s=r(t("./utils/events.js")),l=r(t("./utils/fn.js")),u=i(t("global/document")),c=i(t("object.assign")),d=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.emitTapEvents(),this.on("tap",this.handleClick),this.on("click",this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){var e=arguments.length<=0||void 0===arguments[0]?"button":arguments[0],n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];n=c.default({className:this.buildCSSClass(),tabIndex:0},n),r=c.default({role:"button",type:"button","aria-live":"polite"},r);var i=t.prototype.createEl.call(this,e,n,r);return this.controlTextEl_=a.createEl("span",{className:"vjs-control-text"}),i.appendChild(this.controlTextEl_),this.controlText(this.controlText_),i},e.prototype.controlText=function(t){return t?(this.controlText_=t,this.controlTextEl_.innerHTML=this.localize(this.controlText_),this):this.controlText_||"Need Text"},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(){},e.prototype.handleFocus=function(){s.on(u.default,"keydown",l.bind(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(t){(32===t.which||13===t.which)&&(t.preventDefault(),this.handleClick(t))},e.prototype.handleBlur=function(){s.off(u.default,"keydown",l.bind(this,this.handleKeyPress))},e}(o.default);o.default.registerComponent("Button",d),n.default=d,e.exports=n.default},{"./component":63,"./utils/dom.js":123,"./utils/events.js":124,"./utils/fn.js":125,"global/document":1,"object.assign":45}],63:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("global/window")),a=r(t("./utils/dom.js")),s=r(t("./utils/fn.js")),l=r(t("./utils/guid.js")),u=r(t("./utils/events.js")),c=i(t("./utils/log.js")),d=i(t("./utils/to-title-case.js")),f=i(t("object.assign")),h=i(t("./utils/merge-options.js")),p=function(){function t(e,n,r){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player_=!e&&this.play?e=this:e,this.options_=h.default({},this.options_),n=this.options_=h.default(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){var i=e&&e.id&&e.id()||"no_player";this.id_=i+"_component_"+l.newGUID()}this.name_=n.name||null,n.el?this.el_=n.el:!1!==n.createEl&&(this.el_=this.createEl()),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==n.initChildren&&this.initChildren(),this.ready(r),!1!==n.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.off(),this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),a.removeElData(this.el_),this.el_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return c.default.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=h.default(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,n){return a.createEl(t,e,n)},t.prototype.localize=function(t){var e=this.player_.language&&this.player_.language(),n=this.player_.languages&&this.player_.languages();if(!e||!n)return t;var r=n[e];if(r&&r[t])return r[t];var i=n[e.split("-")[0]];return i&&i[t]?i[t]:t},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){return this.childNameIndex_[t]},t.prototype.addChild=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=void 0,i=void 0;if("string"==typeof e){i=e,n||(n={}),!0===n&&(c.default.warn("Initializing a child component with `true` is deprecated. Children should be defined in an array when possible, but if necessary use an object instead of `true`."),n={});var o=n.componentClass||d.default(i);n.name=i;r=new(t.getComponent(o))(this.player_||this,n)}else r=e;return this.children_.push(r),"function"==typeof r.id&&(this.childIndex_[r.id()]=r),(i=i||r.name&&r.name())&&(this.childNameIndex_[i]=r),"function"==typeof r.el&&r.el()&&this.contentEl().appendChild(r.el()),r},t.prototype.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,n=this.children_.length-1;n>=0;n--)if(this.children_[n]===t){e=!0,this.children_.splice(n,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var r=t.el();r&&r.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var t=this,e=this.options_.children;e&&function(){var n=t.options_,r=function(e,r){void 0!==n[e]&&(r=n[e]),!1!==r&&(!0===r&&(r={}),r.playerOptions=t.options_.playerOptions,t[e]=t.addChild(e,r))};if(Array.isArray(e))for(var i=0;i<e.length;i++){var o=e[i],a=void 0,s=void 0;"string"==typeof o?(a=o,s={}):(a=o.name,s=o),r(a,s)}else Object.getOwnPropertyNames(e).forEach(function(t){r(t,e[t])})}()},t.prototype.buildCSSClass=function(){return""},t.prototype.on=function(t,e,n){var r=this;return"string"==typeof t||Array.isArray(t)?u.on(this.el_,t,s.bind(this,e)):function(){var i=t,o=e,a=s.bind(r,n),l=function(){return r.off(i,o,a)};l.guid=a.guid,r.on("dispose",l);var c=function(){return r.off("dispose",l)};c.guid=a.guid,t.nodeName?(u.on(i,o,a),u.on(i,"dispose",c)):"function"==typeof t.on&&(i.on(o,a),i.on("dispose",c))}(),this},t.prototype.off=function(t,e,n){if(!t||"string"==typeof t||Array.isArray(t))u.off(this.el_,t,e);else{var r=t,i=e,o=s.bind(this,n);this.off("dispose",o),t.nodeName?(u.off(r,i,o),u.off(r,"dispose",o)):(r.off(i,o),r.off("dispose",o))}return this},t.prototype.one=function(t,e,n){var r=this,i=arguments;return"string"==typeof t||Array.isArray(t)?u.one(this.el_,t,s.bind(this,e)):function(){var o=t,a=e,l=s.bind(r,n),u=function t(){r.off(o,a,t),l.apply(null,i)};u.guid=l.guid,r.on(o,a,u)}(),this},t.prototype.trigger=function(t,e){return u.trigger(this.el_,t,e),this},t.prototype.ready=function(t){return t&&(this.isReady_?!(arguments.length<=1||void 0===arguments[1])&&arguments[1]?t.call(this):this.setTimeout(t,1):(this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(t))),this},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},t.prototype.hasClass=function(t){return a.hasElClass(this.el_,t)},t.prototype.addClass=function(t){return a.addElClass(this.el_,t),this},t.prototype.removeClass=function(t){return a.removeElClass(this.el_,t),this},t.prototype.show=function(){return this.removeClass("vjs-hidden"),this},t.prototype.hide=function(){return this.addClass("vjs-hidden"),this},t.prototype.lockShowing=function(){return this.addClass("vjs-lock-showing"),this},t.prototype.unlockShowing=function(){return this.removeClass("vjs-lock-showing"),this},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){return this.width(t,!0).height(e)},t.prototype.dimension=function(t,e,n){if(void 0!==e)return(null===e||e!=e)&&(e=0),this.el_.style[t]=-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?e:"auto"===e?"":e+"px",n||this.trigger("resize"),this;if(!this.el_)return 0;var r=this.el_.style[t],i=r.indexOf("px");return-1!==i?parseInt(r.slice(0,i),10):parseInt(this.el_["offset"+d.default(t)],10)},t.prototype.emitTapEvents=function(){var t=0,e=null,n=void 0;this.on("touchstart",function(r){1===r.touches.length&&(e=f.default({},r.touches[0]),t=(new Date).getTime(),n=!0)}),this.on("touchmove",function(t){if(t.touches.length>1)n=!1;else if(e){var r=t.touches[0].pageX-e.pageX,i=t.touches[0].pageY-e.pageY;Math.sqrt(r*r+i*i)>10&&(n=!1)}});var r=function(){n=!1};this.on("touchleave",r),this.on("touchcancel",r),this.on("touchend",function(r){if(e=null,!0===n){200>(new Date).getTime()-t&&(r.preventDefault(),this.trigger("tap"))}})},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=s.bind(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",function(){t(),this.clearInterval(e),e=this.setInterval(t,250)});var n=function(){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",n),this.on("touchcancel",n)}},t.prototype.setTimeout=function(t,e){t=s.bind(this,t);var n=o.default.setTimeout(t,e),r=function(){this.clearTimeout(n)};return r.guid="vjs-timeout-"+n,this.on("dispose",r),n},t.prototype.clearTimeout=function(t){o.default.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){t=s.bind(this,t);var n=o.default.setInterval(t,e),r=function(){this.clearInterval(n)};return r.guid="vjs-interval-"+n,this.on("dispose",r),n},t.prototype.clearInterval=function(t){o.default.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.registerComponent=function(e,n){return t.components_||(t.components_={}),t.components_[e]=n,n},t.getComponent=function(e){return t.components_&&t.components_[e]?t.components_[e]:o.default&&o.default.videojs&&o.default.videojs[e]?(c.default.warn("The "+e+" component was added to the videojs object when it should be registered using videojs.registerComponent(name, component)"),o.default.videojs[e]):void 0},t.extend=function(e){e=e||{},c.default.warn("Component.extend({}) has been deprecated, use videojs.extend(Component, {}) instead");var n=e.init||e.init||this.prototype.init||this.prototype.init||function(){},r=function(){n.apply(this,arguments)};(r.prototype=Object.create(this.prototype)).constructor=r,r.extend=t.extend;for(var i in e)e.hasOwnProperty(i)&&(r.prototype[i]=e[i]);return r},t}();p.registerComponent("Component",p),n.default=p,e.exports=n.default},{"./utils/dom.js":123,"./utils/events.js":124,"./utils/fn.js":125,"./utils/guid.js":127,"./utils/log.js":128,"./utils/merge-options.js":129,"./utils/to-title-case.js":132,"global/window":2,"object.assign":45}],64:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../component.js")),o=(r((r((r((r((r((r((r((r((r((r((r((r((r((r((r((r(t("./play-toggle.js")),t("./time-controls/current-time-display.js"))),t("./time-controls/duration-display.js"))),t("./time-controls/time-divider.js"))),t("./time-controls/remaining-time-display.js"))),t("./live-display.js"))),t("./progress-control/progress-control.js"))),t("./fullscreen-toggle.js"))),t("./volume-control/volume-control.js"))),t("./volume-menu-button.js"))),t("./mute-toggle.js"))),t("./text-track-controls/chapters-button.js"))),t("./text-track-controls/subtitles-button.js"))),t("./text-track-controls/captions-button.js"))),t("./playback-rate-menu/playback-rate-menu-button.js"))),t("./spacer-controls/custom-control-spacer.js"))),function(t){function e(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar"})},e}(i.default));o.prototype.options_={loadEvent:"play",children:["playToggle","volumeMenuButton","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","subtitlesButton","captionsButton","fullscreenToggle"]},i.default.registerComponent("ControlBar",o),n.default=o,e.exports=n.default},{"../component.js":63,"./fullscreen-toggle.js":65,"./live-display.js":66,"./mute-toggle.js":67,"./play-toggle.js":68,"./playback-rate-menu/playback-rate-menu-button.js":69,"./progress-control/progress-control.js":74,"./spacer-controls/custom-control-spacer.js":76,"./text-track-controls/captions-button.js":79,"./text-track-controls/chapters-button.js":80,"./text-track-controls/subtitles-button.js":83,"./time-controls/current-time-display.js":86,"./time-controls/duration-display.js":87,"./time-controls/remaining-time-display.js":88,"./time-controls/time-divider.js":89,"./volume-control/volume-control.js":91,"./volume-menu-button.js":93}],65:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../button.js")),o=r(t("../component.js")),a=function(t){function e(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(){this.player_.isFullscreen()?(this.player_.exitFullscreen(),this.controlText("Fullscreen")):(this.player_.requestFullscreen(),this.controlText("Non-Fullscreen"))},e}(i.default);a.prototype.controlText_="Fullscreen",o.default.registerComponent("FullscreenToggle",a),n.default=a,e.exports=n.default},{"../button.js":62,"../component.js":63}],66:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("../component"),o=(r=i,r&&r.__esModule?r:{default:r}),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../utils/dom.js")),s=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.updateShowing(),this.on(this.player(),"durationchange",this.updateShowing)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=a.createEl("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"</span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateShowing=function(){this.player().duration()===1/0?this.show():this.hide()},e}(o.default);o.default.registerComponent("LiveDisplay",s),n.default=s,e.exports=n.default},{"../component":63,"../utils/dom.js":123}],67:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../button")),o=r(t("../component")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../utils/dom.js")),s=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.on(n,"volumechange",this.update),n.tech_&&!1===n.tech_.featuresVolumeControl&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){this.update(),!1===n.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(){this.player_.muted(!this.player_.muted())},e.prototype.update=function(){var t=this.player_.volume(),e=3;0===t||this.player_.muted()?e=0:.33>t?e=1:.67>t&&(e=2);var n=this.player_.muted()?"Unmute":"Mute",r=this.localize(n);this.controlText()!==r&&this.controlText(r);for(var i=0;4>i;i++)a.removeElClass(this.el_,"vjs-vol-"+i);a.addElClass(this.el_,"vjs-vol-"+e)},e}(i.default);s.prototype.controlText_="Mute",o.default.registerComponent("MuteToggle",s),n.default=s,e.exports=n.default},{"../button":62,"../component":63,"../utils/dom.js":123}],68:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../button.js")),o=r(t("../component.js")),a=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.on(n,"play",this.handlePlay),this.on(n,"pause",this.handlePause)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handlePlay=function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e}(i.default);a.prototype.controlText_="Play",o.default.registerComponent("PlayToggle",a),n.default=a,e.exports=n.default},{"../button.js":62,"../component.js":63}],69:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../menu/menu-button.js")),o=r(t("../../menu/menu.js")),a=r(t("./playback-rate-menu-item.js")),s=r(t("../../component.js")),l=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../utils/dom.js")),u=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.updateVisibility(),this.updateLabel(),this.on(n,"loadstart",this.updateVisibility),this.on(n,"ratechange",this.updateLabel)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=l.createEl("div",{className:"vjs-playback-rate-value",innerHTML:1}),e.appendChild(this.labelEl_),e},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.createMenu=function(){var t=new o.default(this.player()),e=this.playbackRates();if(e)for(var n=e.length-1;n>=0;n--)t.addChild(new a.default(this.player(),{rate:e[n]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(){for(var t=this.player().playbackRate(),e=this.playbackRates(),n=e[0],r=0;r<e.length;r++)if(e[r]>t){n=e[r];break}this.player().playbackRate(n)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(i.default);u.prototype.controlText_="Playback Rate",s.default.registerComponent("PlaybackRateMenuButton",u),n.default=u,e.exports=n.default},{"../../component.js":63,"../../menu/menu-button.js":100,"../../menu/menu.js":102,"../../utils/dom.js":123,"./playback-rate-menu-item.js":70}],70:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../menu/menu-item.js")),o=r(t("../../component.js")),a=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r.rate,o=parseFloat(i,10);r.label=i,r.selected=1===o,t.call(this,n,r),this.label=i,this.rate=o,this.on(n,"ratechange",this.update)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleClick=function(){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(){this.selected(this.player().playbackRate()===this.rate)},e}(i.default);a.prototype.contentElType="button",o.default.registerComponent("PlaybackRateMenuItem",a),n.default=a,e.exports=n.default},{"../../component.js":63,"../../menu/menu-item.js":101}],71:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("../../component.js"),o=(r=i,r&&r.__esModule?r:{default:r}),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../utils/dom.js")),s=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.on(n,"progress",this.update)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.update=function(){var t=this.player_.buffered(),e=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.el_.children,i=function(t,e){var n=t/e||0;return 100*(n>=1?1:n)+"%"};this.el_.style.width=i(n,e);for(var o=0;o<t.length;o++){var s=t.start(o),l=t.end(o),u=r[o];u||(u=this.el_.appendChild(a.createEl())),u.style.left=i(s,n),u.style.width=i(l-s,n)}for(o=r.length;o>t.length;o--)this.el_.removeChild(r[o-1])},e}(o.default);o.default.registerComponent("LoadProgressBar",s),n.default=s,e.exports=n.default},{"../../component.js":63,"../../utils/dom.js":123}],72:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("../../component.js")),a=r(t("../../utils/dom.js")),s=r(t("../../utils/fn.js")),l=i(t("../../utils/format-time.js")),u=i(t("lodash-compat/function/throttle")),c=function(t){function e(n,r){var i=this;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.update(0,0),n.on("ready",function(){i.on(n.controlBar.progressControl.el(),"mousemove",u.default(s.bind(i,i.handleMouseMove),25))})}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.handleMouseMove=function(t){var e=this.player_.duration(),n=this.calculateDistance(t)*e,r=t.pageX-a.findElPosition(this.el().parentNode).left;this.update(n,r)},e.prototype.update=function(t,e){var n=l.default(t,this.player_.duration());this.el().style.left=e+"px",this.el().setAttribute("data-current-time",n)},e.prototype.calculateDistance=function(t){return a.getPointerPosition(this.el().parentNode,t).x},e}(o.default);o.default.registerComponent("MouseTimeDisplay",c),n.default=c,e.exports=n.default},{"../../component.js":63,"../../utils/dom.js":123,"../../utils/fn.js":125,"../../utils/format-time.js":126,"lodash-compat/function/throttle":7}],73:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../component.js")),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../utils/fn.js")),a=r(t("../../utils/format-time.js")),s=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.updateDataAttr(),this.on(n,"timeupdate",this.updateDataAttr),n.ready(o.bind(this,this.updateDataAttr))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.updateDataAttr=function(){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("data-current-time",a.default(t,this.player_.duration()))},e}(i.default);i.default.registerComponent("PlayProgressBar",s),n.default=s,e.exports=n.default},{"../../component.js":63,"../../utils/fn.js":125,"../../utils/format-time.js":126}],74:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../component.js")),o=(r((r(t("./seek-bar.js")),t("./mouse-time-display.js"))),function(t){function e(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e}(i.default));o.prototype.options_={children:["seekBar"]},i.default.registerComponent("ProgressControl",o),n.default=o,e.exports=n.default},{"../../component.js":63,"./mouse-time-display.js":72,"./seek-bar.js":75}],75:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../slider/slider.js")),o=r(t("../../component.js")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}((r((r(t("./load-progress-bar.js")),t("./play-progress-bar.js"))),t("../../utils/fn.js"))),s=r(t("../../utils/format-time.js")),l=(r(t("object.assign")),function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.on(n,"timeupdate",this.updateARIAAttributes),n.ready(a.bind(this,this.updateARIAAttributes))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":"video progress bar"})},e.prototype.updateARIAAttributes=function(){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.el_.setAttribute("aria-valuenow",(100*this.getPercent()).toFixed(2)),this.el_.setAttribute("aria-valuetext",s.default(t,this.player_.duration()))},e.prototype.getPercent=function(){var t=this.player_.currentTime()/this.player_.duration();return t>=1?1:t},e.prototype.handleMouseDown=function(e){t.prototype.handleMouseDown.call(this,e),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause()},e.prototype.handleMouseMove=function(t){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),this.player_.scrubbing(!1),this.videoWasPlaying&&this.player_.play()},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},e}(i.default));l.prototype.options_={children:["loadProgressBar","mouseTimeDisplay","playProgressBar"],barName:"playProgressBar"},l.prototype.playerEvent="timeupdate",o.default.registerComponent("SeekBar",l),n.default=l,e.exports=n.default},{"../../component.js":63,"../../slider/slider.js":107,"../../utils/fn.js":125,"../../utils/format-time.js":126,"./load-progress-bar.js":71,"./play-progress-bar.js":73,"object.assign":45}],76:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("./spacer.js")),o=r(t("../../component.js")),a=function(t){function e(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="&nbsp;",e},e}(i.default);o.default.registerComponent("CustomControlSpacer",a),n.default=a,e.exports=n.default},{"../../component.js":63,"./spacer.js":77}],77:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("../../component.js"),o=(r=i,r&&r.__esModule?r:{default:r}),a=function(t){function e(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(o.default);o.default.registerComponent("Spacer",a),n.default=a,e.exports=n.default},{"../../component.js":63}],78:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("./text-track-menu-item.js")),o=r(t("../../component.js")),a=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),r.track={kind:r.kind,player:n,label:r.kind+" settings",default:!1,mode:"disabled"},t.call(this,n,r),this.addClass("vjs-texttrack-settings")}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleClick=function(){this.player().getChild("textTrackSettings").show()},e}(i.default);o.default.registerComponent("CaptionSettingsMenuItem",a),n.default=a,e.exports=n.default},{"../../component.js":63,"./text-track-menu-item.js":85}],79:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("./text-track-button.js")),o=r(t("../../component.js")),a=r(t("./caption-settings-menu-item.js")),s=function(t){function e(n,r,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r,i),this.el_.setAttribute("aria-label","Captions Menu")}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.update=function(){var e=2;t.prototype.update.call(this),this.player().tech_&&this.player().tech_.featuresNativeTextTracks&&(e=1),this.items&&this.items.length>e?this.show():this.hide()},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||e.push(new a.default(this.player_,{kind:this.kind_})),t.prototype.createItems.call(this,e)},e}(i.default);s.prototype.kind_="captions",s.prototype.controlText_="Captions",o.default.registerComponent("CaptionsButton",s),n.default=s,e.exports=n.default},{"../../component.js":63,"./caption-settings-menu-item.js":78,"./text-track-button.js":84}],80:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("./text-track-button.js")),a=i(t("../../component.js")),s=i(t("./text-track-menu-item.js")),l=i(t("./chapters-track-menu-item.js")),u=i(t("../../menu/menu.js")),c=r(t("../../utils/dom.js")),d=r(t("../../utils/fn.js")),f=i(t("../../utils/to-title-case.js")),h=i(t("global/window")),p=function(t){function e(n,r,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r,i),this.el_.setAttribute("aria-label","Chapters Menu")}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.createItems=function(){var t=[],e=this.player_.textTracks();if(!e)return t;for(var n=0;n<e.length;n++){var r=e[n];r.kind===this.kind_&&t.push(new s.default(this.player_,{track:r}))}return t},e.prototype.createMenu=function(){for(var t=this.player_.textTracks()||[],e=void 0,n=this.items=[],r=0,i=t.length;i>r;r++){var o=t[r];if(o.kind===this.kind_){if(o.cues){e=o;break}o.mode="hidden",h.default.setTimeout(d.bind(this,function(){this.createMenu()}),100)}}var a=this.menu;if(void 0===a&&(a=new u.default(this.player_),a.contentEl().appendChild(c.createEl("li",{className:"vjs-menu-title",innerHTML:f.default(this.kind_),tabIndex:-1}))),e){var s=e.cues;for(r=0,i=s.length;i>r;r++){var p=new l.default(this.player_,{track:e,cue:s[r]});n.push(p),a.addChild(p)}this.addChild(a)}return this.items.length>0&&this.show(),a},e}(o.default);p.prototype.kind_="chapters",p.prototype.controlText_="Chapters",a.default.registerComponent("ChaptersButton",p),n.default=p,e.exports=n.default},{"../../component.js":63,"../../menu/menu.js":102,"../../utils/dom.js":123,"../../utils/fn.js":125,"../../utils/to-title-case.js":132,"./chapters-track-menu-item.js":81,"./text-track-button.js":84,"./text-track-menu-item.js":85,"global/window":2}],81:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../menu/menu-item.js")),o=r(t("../../component.js")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../utils/fn.js")),s=function(t){function e(n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=r.track,o=r.cue,s=n.currentTime();r.label=o.text,r.selected=o.startTime<=s&&s<o.endTime,t.call(this,n,r),this.track=i,this.cue=o,i.addEventListener("cuechange",a.bind(this,this.update))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleClick=function(){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(){var t=this.cue,e=this.player_.currentTime();this.selected(t.startTime<=e&&e<t.endTime)},e}(i.default);o.default.registerComponent("ChaptersTrackMenuItem",s),n.default=s,e.exports=n.default},{"../../component.js":63,"../../menu/menu-item.js":101,"../../utils/fn.js":125}],82:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("./text-track-menu-item.js")),o=r(t("../../component.js")),a=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),r.track={kind:r.kind,player:n,label:r.kind+" off",default:!1,mode:"disabled"},t.call(this,n,r),this.selected(!0)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleTracksChange=function(){for(var t=this.player().textTracks(),e=!0,n=0,r=t.length;r>n;n++){var i=t[n];if(i.kind===this.track.kind&&"showing"===i.mode){e=!1;break}}this.selected(e)},e}(i.default);o.default.registerComponent("OffTextTrackMenuItem",a),n.default=a,e.exports=n.default},{"../../component.js":63,"./text-track-menu-item.js":85}],83:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("./text-track-button.js")),o=r(t("../../component.js")),a=function(t){function e(n,r,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r,i),this.el_.setAttribute("aria-label","Subtitles Menu")}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e}(i.default);a.prototype.kind_="subtitles",a.prototype.controlText_="Subtitles",o.default.registerComponent("SubtitlesButton",a),n.default=a,e.exports=n.default},{"../../component.js":63,"./text-track-button.js":84}],84:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../menu/menu-button.js")),o=r(t("../../component.js")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../utils/fn.js")),s=r(t("./text-track-menu-item.js")),l=r(t("./off-text-track-menu-item.js")),u=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r);var i=this.player_.textTracks();if(this.items.length<=1&&this.hide(),i){var o=a.bind(this,this.update);i.addEventListener("removetrack",o),i.addEventListener("addtrack",o),this.player_.on("dispose",function(){i.removeEventListener("removetrack",o),i.removeEventListener("addtrack",o)})}}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createItems=function(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0];t.push(new l.default(this.player_,{kind:this.kind_}));var e=this.player_.textTracks();if(!e)return t;for(var n=0;n<e.length;n++){var r=e[n];r.kind===this.kind_&&t.push(new s.default(this.player_,{track:r}))}return t},e}(i.default);o.default.registerComponent("TextTrackButton",u),n.default=u,e.exports=n.default},{"../../component.js":63,"../../menu/menu-button.js":100,"../../utils/fn.js":125,"./off-text-track-menu-item.js":82,"./text-track-menu-item.js":85}],85:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../menu/menu-item.js")),o=r(t("../../component.js")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../utils/fn.js")),s=r(t("global/window")),l=r(t("global/document")),u=function(t){function e(n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=r.track,u=n.textTracks();r.label=o.label||o.language||"Unknown",r.selected=o.default||"showing"===o.mode,t.call(this,n,r),this.track=o,u&&function(){var t=a.bind(i,i.handleTracksChange);u.addEventListener("change",t),i.on("dispose",function(){u.removeEventListener("change",t)})}(),u&&void 0===u.onchange&&function(){var t=void 0;i.on(["tap","click"],function(){if("object"!=typeof s.default.Event)try{t=new s.default.Event("change")}catch(t){}t||(t=l.default.createEvent("Event"),t.initEvent("change",!0,!0)),u.dispatchEvent(t)})}()}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.handleClick=function(e){var n=this.track.kind,r=this.player_.textTracks();if(t.prototype.handleClick.call(this,e),r)for(var i=0;i<r.length;i++){var o=r[i];o.kind===n&&(o.mode=o===this.track?"showing":"disabled")}},e.prototype.handleTracksChange=function(){this.selected("showing"===this.track.mode)},e}(i.default);o.default.registerComponent("TextTrackMenuItem",u),n.default=u,e.exports=n.default},{"../../component.js":63,"../../menu/menu-item.js":101,"../../utils/fn.js":125,"global/document":1,"global/window":2}],86:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../component.js")),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../utils/dom.js")),a=r(t("../../utils/format-time.js")),s=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.on(n,"timeupdate",this.updateContent)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-current-time vjs-time-control vjs-control"});return this.contentEl_=o.createEl("div",{className:"vjs-current-time-display",innerHTML:'<span class="vjs-control-text">Current Time </span>0:00'},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(){var t=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),e=this.localize("Current Time"),n=a.default(t,this.player_.duration());this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> "+n},e}(i.default);i.default.registerComponent("CurrentTimeDisplay",s),n.default=s,e.exports=n.default},{"../../component.js":63,"../../utils/dom.js":123,"../../utils/format-time.js":126}],87:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../component.js")),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../utils/dom.js")),a=r(t("../../utils/format-time.js")),s=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.on(n,"timeupdate",this.updateContent),this.on(n,"loadedmetadata",this.updateContent)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-duration vjs-time-control vjs-control"});return this.contentEl_=o.createEl("div",{className:"vjs-duration-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Duration Time")+"</span> 0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(){var t=this.player_.duration();if(t){var e=this.localize("Duration Time"),n=a.default(t);this.contentEl_.innerHTML='<span class="vjs-control-text">'+e+"</span> "+n}},e}(i.default);i.default.registerComponent("DurationDisplay",s),n.default=s,e.exports=n.default},{"../../component.js":63,"../../utils/dom.js":123,"../../utils/format-time.js":126}],88:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../component.js")),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../utils/dom.js")),a=r(t("../../utils/format-time.js")),s=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.on(n,"timeupdate",this.updateContent)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-remaining-time vjs-time-control vjs-control"});return this.contentEl_=o.createEl("div",{className:"vjs-remaining-time-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Remaining Time")+"</span> -0:00"},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.updateContent=function(){if(this.player_.duration()){var t=this.localize("Remaining Time"),e=a.default(this.player_.remainingTime());this.contentEl_.innerHTML='<span class="vjs-control-text">'+t+"</span> -"+e}},e}(i.default);i.default.registerComponent("RemainingTimeDisplay",s),n.default=s,e.exports=n.default},{"../../component.js":63,"../../utils/dom.js":123,"../../utils/format-time.js":126}],89:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("../../component.js"),o=(r=i,r&&r.__esModule?r:{default:r}),a=function(t){function e(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(o.default);o.default.registerComponent("TimeDivider",a),n.default=a,e.exports=n.default},{"../../component.js":63}],90:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../slider/slider.js")),o=r(t("../../component.js")),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../../utils/fn.js")),s=(r(t("./volume-level.js")),function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.on(n,"volumechange",this.updateARIAAttributes),n.ready(a.bind(this,this.updateARIAAttributes))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":"volume level"})},e.prototype.handleMouseMove=function(t){this.player_.muted()&&this.player_.muted(!1),this.player_.volume(this.calculateDistance(t))},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(){var t=(100*this.player_.volume()).toFixed(2);this.el_.setAttribute("aria-valuenow",t),this.el_.setAttribute("aria-valuetext",t+"%")},e}(i.default));s.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},s.prototype.playerEvent="volumechange",o.default.registerComponent("VolumeBar",s),n.default=s,e.exports=n.default},{"../../component.js":63,"../../slider/slider.js":107,"../../utils/fn.js":125,"./volume-level.js":92}],91:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../../component.js")),o=(r(t("./volume-bar.js")),function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),n.tech_&&!1===n.tech_.featuresVolumeControl&&this.addClass("vjs-hidden"),this.on(n,"loadstart",function(){!1===n.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")})}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control"})},e}(i.default));o.prototype.options_={children:["volumeBar"]},i.default.registerComponent("VolumeControl",o),n.default=o,e.exports=n.default},{"../../component.js":63,"./volume-bar.js":90}],92:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("../../component.js"),o=(r=i,r&&r.__esModule?r:{default:r}),a=function(t){function e(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(o.default);o.default.registerComponent("VolumeLevel",a),n.default=a,e.exports=n.default},{"../../component.js":63}],93:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r((r(t("../button.js")),t("../component.js"))),o=r(t("../menu/menu.js")),a=r(t("../menu/menu-button.js")),s=r(t("./mute-toggle.js")),l=r(t("./volume-control/volume-bar.js")),u=function(t){function e(n){function r(){n.tech_&&!1===n.tech_.featuresVolumeControl?this.addClass("vjs-hidden"):this.removeClass("vjs-hidden")}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),void 0===i.inline&&(i.inline=!0),void 0===i.vertical&&(i.vertical=!i.inline),i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=!!i.vertical,t.call(this,n,i),this.on(n,"volumechange",this.volumeUpdate),this.on(n,"loadstart",this.volumeUpdate),r.call(this),this.on(n,"loadstart",r),this.on(this.volumeBar,["slideractive","focus"],function(){this.addClass("vjs-slider-active")}),this.on(this.volumeBar,["sliderinactive","blur"],function(){this.removeClass("vjs-slider-active")})}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.buildCSSClass=function(){var e="";return e=this.options_.vertical?"vjs-volume-menu-button-vertical":"vjs-volume-menu-button-horizontal","vjs-volume-menu-button "+t.prototype.buildCSSClass.call(this)+" "+e},e.prototype.createMenu=function(){var t=new o.default(this.player_,{contentElType:"div"}),e=new l.default(this.player_,this.options_.volumeBar);return t.addChild(e),this.volumeBar=e,t},e.prototype.handleClick=function(){s.default.prototype.handleClick.call(this),t.prototype.handleClick.call(this)},e}(a.default);u.prototype.volumeUpdate=s.default.prototype.update,u.prototype.controlText_="Mute",i.default.registerComponent("VolumeMenuButton",u),n.default=u,e.exports=n.default},{"../button.js":62,"../component.js":63,"../menu/menu-button.js":100,"../menu/menu.js":102,"./mute-toggle.js":67,"./volume-control/volume-bar.js":90}],94:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("./component"),o=(r=i,r&&r.__esModule?r:{default:r}),a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils/dom.js")),s=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.update(),this.on(n,"error",this.update)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-error-display"});return this.contentEl_=a.createEl("div"),e.appendChild(this.contentEl_),e},e.prototype.update=function(){this.player().error()&&(this.contentEl_.innerHTML=this.localize(this.player().error().message))},e}(o.default);o.default.registerComponent("ErrorDisplay",s),n.default=s,e.exports=n.default},{"./component":63,"./utils/dom.js":123}],95:[function(t,e,n){"use strict";n.__esModule=!0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils/events.js")),i=function(){};i.prototype.allowedEvents_={},i.prototype.addEventListener=i.prototype.on=function(t,e){var n=this.addEventListener;this.addEventListener=Function.prototype,r.on(this,t,e),this.addEventListener=n},i.prototype.removeEventListener=i.prototype.off=function(t,e){r.off(this,t,e)},i.prototype.one=function(t,e){r.one(this,t,e)},i.prototype.dispatchEvent=i.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=r.fixEvent(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),r.trigger(this,t)},n.default=i,e.exports=n.default},{"./utils/events.js":124}],96:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("./utils/log"),o=(r=i,r&&r.__esModule?r:{default:r});n.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=function(){t.apply(this,arguments)},r={};"object"==typeof e?("function"==typeof e.init&&(o.default.warn("Constructor logic via init() is deprecated; please use constructor() instead."),e.constructor=e.init),e.constructor!==Object.prototype.constructor&&(n=e.constructor),r=e):"function"==typeof e&&(n=e),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)}(n,t);for(var i in r)r.hasOwnProperty(i)&&(n.prototype[i]=r[i]);return n},e.exports=n.default},{"./utils/log":128}],97:[function(t,e,n){"use strict";n.__esModule=!0;for(var r=t("global/document"),i=(c=r,c&&c.__esModule?c:{default:c}),o={},a=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],s=a[0],l=void 0,u=0;u<a.length;u++)if(a[u][1]in i.default){l=a[u];break}var c;if(l)for(u=0;u<l.length;u++)o[s[u]]=l[u];n.default=o,e.exports=n.default},{"global/document":1}],98:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("./component"),o=(r=i,r&&r.__esModule?r:{default:r}),a=function(t){function e(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner"})},e}(o.default);o.default.registerComponent("LoadingSpinner",a),n.default=a,e.exports=n.default},{"./component":63}],99:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("object.assign"),o=(r=i,r&&r.__esModule?r:{default:r}),a=function t(e){"number"==typeof e?this.code=e:"string"==typeof e?this.message=e:"object"==typeof e&&o.default(this,e),this.message||(this.message=t.defaultMessages[this.code]||"")};a.prototype.code=0,a.prototype.message="",a.prototype.status=null,a.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],a.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var s=0;s<a.errorTypes.length;s++)a[a.errorTypes[s]]=s,a.prototype[a.errorTypes[s]]=s;n.default=a,e.exports=n.default},{"object.assign":45}],100:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("../button.js")),a=i(t("../component.js")),s=i(t("./menu.js")),l=r(t("../utils/dom.js")),u=r(t("../utils/fn.js")),c=i(t("../utils/to-title-case.js")),d=function(t){function e(n){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.update(),this.on("keydown",this.handleKeyPress),this.el_.setAttribute("aria-haspopup",!0),this.el_.setAttribute("role","button")}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&this.removeChild(this.menu),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.items&&0===this.items.length?this.hide():this.items&&this.items.length>1&&this.show()},e.prototype.createMenu=function(){var t=new s.default(this.player_);if(this.options_.title&&t.contentEl().appendChild(l.createEl("li",{className:"vjs-menu-title",innerHTML:c.default(this.options_.title),tabIndex:-1})),this.items=this.createItems(),this.items)for(var e=0;e<this.items.length;e++)t.addItem(this.items[e]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return"vjs-menu-button "+(e+=!0===this.options_.inline?"-inline":"-popup")+" "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFocus=function(){},e.prototype.handleBlur=function(){},e.prototype.handleClick=function(){this.one("mouseout",u.bind(this,function(){this.menu.unlockShowing(),this.el_.blur()})),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.handleKeyPress=function(t){32===t.which||13===t.which?(this.buttonPressed_?this.unpressButton():this.pressButton(),t.preventDefault()):27===t.which&&(this.buttonPressed_&&this.unpressButton(),t.preventDefault())},e.prototype.pressButton=function(){this.buttonPressed_=!0,this.menu.lockShowing(),this.el_.setAttribute("aria-pressed",!0),this.items&&this.items.length>0&&this.items[0].el().focus()},e.prototype.unpressButton=function(){this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-pressed",!1)},e}(o.default);a.default.registerComponent("MenuButton",d),n.default=d,e.exports=n.default},{"../button.js":62,"../component.js":63,"../utils/dom.js":123,"../utils/fn.js":125,"../utils/to-title-case.js":132,"./menu.js":102}],101:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../button.js")),o=r(t("../component.js")),a=r(t("object.assign")),s=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.selected(r.selected)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(e,n,r){return t.prototype.createEl.call(this,"li",a.default({className:"vjs-menu-item",innerHTML:this.localize(this.options_.label)},n),r)},e.prototype.handleClick=function(){this.selected(!0)},e.prototype.selected=function(t){t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-selected",!0)):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-selected",!1))},e}(i.default);o.default.registerComponent("MenuItem",s),n.default=s,e.exports=n.default},{"../button.js":62,"../component.js":63,"object.assign":45}],102:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}n.__esModule=!0;var i,o=t("../component.js"),a=(i=o,i&&i.__esModule?i:{default:i}),s=r(t("../utils/dom.js")),l=r(t("../utils/fn.js")),u=r(t("../utils/events.js")),c=function(t){function e(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.apply(this,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",l.bind(this,function(){this.unlockShowing()}))},e.prototype.createEl=function(){this.contentEl_=s.createEl(this.options_.contentElType||"ul",{className:"vjs-menu-content"});var e=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return e.appendChild(this.contentEl_),u.on(e,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),e},e}(a.default);a.default.registerComponent("Menu",c),n.default=c,e.exports=n.default},{"../component.js":63,"../utils/dom.js":123,"../utils/events.js":124,"../utils/fn.js":125}],103:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("./component.js")),a=i(t("global/document")),s=i(t("global/window")),l=r(t("./utils/events.js")),u=r(t("./utils/dom.js")),c=r(t("./utils/fn.js")),d=r(t("./utils/guid.js")),f=i((r(t("./utils/browser.js")),t("./utils/log.js"))),h=i(t("./utils/to-title-case.js")),p=t("./utils/time-ranges.js"),v=t("./utils/buffer.js"),g=r(t("./utils/stylesheet.js")),y=i(t("./fullscreen-api.js")),m=i(t("./media-error.js")),_=i(t("safe-json-parse/tuple")),b=i(t("object.assign")),T=i(t("./utils/merge-options.js")),E=i(t("./tracks/text-track-list-converter.js")),w=(i((i((i((i((i((i((i((i((i(t("./tech/loader.js")),t("./poster-image.js"))),t("./tracks/text-track-display.js"))),t("./loading-spinner.js"))),t("./big-play-button.js"))),t("./control-bar/control-bar.js"))),t("./error-display.js"))),t("./tracks/text-track-settings.js"))),t("./tech/html5.js"))),function(t){function e(n,r,i){var o=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n.id=n.id||"vjs_video_"+d.newGUID(),(r=b.default(e.getTagSettings(n),r)).initChildren=!1,r.createEl=!1,r.reportTouchActivity=!1,t.call(this,null,r,i),!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");this.tag=n,this.tagAttributes=n&&u.getElAttributes(n),this.language(this.options_.language),r.languages?function(){var t={};Object.getOwnPropertyNames(r.languages).forEach(function(e){t[e.toLowerCase()]=r.languages[e]}),o.languages_=t}():this.languages_=e.prototype.options_.languages,this.cache_={},this.poster_=r.poster||"",this.controls_=!!r.controls,n.controls=!1,this.scrubbing_=!1,this.el_=this.createEl();var a=T.default(this.options_);r.plugins&&function(){var t=r.plugins;Object.getOwnPropertyNames(t).forEach(function(e){"function"==typeof this[e]?this[e](t[e]):f.default.error("Unable to find plugin:",e)},o)}(),this.options_.playerOptions=a,this.initChildren(),this.isAudio("audio"===n.nodeName.toLowerCase()),this.addClass(this.controls()?"vjs-controls-enabled":"vjs-controls-disabled"),this.isAudio()&&this.addClass("vjs-audio"),this.flexNotSupported_()&&this.addClass("vjs-no-flex"),e.players[this.id_]=this,this.userActive(!0),this.reportUserActivity(),this.listenForUserActivity_(),this.on("fullscreenchange",this.handleFullscreenChange_),this.on("stageclick",this.handleStageClick_)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode.removeChild(this.styleEl_),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&this.tech_.dispose(),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.el_=t.prototype.createEl.call(this,"div"),n=this.tag;n.removeAttribute("width"),n.removeAttribute("height");var r=u.getElAttributes(n);Object.getOwnPropertyNames(r).forEach(function(t){"class"===t?e.className=r[t]:e.setAttribute(t,r[t])}),n.id+="_html5_api",n.className="vjs-tech",n.player=e.player=this,this.addClass("vjs-paused"),this.styleEl_=g.createStyleElement("vjs-styles-dimensions");var i=a.default.querySelector(".vjs-styles-defaults"),o=a.default.querySelector("head");return o.insertBefore(this.styleEl_,i?i.nextSibling:o.firstChild),this.width(this.options_.width),this.height(this.options_.height),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),n.initNetworkState_=n.networkState,n.parentNode&&n.parentNode.insertBefore(e,n),u.insertElFirst(n,e),this.el_=e,e},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var n=t+"_";if(void 0===e)return this[n]||0;if(""===e)this[n]=void 0;else{var r=parseFloat(e);if(isNaN(r))return f.default.error('Improper value "'+e+'" supplied for for '+t),this;this[n]=r}return this.updateStyleEl_(),this},e.prototype.fluid=function(t){return void 0===t?!!this.fluid_:(this.fluid_=!!t,void(t?this.addClass("vjs-fluid"):this.removeClass("vjs-fluid")))},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){var t=void 0,e=void 0,n=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=n[1]/n[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*r;var i=this.id()+"-dimensions";this.addClass(i),g.setTextContent(this.styleEl_,"\n      ."+i+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+i+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")},e.prototype.loadTech_=function(t,e){this.tech_&&this.unloadTech_(),"Html5"!==t&&this.tag&&(o.default.getComponent("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=t,this.isReady_=!1;var n=b.default({nativeControlsForTouch:this.options_.nativeControlsForTouch,source:e,playerId:this.id(),techId:this.id()+"_"+t+"_api",textTracks:this.textTracks_,autoplay:this.options_.autoplay,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),"vtt.js":this.options_["vtt.js"]},this.options_[t.toLowerCase()]);this.tag&&(n.tag=this.tag),e&&(this.currentType_=e.type,e.src===this.cache_.src&&this.cache_.currentTime>0&&(n.startTime=this.cache_.currentTime),this.cache_.src=e.src);var r=o.default.getComponent(t);this.tech_=new r(n),this.tech_.ready(c.bind(this,this.handleTechReady_),!0),E.default.jsonToTextTracks(this.textTracksJson_||[],this.tech_),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"canplay",this.handleTechCanPlay_),this.on(this.tech_,"canplaythrough",this.handleTechCanPlayThrough_),this.on(this.tech_,"playing",this.handleTechPlaying_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"seeked",this.handleTechSeeked_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"progress",this.handleTechProgress_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"suspend",this.handleTechSuspend_),this.on(this.tech_,"abort",this.handleTechAbort_),this.on(this.tech_,"emptied",this.handleTechEmptied_),this.on(this.tech_,"stalled",this.handleTechStalled_),this.on(this.tech_,"loadedmetadata",this.handleTechLoadedMetaData_),this.on(this.tech_,"loadeddata",this.handleTechLoadedData_),this.on(this.tech_,"timeupdate",this.handleTechTimeUpdate_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.on(this.tech_,"volumechange",this.handleTechVolumeChange_),this.on(this.tech_,"texttrackchange",this.handleTechTextTrackChange_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===t&&this.tag||u.insertElFirst(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){this.textTracks_=this.textTracks(),this.textTracksJson_=E.default.textTracksToJson(this),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},e.prototype.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),this.tag&&this.options_.autoplay&&this.paused()&&(delete this.tag.poster,this.play())},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay"))},e.prototype.hasStarted=function(t){return void 0!==t?(this.hasStarted_!==t&&(this.hasStarted_=t,t?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started")),this):!!this.hasStarted_},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechWaiting_=function(){this.addClass("vjs-waiting"),this.trigger("waiting")},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&this.currentTime(this.options_.starttime),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechProgress_=function(){this.trigger("progress")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){0===t.button&&this.controls()&&(this.paused()?this.play():this.pause())},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t&&t.code)},e.prototype.handleTechSuspend_=function(){this.trigger("suspend")},e.prototype.handleTechAbort_=function(){this.trigger("abort")},e.prototype.handleTechEmptied_=function(){this.trigger("emptied")},e.prototype.handleTechStalled_=function(){this.trigger("stalled")},e.prototype.handleTechLoadedMetaData_=function(){this.trigger("loadedmetadata")},e.prototype.handleTechLoadedData_=function(){this.trigger("loadeddata")},e.prototype.handleTechTimeUpdate_=function(){this.trigger("timeupdate")},e.prototype.handleTechRateChange_=function(){this.trigger("ratechange")},e.prototype.handleTechVolumeChange_=function(){this.trigger("volumechange")},e.prototype.handleTechTextTrackChange_=function(){this.trigger("texttrackchange")},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){if(this.tech_&&!this.tech_.isReady_)this.tech_.ready(function(){this[t](e)},!0);else try{this.tech_[t](e)}catch(t){throw f.default(t),t}},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_)try{return this.tech_[t]()}catch(e){throw void 0===this.tech_[t]?f.default("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e):"TypeError"===e.name?(f.default("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1):f.default(e),e}},e.prototype.play=function(){return this.techCall_("play"),this},e.prototype.pause=function(){return this.techCall_("pause"),this},e.prototype.paused=function(){return!1!==this.techGet_("paused")},e.prototype.scrubbing=function(t){return void 0!==t?(this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing"),this):this.scrubbing_},e.prototype.currentTime=function(t){return void 0!==t?(this.techCall_("setCurrentTime",t),this):this.cache_.currentTime=this.techGet_("currentTime")||0},e.prototype.duration=function(t){return void 0===t?this.cache_.duration||0:(0>(t=parseFloat(t)||0)&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange")),this)},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=p.createTimeRange(0,0)),t},e.prototype.bufferedPercent=function(){return v.bufferedPercent(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),n=t.end(t.length-1);return n>e&&(n=e),n},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),this):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){return void 0!==t?(this.techCall_("setMuted",t),this):this.techGet_("muted")||!1},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){return void 0!==t?(this.isFullscreen_=!!t,this):!!this.isFullscreen_},e.prototype.requestFullscreen=function(){var t=y.default;return this.isFullscreen(!0),t.requestFullscreen?(l.on(a.default,t.fullscreenchange,c.bind(this,function e(){this.isFullscreen(a.default[t.fullscreenElement]),!1===this.isFullscreen()&&l.off(a.default,t.fullscreenchange,e),this.trigger("fullscreenchange")})),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange")),this},e.prototype.exitFullscreen=function(){var t=y.default;return this.isFullscreen(!1),t.requestFullscreen?a.default[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange")),this},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=a.default.documentElement.style.overflow,l.on(a.default,"keydown",c.bind(this,this.fullWindowOnEscKey)),a.default.documentElement.style.overflow="hidden",u.addElClass(a.default.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,l.off(a.default,"keydown",this.fullWindowOnEscKey),a.default.documentElement.style.overflow=this.docOrigOverflow,u.removeElClass(a.default.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.selectSource=function(t){for(var e=0,n=this.options_.techOrder;e<n.length;e++){var r=h.default(n[e]),i=o.default.getComponent(r);if(i){if(i.isSupported())for(var a=0,s=t;a<s.length;a++){var l=s[a];if(i.canPlaySource(l))return{source:l,tech:r}}}else f.default.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return!1},e.prototype.src=function(t){if(void 0===t)return this.techGet_("src");var e=o.default.getComponent(this.techName_);return Array.isArray(t)?this.sourceList_(t):"string"==typeof t?this.src({src:t}):t instanceof Object&&(t.type&&!e.canPlaySource(t)?this.sourceList_([t]):(this.cache_.src=t.src,this.currentType_=t.type||"",this.ready(function(){e.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),"auto"===this.options_.preload&&this.load(),this.options_.autoplay&&this.play()},!0))),this},e.prototype.sourceList_=function(t){var e=this.selectSource(t);e?e.tech===this.techName_?this.src(e.source):this.loadTech_(e.tech,e.source):(this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),this.triggerReady())},e.prototype.load=function(){return this.techCall_("load"),this},e.prototype.currentSrc=function(){return this.techGet_("currentSrc")||this.cache_.src||""},e.prototype.currentType=function(){return this.currentType_||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),this.options_.preload=t,this):this.techGet_("preload")},e.prototype.autoplay=function(t){return void 0!==t?(this.techCall_("setAutoplay",t),this.options_.autoplay=t,this):this.techGet_("autoplay",t)},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),this.options_.loop=t,this):this.techGet_("loop")},e.prototype.poster=function(t){return void 0===t?this.poster_:(t||(t=""),this.poster_=t,this.techCall_("setPoster",t),this.trigger("posterchange"),this)},e.prototype.handleTechPosterChange_=function(){!this.poster_&&this.tech_&&this.tech_.poster&&(this.poster_=this.tech_.poster()||"",this.trigger("posterchange"))},e.prototype.controls=function(t){return void 0!==t?(this.controls_!==(t=!!t)&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),t?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_())),this):!!this.controls_},e.prototype.usingNativeControls=function(t){return void 0!==t?(this.usingNativeControls_!==(t=!!t)&&(this.usingNativeControls_=t,t?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols"))),this):!!this.usingNativeControls_},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),this):(this.error_=t instanceof m.default?t:new m.default(t),this.trigger("error"),this.addClass("vjs-error"),f.default.error("(CODE:"+this.error_.code+" "+m.default.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this)},e.prototype.ended=function(){return this.techGet_("ended")},e.prototype.seeking=function(){return this.techGet_("seeking")},e.prototype.seekable=function(){return this.techGet_("seekable")},e.prototype.reportUserActivity=function(){this.userActivity_=!0},e.prototype.userActive=function(t){return void 0!==t?((t=!!t)!==this.userActive_&&(this.userActive_=t,t?(this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive")):(this.userActivity_=!1,this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive"))),this):this.userActive_},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,n=void 0,r=c.bind(this,this.reportUserActivity);this.on("mousedown",function(){r(),this.clearInterval(t),t=this.setInterval(r,250)}),this.on("mousemove",function(t){(t.screenX!==e||t.screenY!==n)&&(e=t.screenX,n=t.screenY,r())}),this.on("mouseup",function(){r(),this.clearInterval(t)}),this.on("keydown",r),this.on("keyup",r);var i=void 0;this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(i);var t=this.options_.inactivityTimeout;t>0&&(i=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},e.prototype.playbackRate=function(t){return void 0!==t?(this.techCall_("setPlaybackRate",t),this):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("playbackRate"):1},e.prototype.isAudio=function(t){return void 0!==t?(this.isAudio_=!!t,this):!!this.isAudio_},e.prototype.networkState=function(){return this.techGet_("networkState")},e.prototype.readyState=function(){return this.techGet_("readyState")},e.prototype.textTracks=function(){return this.tech_&&this.tech_.textTracks()},e.prototype.remoteTextTracks=function(){return this.tech_&&this.tech_.remoteTextTracks()},e.prototype.addTextTrack=function(t,e,n){return this.tech_&&this.tech_.addTextTrack(t,e,n)},e.prototype.addRemoteTextTrack=function(t){return this.tech_&&this.tech_.addRemoteTextTrack(t)},e.prototype.removeRemoteTextTrack=function(t){this.tech_&&this.tech_.removeRemoteTextTrack(t)},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){return void 0===t?this.language_:(this.language_=(""+t).toLowerCase(),this)},e.prototype.languages=function(){return T.default(e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=T.default(this.options_),e=t.tracks;t.tracks=[];for(var n=0;n<e.length;n++){var r=e[n];(r=T.default(r)).player=void 0,t.tracks[n]=r}return t},e.getTagSettings=function(t){var e={sources:[],tracks:[]},n=u.getElAttributes(t),r=n["data-setup"];if(null!==r){var i=_.default(r||"{}"),o=i[0],a=i[1];o&&f.default.error(o),b.default(n,a)}if(b.default(e,n),t.hasChildNodes())for(var s=t.childNodes,l=0,c=s.length;c>l;l++){var d=s[l],h=d.nodeName.toLowerCase();"source"===h?e.sources.push(u.getElAttributes(d)):"track"===h&&e.tracks.push(u.getElAttributes(d))}return e},e}(o.default));w.players={};var k=s.default.navigator;w.prototype.options_={techOrder:["html5","flash"],html5:{},flash:{},defaultVolume:0,inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:a.default.getElementsByTagName("html")[0].getAttribute("lang")||k.languages&&k.languages[0]||k.userLanguage||k.language||"en",languages:{},notSupportedMessage:"No compatible source was found for this video."},w.prototype.flexNotSupported_=function(){var t=a.default.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},o.default.registerComponent("Player",w),n.default=w,e.exports=n.default},{"./big-play-button.js":61,"./component.js":63,"./control-bar/control-bar.js":64,"./error-display.js":94,"./fullscreen-api.js":97,"./loading-spinner.js":98,"./media-error.js":99,"./poster-image.js":105,"./tech/html5.js":110,"./tech/loader.js":111,"./tracks/text-track-display.js":114,"./tracks/text-track-list-converter.js":116,"./tracks/text-track-settings.js":118,"./utils/browser.js":120,"./utils/buffer.js":121,"./utils/dom.js":123,"./utils/events.js":124,"./utils/fn.js":125,"./utils/guid.js":127,"./utils/log.js":128,"./utils/merge-options.js":129,"./utils/stylesheet.js":130,"./utils/time-ranges.js":131,"./utils/to-title-case.js":132,"global/document":1,"global/window":2,"object.assign":45,"safe-json-parse/tuple":53}],104:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("./player.js"),o=(r=i,r&&r.__esModule?r:{default:r});n.default=function(t,e){o.default.prototype[t]=e},e.exports=n.default},{"./player.js":103}],105:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("./button.js")),a=i(t("./component.js")),s=r(t("./utils/fn.js")),l=r(t("./utils/dom.js")),u=r(t("./utils/browser.js")),c=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.update(),n.on("posterchange",s.bind(this,this.update))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=l.createEl("div",{className:"vjs-poster",tabIndex:-1});return u.BACKGROUND_SIZE_SUPPORTED||(this.fallbackImg_=l.createEl("img"),t.appendChild(this.fallbackImg_)),t},e.prototype.update=function(){var t=this.player().poster();this.setSrc(t),t?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(){this.player_.paused()?this.player_.play():this.player_.pause()},e}(o.default);a.default.registerComponent("PosterImage",c),n.default=c,e.exports=n.default},{"./button.js":62,"./component.js":63,"./utils/browser.js":120,"./utils/dom.js":123,"./utils/fn.js":125}],106:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./utils/events.js")),o=r(t("global/document")),a=r(t("global/window")),s=!1,l=void 0,u=function(){var t=o.default.getElementsByTagName("video"),e=o.default.getElementsByTagName("audio"),n=[];if(t&&t.length>0)for(var r=0,i=t.length;i>r;r++)n.push(t[r]);if(e&&e.length>0)for(r=0,i=e.length;i>r;r++)n.push(e[r]);if(n&&n.length>0)for(r=0,i=n.length;i>r;r++){var a=n[r];if(!a||!a.getAttribute){c(1);break}if(void 0===a.player){null!==a.getAttribute("data-setup")&&l(a)}}else s||c(1)},c=function(t,e){l=e,setTimeout(u,t)};"complete"===o.default.readyState?s=!0:i.one(a.default,"load",function(){s=!0});n.autoSetup=u,n.autoSetupTimeout=c,n.hasLoaded=function(){return s}},{"./utils/events.js":124,"global/document":1,"global/window":2}],107:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../component.js")),o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../utils/dom.js")),a=r(t("global/document")),s=r(t("object.assign")),l=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(n,"controlsvisible",this.update),this.on(n,this.playerEvent,this.update)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(e){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];return n.className=n.className+" vjs-slider",n=s.default({tabIndex:0},n),r=s.default({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},r),t.prototype.createEl.call(this,e,n,r)},e.prototype.handleMouseDown=function(t){t.preventDefault(),o.blockTextSelection(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(a.default,"mousemove",this.handleMouseMove),this.on(a.default,"mouseup",this.handleMouseUp),this.on(a.default,"touchmove",this.handleMouseMove),this.on(a.default,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.prototype.handleMouseMove=function(){},e.prototype.handleMouseUp=function(){o.unblockTextSelection(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(a.default,"mousemove",this.handleMouseMove),this.off(a.default,"mouseup",this.handleMouseUp),this.off(a.default,"touchmove",this.handleMouseMove),this.off(a.default,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!=t||0>t||t===1/0)&&(t=0);var n=(100*t).toFixed(2)+"%";this.vertical()?e.el().style.height=n:e.el().style.width=n}}},e.prototype.calculateDistance=function(t){var e=o.getPointerPosition(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(a.default,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):(38===t.which||39===t.which)&&(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(a.default,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){return void 0===t?this.vertical_||!1:(this.vertical_=!!t,this.addClass(this.vertical_?"vjs-slider-vertical":"vjs-slider-horizontal"),this)},e}(i.default);i.default.registerComponent("Slider",l),n.default=l,e.exports=n.default},{"../component.js":63,"../utils/dom.js":123,"global/document":1,"object.assign":45}],108:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){return t.streamingFormats={"rtmp/mp4":"MP4","rtmp/flv":"FLV"},t.streamFromParts=function(t,e){return t+"&"+e},t.streamToParts=function(t){var e={connection:"",stream:""};if(!t)return e;var n=t.indexOf("&"),r=void 0;return-1!==n?r=n+1:0===(n=r=t.lastIndexOf("/")+1)&&(n=r=t.length),e.connection=t.substring(0,n),e.stream=t.substring(r,t.length),e},t.isStreamingType=function(e){return e in t.streamingFormats},t.RTMP_RE=/^rtmp[set]?:\/\//i,t.isStreamingSrc=function(e){return t.RTMP_RE.test(e)},t.rtmpSourceHandler={},t.rtmpSourceHandler.canHandleSource=function(e){return t.isStreamingType(e.type)||t.isStreamingSrc(e.src)?"maybe":""},t.rtmpSourceHandler.handleSource=function(e,n){var r=t.streamToParts(e.src);n.setRtmpConnection(r.connection),n.setRtmpStream(r.stream)},t.registerSourceHandler(t.rtmpSourceHandler),t},e.exports=n.default},{}],109:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=t.charAt(0).toUpperCase()+t.slice(1);y["set"+e]=function(e){return this.el_.vjs_setProperty(t,e)}}function a(t){y[t]=function(){return this.el_.vjs_getProperty(t)}}n.__esModule=!0;for(var s=i(t("./tech")),l=r(t("../utils/dom.js")),u=r(t("../utils/url.js")),c=t("../utils/time-ranges.js"),d=i(t("./flash-rtmp")),f=i(t("../component")),h=i(t("global/window")),p=i(t("object.assign")),v=h.default.navigator,g=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),n.source&&this.ready(function(){this.setSource(n.source)},!0),n.startTime&&this.ready(function(){this.load(),this.play(),this.currentTime(n.startTime)},!0),h.default.videojs=h.default.videojs||{},h.default.videojs.Flash=h.default.videojs.Flash||{},h.default.videojs.Flash.onReady=e.onReady,h.default.videojs.Flash.onEvent=e.onEvent,h.default.videojs.Flash.onError=e.onError,this.on("seeked",function(){this.lastSeekTarget_=void 0})}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){var t=this.options_;t.swf||(t.swf="//vjs.zencdn.net/swf/5.0.0-rc1/video-js.swf");var n=t.techId,r=p.default({readyFunction:"videojs.Flash.onReady",eventProxyFunction:"videojs.Flash.onEvent",errorEventProxyFunction:"videojs.Flash.onError",autoplay:t.autoplay,preload:t.preload,loop:t.loop,muted:t.muted},t.flashVars),i=p.default({wmode:"opaque",bgcolor:"#000000"},t.params),o=p.default({id:n,name:n,class:"vjs-tech"},t.attributes);return this.el_=e.embed(t.swf,r,i,o),this.el_.tech=this,this.el_},e.prototype.play=function(){this.ended()&&this.setCurrentTime(0),this.el_.vjs_play()},e.prototype.pause=function(){this.el_.vjs_pause()},e.prototype.src=function(t){return void 0===t?this.currentSrc():this.setSrc(t)},e.prototype.setSrc=function(t){if(t=u.getAbsoluteURL(t),this.el_.vjs_src(t),this.autoplay()){var e=this;this.setTimeout(function(){e.play()},0)}},e.prototype.seeking=function(){return void 0!==this.lastSeekTarget_},e.prototype.setCurrentTime=function(e){var n=this.seekable();n.length&&(e=e>n.start(0)?e:n.start(0),e=e<n.end(n.length-1)?e:n.end(n.length-1),this.lastSeekTarget_=e,this.trigger("seeking"),this.el_.vjs_setProperty("currentTime",e),t.prototype.setCurrentTime.call(this))},e.prototype.currentTime=function(){return this.seeking()?this.lastSeekTarget_||0:this.el_.vjs_getProperty("currentTime")},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.vjs_getProperty("currentSrc")},e.prototype.load=function(){this.el_.vjs_load()},e.prototype.poster=function(){this.el_.vjs_getProperty("poster")},e.prototype.setPoster=function(){},e.prototype.seekable=function(){var t=this.duration();return 0===t?c.createTimeRange():c.createTimeRange(0,t)},e.prototype.buffered=function(){var t=this.el_.vjs_getProperty("buffered");return 0===t.length?c.createTimeRange():c.createTimeRange(t[0][0],t[0][1])},e.prototype.supportsFullScreen=function(){return!1},e.prototype.enterFullScreen=function(){return!1},e}(s.default),y=g.prototype,m="rtmpConnection,rtmpStream,preload,defaultPlaybackRate,playbackRate,autoplay,loop,mediaGroup,controller,controls,volume,muted,defaultMuted".split(","),_="networkState,readyState,initialTime,duration,startOffsetTime,paused,ended,videoTracks,audioTracks,videoWidth,videoHeight".split(","),b=0;b<m.length;b++)a(m[b]),o(m[b]);for(b=0;b<_.length;b++)a(_[b]);g.isSupported=function(){return g.version()[0]>=10},s.default.withSourceHandlers(g),g.nativeSourceHandler={},g.nativeSourceHandler.canHandleSource=function(t){return(t.type?t.type.replace(/;.*/,"").toLowerCase():function(t){var e=u.getFileExtension(t);return e?"video/"+e:""}(t.src))in g.formats?"maybe":""},g.nativeSourceHandler.handleSource=function(t,e){e.setSrc(t.src)},g.nativeSourceHandler.dispose=function(){},g.registerSourceHandler(g.nativeSourceHandler),g.formats={"video/flv":"FLV","video/x-flv":"FLV","video/mp4":"MP4","video/m4v":"MP4"},g.onReady=function(t){var e=l.getEl(t),n=e&&e.tech;n&&n.el()&&g.checkReady(n)},g.checkReady=function(t){t.el()&&(t.el().vjs_getProperty?t.triggerReady():this.setTimeout(function(){g.checkReady(t)},50))},g.onEvent=function(t,e){l.getEl(t).tech.trigger(e)},g.onError=function(t,e){var n=l.getEl(t).tech;return"srcnotfound"===e?n.error(4):void n.error("FLASH: "+e)},g.version=function(){var t="0,0,0";try{t=new h.default.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1]}catch(e){try{v.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(t=(v.plugins["Shockwave Flash 2.0"]||v.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1])}catch(t){}}return t.split(",")},g.embed=function(t,e,n,r){var i=g.getEmbedCode(t,e,n,r);return l.createEl("div",{innerHTML:i}).childNodes[0]},g.getEmbedCode=function(t,e,n,r){var i="",o="",a="";return e&&Object.getOwnPropertyNames(e).forEach(function(t){i+=t+"="+e[t]+"&amp;"}),n=p.default({movie:t,flashvars:i,allowScriptAccess:"always",allowNetworking:"all"},n),Object.getOwnPropertyNames(n).forEach(function(t){o+='<param name="'+t+'" value="'+n[t]+'" />'}),r=p.default({data:t,width:"100%",height:"100%"},r),Object.getOwnPropertyNames(r).forEach(function(t){a+=t+'="'+r[t]+'" '}),'<object type="application/x-shockwave-flash" '+a+">"+o+"</object>"},d.default(g),f.default.registerComponent("Flash",g),n.default=g,e.exports=n.default},{"../component":63,"../utils/dom.js":123,"../utils/time-ranges.js":131,"../utils/url.js":133,"./flash-rtmp":108,"./tech":112,"global/window":2,"object.assign":45}],110:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("./tech.js")),a=i(t("../component")),s=r(t("../utils/dom.js")),l=r(t("../utils/url.js")),u=r(t("../utils/fn.js")),c=i(t("../utils/log.js")),d=r(t("../utils/browser.js")),f=i(t("global/document")),h=i(t("global/window")),p=i(t("object.assign")),v=i(t("../utils/merge-options.js")),g=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r);var i=n.source;if(i&&(this.el_.currentSrc!==i.src||n.tag&&3===n.tag.initNetworkState_)?this.setSource(i):this.handleLateInit_(this.el_),this.el_.hasChildNodes()){for(var o=this.el_.childNodes,a=o.length,s=[];a--;){var l=o[a];"track"===l.nodeName.toLowerCase()&&(this.featuresNativeTextTracks?this.remoteTextTracks().addTrack_(l.track):s.push(l))}for(var c=0;c<s.length;c++)this.el_.removeChild(s[c])}this.featuresNativeTextTracks&&(this.handleTextTrackChange_=u.bind(this,this.handleTextTrackChange),this.handleTextTrackAdd_=u.bind(this,this.handleTextTrackAdd),this.handleTextTrackRemove_=u.bind(this,this.handleTextTrackRemove),this.proxyNativeTextTracks_()),(d.TOUCH_ENABLED&&!0===n.nativeControlsForTouch||d.IS_IPHONE||d.IS_NATIVE_ANDROID)&&this.setControls(!0),this.triggerReady()}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.dispose=function(){var n=this.el().textTracks,r=this.textTracks();n&&n.removeEventListener&&(n.removeEventListener("change",this.handleTextTrackChange_),n.removeEventListener("addtrack",this.handleTextTrackAdd_),n.removeEventListener("removetrack",this.handleTextTrackRemove_));for(var i=r.length;i--;)r.removeTrack_(r[i]);e.disposeMediaElement(this.el_),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||!1===this.movingMediaElementInDOM)if(t){var n=t.cloneNode(!0);t.parentNode.insertBefore(n,t),e.disposeMediaElement(t),t=n}else{t=f.default.createElement("video");var r=this.options_.tag&&s.getElAttributes(this.options_.tag),i=v.default({},r);d.TOUCH_ENABLED&&!0===this.options_.nativeControlsForTouch||delete i.controls,s.setElAttributes(t,p.default(i,{id:this.options_.techId,class:"vjs-tech"}))}for(var o=["autoplay","preload","loop","muted"],a=o.length-1;a>=0;a--){var l=o[a],u={};void 0!==this.options_[l]&&(u[l]=this.options_[l]),s.setElAttributes(t,u)}return t},e.prototype.handleLateInit_=function(t){var e=this;if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var n=function(){var t=!1,n=function(){t=!0};e.on("loadstart",n);var r=function(){t||this.trigger("loadstart")};return e.on("loadedmetadata",r),e.ready(function(){this.off("loadstart",n),this.off("loadedmetadata",r),t||this.trigger("loadstart")}),{v:void 0}}();if("object"==typeof n)return n.v}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready(function(){r.forEach(function(t){this.trigger(t)},this)})}},e.prototype.proxyNativeTextTracks_=function(){var t=this.el().textTracks;t&&t.addEventListener&&(t.addEventListener("change",this.handleTextTrackChange_),t.addEventListener("addtrack",this.handleTextTrackAdd_),t.addEventListener("removetrack",this.handleTextTrackRemove_))},e.prototype.handleTextTrackChange=function(){var t=this.textTracks();this.textTracks().trigger({type:"change",target:t,currentTarget:t,srcElement:t})},e.prototype.handleTextTrackAdd=function(t){this.textTracks().addTrack_(t.track)},e.prototype.handleTextTrackRemove=function(t){this.textTracks().removeTrack_(t.track)},e.prototype.play=function(){this.el_.play()},e.prototype.pause=function(){this.el_.pause()},e.prototype.paused=function(){return this.el_.paused},e.prototype.currentTime=function(){return this.el_.currentTime},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){c.default(t,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){return this.el_.duration||0},e.prototype.buffered=function(){return this.el_.buffered},e.prototype.volume=function(){return this.el_.volume},e.prototype.setVolume=function(t){this.el_.volume=t},e.prototype.muted=function(){return this.el_.muted},e.prototype.setMuted=function(t){this.el_.muted=t},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=h.default.navigator.userAgent;if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;"webkitDisplayingFullscreen"in t&&this.one("webkitbeginfullscreen",function(){this.one("webkitendfullscreen",function(){this.trigger("fullscreenchange",{isFullscreen:!1})}),this.trigger("fullscreenchange",{isFullscreen:!0})}),t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){return void 0===t?this.el_.src:void this.setSrc(t)},e.prototype.setSrc=function(t){this.el_.src=t},e.prototype.load=function(){this.el_.load()},e.prototype.currentSrc=function(){return this.el_.currentSrc},e.prototype.poster=function(){return this.el_.poster},e.prototype.setPoster=function(t){this.el_.poster=t},e.prototype.preload=function(){return this.el_.preload},e.prototype.setPreload=function(t){this.el_.preload=t},e.prototype.autoplay=function(){return this.el_.autoplay},e.prototype.setAutoplay=function(t){this.el_.autoplay=t},e.prototype.controls=function(){return this.el_.controls},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.loop=function(){return this.el_.loop},e.prototype.setLoop=function(t){this.el_.loop=t},e.prototype.error=function(){return this.el_.error},e.prototype.seeking=function(){return this.el_.seeking},e.prototype.seekable=function(){return this.el_.seekable},e.prototype.ended=function(){return this.el_.ended},e.prototype.defaultMuted=function(){return this.el_.defaultMuted},e.prototype.playbackRate=function(){return this.el_.playbackRate},e.prototype.played=function(){return this.el_.played},e.prototype.setPlaybackRate=function(t){this.el_.playbackRate=t},e.prototype.networkState=function(){return this.el_.networkState},e.prototype.readyState=function(){return this.el_.readyState},e.prototype.videoWidth=function(){return this.el_.videoWidth},e.prototype.videoHeight=function(){return this.el_.videoHeight},e.prototype.textTracks=function(){return t.prototype.textTracks.call(this)},e.prototype.addTextTrack=function(e,n,r){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,r):t.prototype.addTextTrack.call(this,e,n,r)},e.prototype.addRemoteTextTrack=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!this.featuresNativeTextTracks)return t.prototype.addRemoteTextTrack.call(this,e);var n=f.default.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),this.el().appendChild(n),this.remoteTextTracks().addTrack_(n.track),n},e.prototype.removeRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.removeRemoteTextTrack.call(this,e);var n,r;for(this.remoteTextTracks().removeTrack_(e),r=(n=this.el().querySelectorAll("track")).length;r--;)(e===n[r]||e===n[r].track)&&this.el().removeChild(n[r])},e}(o.default);g.TEST_VID=f.default.createElement("video");var y=f.default.createElement("track");y.kind="captions",y.srclang="en",y.label="English",g.TEST_VID.appendChild(y),g.isSupported=function(){try{g.TEST_VID.volume=.5}catch(t){return!1}return!!g.TEST_VID.canPlayType},o.default.withSourceHandlers(g),g.nativeSourceHandler={},g.nativeSourceHandler.canHandleSource=function(t){function e(t){try{return g.TEST_VID.canPlayType(t)}catch(t){return""}}return t.type?e(t.type):t.src?e("video/"+l.getFileExtension(t.src)):""},g.nativeSourceHandler.handleSource=function(t,e){e.setSrc(t.src)},g.nativeSourceHandler.dispose=function(){},g.registerSourceHandler(g.nativeSourceHandler),g.canControlVolume=function(){var t=g.TEST_VID.volume;return g.TEST_VID.volume=t/2+.1,t!==g.TEST_VID.volume},g.canControlPlaybackRate=function(){var t=g.TEST_VID.playbackRate;return g.TEST_VID.playbackRate=t/2+.1,t!==g.TEST_VID.playbackRate},g.supportsNativeTextTracks=function(){var t;return(t=!!g.TEST_VID.textTracks)&&g.TEST_VID.textTracks.length>0&&(t="number"!=typeof g.TEST_VID.textTracks[0].mode),t&&d.IS_FIREFOX&&(t=!1),!t||"onremovetrack"in g.TEST_VID.textTracks||(t=!1),t},g.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","volumechange"],g.prototype.featuresVolumeControl=g.canControlVolume(),g.prototype.featuresPlaybackRate=g.canControlPlaybackRate(),g.prototype.movingMediaElementInDOM=!d.IS_IOS,g.prototype.featuresFullscreenResize=!0,g.prototype.featuresProgressEvents=!0,g.prototype.featuresNativeTextTracks=g.supportsNativeTextTracks();var m=void 0,_=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,b=/^video\/mp4/i;g.patchCanPlayType=function(){d.ANDROID_VERSION>=4&&(m||(m=g.TEST_VID.constructor.prototype.canPlayType),g.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&_.test(t)?"maybe":m.call(this,t)}),d.IS_OLD_ANDROID&&(m||(m=g.TEST_VID.constructor.prototype.canPlayType),g.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&b.test(t)?"maybe":m.call(this,t)})},g.unpatchCanPlayType=function(){var t=g.TEST_VID.constructor.prototype.canPlayType;return g.TEST_VID.constructor.prototype.canPlayType=m,m=null,t},g.patchCanPlayType(),g.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},a.default.registerComponent("Html5",g),n.default=g,e.exports=n.default},{"../component":63,"../utils/browser.js":120,"../utils/dom.js":123,"../utils/fn.js":125,"../utils/log.js":128,"../utils/merge-options.js":129,"../utils/url.js":133,"./tech.js":112,"global/document":1,"global/window":2,"object.assign":45}],111:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../component")),o=r((r(t("global/window")),t("../utils/to-title-case.js"))),a=function(t){function e(n,r,a){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t.call(this,n,r,a),r.playerOptions.sources&&0!==r.playerOptions.sources.length)n.src(r.playerOptions.sources);else for(var s=0,l=r.playerOptions.techOrder;s<l.length;s++){var u=o.default(l[s]),c=i.default.getComponent(u);if(c&&c.isSupported()){n.loadTech_(u);break}}}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default);i.default.registerComponent("MediaLoader",a),n.default=a,e.exports=n.default},{"../component":63,"../utils/to-title-case.js":132,"global/window":2}],112:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("../component")),o=r(t("../tracks/text-track")),a=r(t("../tracks/text-track-list")),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../utils/fn.js")),l=r(t("../utils/log.js")),u=t("../utils/time-ranges.js"),c=t("../utils/buffer.js"),d=r(t("../media-error.js")),f=r(t("global/window")),h=r(t("global/document")),p=function(t){function e(){var n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=arguments.length<=1||void 0===arguments[1]?function(){}:arguments[1];(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),n.reportTouchActivity=!1,t.call(this,null,n,r),this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),this.textTracks_=n.textTracks,this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),(!1===n.nativeCaptions||!1===n.nativeTextTracks)&&(this.featuresNativeTextTracks=!1),this.featuresNativeTextTracks||this.on("ready",this.emulateTextTracks),this.initTextTrackListeners(),this.emitTapEvents()}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.prototype.trackProgress=function(){this.stopTrackingProgress(),this.progressInterval=this.setInterval(s.bind(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},e.prototype.onDurationChange=function(){this.duration_=this.duration()},e.prototype.buffered=function(){return u.createTimeRange(0,0)},e.prototype.bufferedPercent=function(){return c.bufferedPercent(this.buffered(),this.duration_)},e.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},e.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.dispose=function(){var e=this.textTracks();if(e)for(var n=e.length;n--;)this.removeRemoteTextTrack(e[n]);this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.prototype.error=function(t){return void 0!==t&&(this.error_=t instanceof d.default?t:new d.default(t),this.trigger("error")),this.error_},e.prototype.played=function(){return this.hasStarted_?u.createTimeRange(0,0):u.createTimeRange()},e.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.initTextTrackListeners=function(){var t=s.bind(this,function(){this.trigger("texttrackchange")}),e=this.textTracks();e&&(e.addEventListener("removetrack",t),e.addEventListener("addtrack",t),this.on("dispose",s.bind(this,function(){e.removeEventListener("removetrack",t),e.removeEventListener("addtrack",t)})))},e.prototype.emulateTextTracks=function(){if(!f.default.WebVTT&&null!=this.el().parentNode){var t=h.default.createElement("script");t.src=this.options_["vtt.js"]||"../node_modules/vtt.js/dist/vtt.js",this.el().parentNode.appendChild(t),f.default.WebVTT=!0}var e=this.textTracks();if(e){var n=s.bind(this,function(){var t=this,n=function(){return t.trigger("texttrackchange")};n();for(var r=0;r<e.length;r++){var i=e[r];i.removeEventListener("cuechange",n),"showing"===i.mode&&i.addEventListener("cuechange",n)}});e.addEventListener("change",n),this.on("dispose",function(){e.removeEventListener("change",n)})}},e.prototype.textTracks=function(){return this.textTracks_=this.textTracks_||new a.default,this.textTracks_},e.prototype.remoteTextTracks=function(){return this.remoteTextTracks_=this.remoteTextTracks_||new a.default,this.remoteTextTracks_},e.prototype.addTextTrack=function(t,e,n){if(!t)throw new Error("TextTrack kind is required but was not provided");return v(this,t,e,n)},e.prototype.addRemoteTextTrack=function(t){var e=v(this,t.kind,t.label,t.language,t);return this.remoteTextTracks().addTrack_(e),{track:e}},e.prototype.removeRemoteTextTrack=function(t){this.textTracks().removeTrack_(t),this.remoteTextTracks().removeTrack_(t)},e.prototype.setPoster=function(){},e}(i.default),v=function(t,e,n,r){var i=arguments.length<=4||void 0===arguments[4]?{}:arguments[4],a=t.textTracks();i.kind=e,n&&(i.label=n),r&&(i.language=r),i.tech=t;var s=new o.default(i);return a.addTrack_(s),s};p.prototype.featuresVolumeControl=!0,p.prototype.featuresFullscreenResize=!1,p.prototype.featuresPlaybackRate=!1,p.prototype.featuresProgressEvents=!1,p.prototype.featuresTimeupdateEvents=!1,p.prototype.featuresNativeTextTracks=!1,p.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){var r=t.sourceHandlers;r||(r=t.sourceHandlers=[]),void 0===n&&(n=r.length),r.splice(n,0,e)},t.selectSourceHandler=function(e){for(var n=t.sourceHandlers||[],r=0;r<n.length;r++)if(n[r].canHandleSource(e))return n[r];return null},t.canPlaySource=function(e){var n=t.selectSourceHandler(e);return n?n.canHandleSource(e):""};var e=t.prototype.seekable;t.prototype.seekable=function(){return this.sourceHandler_&&this.sourceHandler_.seekable?this.sourceHandler_.seekable():e.call(this)},t.prototype.setSource=function(e){var n=t.selectSourceHandler(e);return n||(t.nativeSourceHandler?n=t.nativeSourceHandler:l.default.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),this.currentSource_=e,this.sourceHandler_=n.handleSource(e,this),this.on("dispose",this.disposeSourceHandler),this},t.prototype.disposeSourceHandler=function(){this.sourceHandler_&&this.sourceHandler_.dispose&&this.sourceHandler_.dispose()}},i.default.registerComponent("Tech",p),i.default.registerComponent("MediaTechController",p),n.default=p,e.exports=n.default},{"../component":63,"../media-error.js":99,"../tracks/text-track":119,"../tracks/text-track-list":117,"../utils/buffer.js":121,"../utils/fn.js":125,"../utils/log.js":128,"../utils/time-ranges.js":131,"global/document":1,"global/window":2}],113:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("../utils/browser.js")),o=t("global/document"),a=(r=o,r&&r.__esModule?r:{default:r}),s=function t(e){var n=this;if(i.IS_IE8){n=a.default.createElement("custom");for(var r in t.prototype)n[r]=t.prototype[r]}return t.prototype.setCues_.call(n,e),Object.defineProperty(n,"length",{get:function(){return this.length_}}),i.IS_IE8?n:void 0};s.prototype.setCues_=function(t){var e=this.length||0,n=0,r=t.length;this.cues_=t,this.length_=t.length;var i=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(r>e)for(n=e;r>n;n++)i.call(this,n)},s.prototype.getCueById=function(t){for(var e=null,n=0,r=this.length;r>n;n++){var i=this[n];if(i.id===t){e=i;break}}return e},n.default=s,e.exports=n.default},{"../utils/browser.js":120,"global/document":1}],114:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return"rgba("+parseInt(t[1]+t[1],16)+","+parseInt(t[2]+t[2],16)+","+parseInt(t[3]+t[3],16)+","+e+")"}function o(t,e,n){try{t.style[e]=n}catch(t){}}n.__esModule=!0;var a=r(t("../component")),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}((r((r((r(t("../menu/menu.js")),t("../menu/menu-item.js"))),t("../menu/menu-button.js"))),t("../utils/fn.js"))),l=r((r(t("global/document")),t("global/window"))),u={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'},c=function(t){function e(n,r,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r,i),n.on("loadstart",s.bind(this,this.toggleDisplay)),n.on("texttrackchange",s.bind(this,this.updateDisplay)),n.ready(s.bind(this,function(){if(n.tech_&&n.tech_.featuresNativeTextTracks)this.hide();else{n.on("fullscreenchange",s.bind(this,this.updateDisplay));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++){this.player_.addRemoteTextTrack(t[e])}}}))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"})},e.prototype.clearDisplay=function(){"function"==typeof l.default.WebVTT&&l.default.WebVTT.processCues(l.default,[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();if(this.clearDisplay(),t)for(var e=0;e<t.length;e++){var n=t[e];"showing"===n.mode&&this.updateForTrack(n)}},e.prototype.updateForTrack=function(t){if("function"==typeof l.default.WebVTT&&t.activeCues){for(var e=this.player_.textTrackSettings.getValues(),n=[],r=0;r<t.activeCues.length;r++)n.push(t.activeCues[r]);l.default.WebVTT.processCues(l.default,t.activeCues,this.el_);for(var a=n.length;a--;){var s=n[a].displayState;if(e.color&&(s.firstChild.style.color=e.color),e.textOpacity&&o(s.firstChild,"color",i(e.color||"#fff",e.textOpacity)),e.backgroundColor&&(s.firstChild.style.backgroundColor=e.backgroundColor),e.backgroundOpacity&&o(s.firstChild,"backgroundColor",i(e.backgroundColor||"#000",e.backgroundOpacity)),e.windowColor&&(e.windowOpacity?o(s,"backgroundColor",i(e.windowColor,e.windowOpacity)):s.style.backgroundColor=e.windowColor),e.edgeStyle&&("dropshadow"===e.edgeStyle?s.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===e.edgeStyle?s.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===e.edgeStyle?s.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===e.edgeStyle&&(s.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),e.fontPercent&&1!==e.fontPercent){var c=l.default.parseFloat(s.style.fontSize);s.style.fontSize=c*e.fontPercent+"px",s.style.height="auto",s.style.top="auto",s.style.bottom="2px"}e.fontFamily&&"default"!==e.fontFamily&&("small-caps"===e.fontFamily?s.firstChild.style.fontVariant="small-caps":s.firstChild.style.fontFamily=u[e.fontFamily])}}},e}(a.default);a.default.registerComponent("TextTrackDisplay",c),n.default=c,e.exports=n.default},{"../component":63,"../menu/menu-button.js":100,"../menu/menu-item.js":101,"../menu/menu.js":102,"../utils/fn.js":125,"global/document":1,"global/window":2}],115:[function(t,e,n){"use strict";n.__esModule=!0;n.TextTrackMode={disabled:"disabled",hidden:"hidden",showing:"showing"},n.TextTrackKind={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"}},{}],116:[function(t,e,n){"use strict";n.__esModule=!0;var r=function(t){return{kind:t.kind,label:t.label,language:t.language,id:t.id,inBandMetadataTrackDispatchType:t.inBandMetadataTrackDispatchType,mode:t.mode,cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}),src:t.src}};n.default={textTracksToJson:function(t){var e=t.el().querySelectorAll("track"),n=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=r(t.track);return e.src=t.src,e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===n.indexOf(t)}).map(r))},jsonToTextTracks:function(t,e){return t.forEach(function(t){var n=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return n.addCue(t)})}),e.textTracks()},trackToJson_:r},e.exports=n.default},{}],117:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("../event-target")),a=r(t("../utils/fn.js")),s=r(t("../utils/browser.js")),l=i(t("global/document")),u=function t(e){var n=this;if(s.IS_IE8){n=l.default.createElement("custom");for(var r in t.prototype)n[r]=t.prototype[r]}e=e||[],n.tracks_=[],Object.defineProperty(n,"length",{get:function(){return this.tracks_.length}});for(var i=0;i<e.length;i++)n.addTrack_(e[i]);return s.IS_IE8?n:void 0};(u.prototype=Object.create(o.default.prototype)).constructor=u,u.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"};for(var c in u.prototype.allowedEvents_)u.prototype["on"+c]=null;u.prototype.addTrack_=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),t.addEventListener("modechange",a.bind(this,function(){this.trigger("change")})),this.tracks_.push(t),this.trigger({type:"addtrack",track:t})},u.prototype.removeTrack_=function(t){for(var e=void 0,n=0,r=this.length;r>n;n++)if(e=this[n],e===t){this.tracks_.splice(n,1);break}this.trigger({type:"removetrack",track:e})},u.prototype.getTrackById=function(t){for(var e=null,n=0,r=this.length;r>n;n++){var i=this[n];if(i.id===t){e=i;break}}return e},n.default=u,e.exports=n.default},{"../event-target":95,"../utils/browser.js":120,"../utils/fn.js":125,"global/document":1}],118:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}function o(t){var e=void 0;return t.selectedOptions?e=t.selectedOptions[0]:t.options&&(e=t.options[t.options.selectedIndex]),e.value}function a(t,e){if(e){var n=void 0;for(n=0;n<t.options.length;n++){if(t.options[n].value===e)break}t.selectedIndex=n}}n.__esModule=!0;var s=i(t("../component")),l=r(t("../utils/events.js")),u=r(t("../utils/fn.js")),c=i(t("../utils/log.js")),d=i(t("safe-json-parse/tuple")),f=i(t("global/window")),h=function(t){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),t.call(this,n,r),this.hide(),void 0===r.persistTextTrackSettings&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),l.on(this.el().querySelector(".vjs-done-button"),"click",u.bind(this,function(){this.saveSettings(),this.hide()})),l.on(this.el().querySelector(".vjs-default-button"),"click",u.bind(this,function(){this.el().querySelector(".vjs-fg-color > select").selectedIndex=0,this.el().querySelector(".vjs-bg-color > select").selectedIndex=0,this.el().querySelector(".window-color > select").selectedIndex=0,this.el().querySelector(".vjs-text-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-bg-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-window-opacity > select").selectedIndex=0,this.el().querySelector(".vjs-edge-style select").selectedIndex=0,this.el().querySelector(".vjs-font-family select").selectedIndex=0,this.el().querySelector(".vjs-font-percent select").selectedIndex=2,this.updateDisplay()})),l.on(this.el().querySelector(".vjs-fg-color > select"),"change",u.bind(this,this.updateDisplay)),l.on(this.el().querySelector(".vjs-bg-color > select"),"change",u.bind(this,this.updateDisplay)),l.on(this.el().querySelector(".window-color > select"),"change",u.bind(this,this.updateDisplay)),l.on(this.el().querySelector(".vjs-text-opacity > select"),"change",u.bind(this,this.updateDisplay)),l.on(this.el().querySelector(".vjs-bg-opacity > select"),"change",u.bind(this,this.updateDisplay)),l.on(this.el().querySelector(".vjs-window-opacity > select"),"change",u.bind(this,this.updateDisplay)),l.on(this.el().querySelector(".vjs-font-percent select"),"change",u.bind(this,this.updateDisplay)),l.on(this.el().querySelector(".vjs-edge-style select"),"change",u.bind(this,this.updateDisplay)),l.on(this.el().querySelector(".vjs-font-family select"),"change",u.bind(this,this.updateDisplay)),this.options_.persistTextTrackSettings&&this.restoreSettings()}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-caption-settings vjs-modal-overlay",innerHTML:'<div class="vjs-tracksettings">\n      <div class="vjs-tracksettings-colors">\n        <div class="vjs-fg-color vjs-tracksetting">\n            <label class="vjs-label">Foreground</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-text-opacity vjs-opacity">\n              <select>\n                <option value="">---</option>\n                <option value="1">Opaque</option>\n                <option value="0.5">Semi-Opaque</option>\n              </select>\n            </span>\n        </div> \x3c!-- vjs-fg-color --\x3e\n        <div class="vjs-bg-color vjs-tracksetting">\n            <label class="vjs-label">Background</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-bg-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> \x3c!-- vjs-bg-color --\x3e\n        <div class="window-color vjs-tracksetting">\n            <label class="vjs-label">Window</label>\n            <select>\n              <option value="">---</option>\n              <option value="#FFF">White</option>\n              <option value="#000">Black</option>\n              <option value="#F00">Red</option>\n              <option value="#0F0">Green</option>\n              <option value="#00F">Blue</option>\n              <option value="#FF0">Yellow</option>\n              <option value="#F0F">Magenta</option>\n              <option value="#0FF">Cyan</option>\n            </select>\n            <span class="vjs-window-opacity vjs-opacity">\n                <select>\n                  <option value="">---</option>\n                  <option value="1">Opaque</option>\n                  <option value="0.5">Semi-Transparent</option>\n                  <option value="0">Transparent</option>\n                </select>\n            </span>\n        </div> \x3c!-- vjs-window-color --\x3e\n      </div> \x3c!-- vjs-tracksettings --\x3e\n      <div class="vjs-tracksettings-font">\n        <div class="vjs-font-percent vjs-tracksetting">\n          <label class="vjs-label">Font Size</label>\n          <select>\n            <option value="0.50">50%</option>\n            <option value="0.75">75%</option>\n            <option value="1.00" selected>100%</option>\n            <option value="1.25">125%</option>\n            <option value="1.50">150%</option>\n            <option value="1.75">175%</option>\n            <option value="2.00">200%</option>\n            <option value="3.00">300%</option>\n            <option value="4.00">400%</option>\n          </select>\n        </div> \x3c!-- vjs-font-percent --\x3e\n        <div class="vjs-edge-style vjs-tracksetting">\n          <label class="vjs-label">Text Edge Style</label>\n          <select>\n            <option value="none">None</option>\n            <option value="raised">Raised</option>\n            <option value="depressed">Depressed</option>\n            <option value="uniform">Uniform</option>\n            <option value="dropshadow">Dropshadow</option>\n          </select>\n        </div> \x3c!-- vjs-edge-style --\x3e\n        <div class="vjs-font-family vjs-tracksetting">\n          <label class="vjs-label">Font Family</label>\n          <select>\n            <option value="">Default</option>\n            <option value="monospaceSerif">Monospace Serif</option>\n            <option value="proportionalSerif">Proportional Serif</option>\n            <option value="monospaceSansSerif">Monospace Sans-Serif</option>\n            <option value="proportionalSansSerif">Proportional Sans-Serif</option>\n            <option value="casual">Casual</option>\n            <option value="script">Script</option>\n            <option value="small-caps">Small Caps</option>\n          </select>\n        </div> \x3c!-- vjs-font-family --\x3e\n      </div>\n    </div>\n    <div class="vjs-tracksettings-controls">\n      <button class="vjs-default-button">Defaults</button>\n      <button class="vjs-done-button">Done</button>\n    </div>'})},e.prototype.getValues=function(){var t=this.el(),e=o(t.querySelector(".vjs-edge-style select")),n=o(t.querySelector(".vjs-font-family select")),r=o(t.querySelector(".vjs-fg-color > select")),i=o(t.querySelector(".vjs-text-opacity > select")),a=o(t.querySelector(".vjs-bg-color > select")),s=o(t.querySelector(".vjs-bg-opacity > select")),l=o(t.querySelector(".window-color > select")),u={backgroundOpacity:s,textOpacity:i,windowOpacity:o(t.querySelector(".vjs-window-opacity > select")),edgeStyle:e,fontFamily:n,color:r,backgroundColor:a,windowColor:l,fontPercent:f.default.parseFloat(o(t.querySelector(".vjs-font-percent > select")))};for(var c in u)(""===u[c]||"none"===u[c]||"fontPercent"===c&&1===u[c])&&delete u[c];return u},e.prototype.setValues=function(t){var e=this.el();a(e.querySelector(".vjs-edge-style select"),t.edgeStyle),a(e.querySelector(".vjs-font-family select"),t.fontFamily),a(e.querySelector(".vjs-fg-color > select"),t.color),a(e.querySelector(".vjs-text-opacity > select"),t.textOpacity),a(e.querySelector(".vjs-bg-color > select"),t.backgroundColor),a(e.querySelector(".vjs-bg-opacity > select"),t.backgroundOpacity),a(e.querySelector(".window-color > select"),t.windowColor),a(e.querySelector(".vjs-window-opacity > select"),t.windowOpacity);var n=t.fontPercent;n&&(n=n.toFixed(2)),a(e.querySelector(".vjs-font-percent > select"),n)},e.prototype.restoreSettings=function(){var t=d.default(f.default.localStorage.getItem("vjs-text-track-settings")),e=t[0],n=t[1];e&&c.default.error(e),n&&this.setValues(n)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.getOwnPropertyNames(t).length>0?f.default.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):f.default.localStorage.removeItem("vjs-text-track-settings")}catch(t){}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e}(s.default);s.default.registerComponent("TextTrackSettings",h),n.default=h,e.exports=n.default},{"../component":63,"../utils/events.js":124,"../utils/fn.js":125,"../utils/log.js":128,"global/window":2,"safe-json-parse/tuple":53}],119:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("./text-track-cue-list")),a=r(t("../utils/fn.js")),s=r(t("../utils/guid.js")),l=r(t("../utils/browser.js")),u=r(t("./text-track-enums")),c=i(t("../utils/log.js")),d=i(t("../event-target")),f=i(t("global/document")),h=i(t("global/window")),p=t("../utils/url.js"),v=i(t("xhr")),g=function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!e.tech)throw new Error("A tech was not provided.");var n=this;if(l.IS_IE8){n=f.default.createElement("custom");for(var r in t.prototype)n[r]=t.prototype[r]}n.tech_=e.tech;var i=u.TextTrackMode[e.mode]||"disabled",c=u.TextTrackKind[e.kind]||"subtitles",d=e.label||"",h=e.language||e.srclang||"",p=e.id||"vjs_text_track_"+s.newGUID();("metadata"===c||"chapters"===c)&&(i="hidden"),n.cues_=[],n.activeCues_=[];var v=new o.default(n.cues_),g=new o.default(n.activeCues_),_=!1,b=a.bind(n,function(){_&&(this.trigger("cuechange"),_=!1)});return"disabled"!==i&&n.tech_.on("timeupdate",b),Object.defineProperty(n,"kind",{get:function(){return c},set:Function.prototype}),Object.defineProperty(n,"label",{get:function(){return d},set:Function.prototype}),Object.defineProperty(n,"language",{get:function(){return h},set:Function.prototype}),Object.defineProperty(n,"id",{get:function(){return p},set:Function.prototype}),Object.defineProperty(n,"mode",{get:function(){return i},set:function(t){u.TextTrackMode[t]&&(i=t,"showing"===i&&this.tech_.on("timeupdate",b),this.trigger("modechange"))}}),Object.defineProperty(n,"cues",{get:function(){return this.loaded_?v:null},set:Function.prototype}),Object.defineProperty(n,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return g;for(var t=this.tech_.currentTime(),e=[],n=0,r=this.cues.length;r>n;n++){var i=this.cues[n];i.startTime<=t&&i.endTime>=t?e.push(i):i.startTime===i.endTime&&i.startTime<=t&&i.startTime+.5>=t&&e.push(i)}if(_=!1,e.length!==this.activeCues_.length)_=!0;else for(n=0;n<e.length;n++)-1===m.call(this.activeCues_,e[n])&&(_=!0);return this.activeCues_=e,g.setCues_(this.activeCues_),g},set:Function.prototype}),e.src?(n.src=e.src,y(e.src,n)):n.loaded_=!0,l.IS_IE8?n:void 0};(g.prototype=Object.create(d.default.prototype)).constructor=g,g.prototype.allowedEvents_={cuechange:"cuechange"},g.prototype.addCue=function(t){var e=this.tech_.textTracks();if(e)for(var n=0;n<e.length;n++)e[n]!==this&&e[n].removeCue(t);this.cues_.push(t),this.cues.setCues_(this.cues_)},g.prototype.removeCue=function(t){for(var e=!1,n=0,r=this.cues_.length;r>n;n++){this.cues_[n]===t&&(this.cues_.splice(n,1),e=!0)}e&&this.cues.setCues_(this.cues_)};var y=function(t,e){var n={uri:t},r=p.isCrossOrigin(t);r&&(n.cors=r),v.default(n,a.bind(this,function(t,n,r){return t?c.default.error(t,n):(e.loaded_=!0,void function t(e,n){if("function"!=typeof h.default.WebVTT)return h.default.setTimeout(function(){t(e,n)},25);var r=new h.default.WebVTT.Parser(h.default,h.default.vttjs,h.default.WebVTT.StringDecoder());r.oncue=function(t){n.addCue(t)},r.onparsingerror=function(t){c.default.error(t)},r.parse(e),r.flush()}(r,e))}))},m=function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return-1;var i=+e||0;if(Math.abs(i)===1/0&&(i=0),i>=r)return-1;for(var o=Math.max(i>=0?i:r-Math.abs(i),0);r>o;){if(o in n&&n[o]===t)return o;o++}return-1};n.default=g,e.exports=n.default},{"../event-target":95,"../utils/browser.js":120,"../utils/fn.js":125,"../utils/guid.js":127,"../utils/log.js":128,"../utils/url.js":133,"./text-track-cue-list":113,"./text-track-enums":115,"global/document":1,"global/window":2,xhr:55}],120:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("global/document")),o=r(t("global/window")),a=o.default.navigator.userAgent,s=/AppleWebKit\/([\d.]+)/i.exec(a),l=s?parseFloat(s.pop()):null,u=/iPhone/i.test(a);n.IS_IPHONE=u;var c=/iPad/i.test(a);n.IS_IPAD=c;var d=/iPod/i.test(a);n.IS_IPOD=d;n.IS_IOS=u||c||d;var f=function(){var t=a.match(/OS (\d+)_/i);return t&&t[1]?t[1]:void 0}();n.IOS_VERSION=f;var h=/Android/i.test(a);n.IS_ANDROID=h;var p=function(){var t,e,n=a.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);return n?(t=n[1]&&parseFloat(n[1]),e=n[2]&&parseFloat(n[2]),t&&e?parseFloat(n[1]+"."+n[2]):t||null):null}();n.ANDROID_VERSION=p;var v=h&&/webkit/i.test(a)&&2.3>p;n.IS_OLD_ANDROID=v;n.IS_NATIVE_ANDROID=h&&5>p&&537>l;var g=/Firefox/i.test(a);n.IS_FIREFOX=g;var y=/Chrome/i.test(a);n.IS_CHROME=y;var m=/MSIE\s8\.0/.test(a);n.IS_IE8=m;n.TOUCH_ENABLED=!!("ontouchstart"in o.default||o.default.DocumentTouch&&i.default instanceof o.default.DocumentTouch);var _="backgroundSize"in i.default.createElement("video").style;n.BACKGROUND_SIZE_SUPPORTED=_},{"global/document":1,"global/window":2}],121:[function(t,e,n){"use strict";n.__esModule=!0,n.bufferedPercent=function(t,e){var n,i,o=0;if(!e)return 0;t&&t.length||(t=r.createTimeRange(0,0));for(var a=0;a<t.length;a++)n=t.start(a),i=t.end(a),i>e&&(i=e),o+=i-n;return o/e};var r=t("./time-ranges.js")},{"./time-ranges.js":131}],122:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("./log.js"),o=(r=i,r&&r.__esModule?r:{default:r}),a={get:function(t,e){return t[e]},set:function(t,e,n){return t[e]=n,!0}};n.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if("function"==typeof Proxy){var n=function(){var n={};return Object.keys(e).forEach(function(t){a.hasOwnProperty(t)&&(n[t]=function(){return o.default.warn(e[t]),a[t].apply(this,arguments)})}),{v:new Proxy(t,n)}}();if("object"==typeof n)return n.v}return t},e.exports=n.default},{"./log.js":128}],123:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")}function o(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var n=u.default.documentElement,r=u.default.body,i=e.top+(c.default.pageYOffset||r.scrollTop)-(n.clientTop||r.clientTop||0);return{left:Math.round(e.left+(c.default.pageXOffset||r.scrollLeft)-(n.clientLeft||r.clientLeft||0)),top:Math.round(i)}}n.__esModule=!0,n.getEl=function(t){return 0===t.indexOf("#")&&(t=t.slice(1)),u.default.getElementById(t)},n.createEl=function(){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],e=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],n=u.default.createElement(arguments.length<=0||void 0===arguments[0]?"div":arguments[0]);return Object.getOwnPropertyNames(t).forEach(function(e){var r=t[e];-1!==e.indexOf("aria-")||"role"===e||"type"===e?(f.default.warn(h.default(l,e,r)),n.setAttribute(e,r)):n[e]=r}),Object.getOwnPropertyNames(e).forEach(function(t){n.setAttribute(t,e[t])}),n},n.insertElFirst=function(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)},n.getElData=function(t){var e=t[v];return e||(e=t[v]=d.newGUID()),p[e]||(p[e]={}),p[e]},n.hasElData=function(t){var e=t[v];return!!e&&!!Object.getOwnPropertyNames(p[e]).length},n.removeElData=function(t){var e=t[v];if(e){delete p[e];try{delete t[v]}catch(e){t.removeAttribute?t.removeAttribute(v):t[v]=null}}},n.hasElClass=i,n.addElClass=function(t,e){i(t,e)||(t.className=""===t.className?e:t.className+" "+e)},n.removeElClass=function(t,e){if(i(t,e)){for(var n=t.className.split(" "),r=n.length-1;r>=0;r--)n[r]===e&&n.splice(r,1);t.className=n.join(" ")}},n.setElAttributes=function(t,e){Object.getOwnPropertyNames(e).forEach(function(n){var r=e[n];null===r||void 0===r||!1===r?t.removeAttribute(n):t.setAttribute(n,!0===r?"":r)})},n.getElAttributes=function(t){var e,n,r,i,o;if(e={},n=",autoplay,controls,loop,muted,default,",t&&t.attributes&&t.attributes.length>0)for(var a=(r=t.attributes).length-1;a>=0;a--)i=r[a].name,o=r[a].value,("boolean"==typeof t[i]||-1!==n.indexOf(","+i+","))&&(o=null!==o),e[i]=o;return e},n.blockTextSelection=function(){u.default.body.focus(),u.default.onselectstart=function(){return!1}},n.unblockTextSelection=function(){u.default.onselectstart=function(){return!0}},n.findElPosition=o,n.getPointerPosition=function(t,e){var n={},r=o(t),i=t.offsetWidth,a=t.offsetHeight,s=r.left,l=e.pageY,u=e.pageX;return e.changedTouches&&(u=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),n.y=Math.max(0,Math.min(1,(r.top-l+a)/a)),n.x=Math.max(0,Math.min(1,(u-s)/i)),n};var a,s,l=(a=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],s=["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],a.raw=s,a),u=r(t("global/document")),c=r(t("global/window")),d=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(t("./guid.js")),f=r(t("./log.js")),h=r(t("tsml")),p={},v="vdata"+(new Date).getTime()},{"./guid.js":127,"./log.js":128,"global/document":1,"global/window":2,tsml:54}],124:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(t,e,n){if(Array.isArray(e))return u(o,t,e,n);var r=c.getElData(t);r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),n.guid||(n.guid=d.newGUID()),r.handlers[e].push(n),r.dispatcher||(r.disabled=!1,r.dispatcher=function(e,n){if(!r.disabled){e=s(e);var i=r.handlers[e.type];if(i)for(var o=i.slice(0),a=0,l=o.length;l>a&&!e.isImmediatePropagationStopped();a++)o[a].call(t,e,n)}}),1===r.handlers[e].length&&(t.addEventListener?t.addEventListener(e,r.dispatcher,!1):t.attachEvent&&t.attachEvent("on"+e,r.dispatcher))}function a(t,e,n){if(c.hasElData(t)){var r=c.getElData(t);if(r.handlers){if(Array.isArray(e))return u(a,t,e,n);var i=function(e){r.handlers[e]=[],l(t,e)};if(e){var o=r.handlers[e];if(o){if(!n)return void i(e);if(n.guid)for(var s=0;s<o.length;s++)o[s].guid===n.guid&&o.splice(s--,1);l(t,e)}}else for(var d in r.handlers)i(d)}}}function s(t){function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped){var r=t||f.default.event;t={};for(var i in r)"layerX"!==i&&"layerY"!==i&&"keyLocation"!==i&&"webkitMovementX"!==i&&"webkitMovementY"!==i&&("returnValue"===i&&r.preventDefault||(t[i]=r[i]));if(t.target||(t.target=t.srcElement||h.default),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,null!=t.clientX){var o=h.default.documentElement,a=h.default.body;t.pageX=t.clientX+(o&&o.scrollLeft||a&&a.scrollLeft||0)-(o&&o.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(o&&o.scrollTop||a&&a.scrollTop||0)-(o&&o.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,null!=t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}function l(t,e){var n=c.getElData(t);0===n.handlers[e].length&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),0===Object.getOwnPropertyNames(n).length&&c.removeElData(t)}function u(t,e,n,r){n.forEach(function(n){t(e,n,r)})}n.__esModule=!0,n.on=o,n.off=a,n.trigger=function t(e,n,r){var i=c.hasElData(e)?c.getElData(e):{},o=e.parentNode||e.ownerDocument;if("string"==typeof n&&(n={type:n,target:e}),n=s(n),i.dispatcher&&i.dispatcher.call(e,n,r),o&&!n.isPropagationStopped()&&!0===n.bubbles)t.call(null,o,n,r);else if(!o&&!n.defaultPrevented){var a=c.getElData(n.target);n.target[n.type]&&(a.disabled=!0,"function"==typeof n.target[n.type]&&n.target[n.type](),a.disabled=!1)}return!n.defaultPrevented},n.one=function t(e,n,r){if(Array.isArray(n))return u(t,e,n,r);var i=function t(){a(e,n,t),r.apply(this,arguments)};i.guid=r.guid=r.guid||d.newGUID(),o(e,n,i)},n.fixEvent=s;var c=i(t("./dom.js")),d=i(t("./guid.js")),f=r(t("global/window")),h=r(t("global/document"))},{"./dom.js":123,"./guid.js":127,"global/document":1,"global/window":2}],125:[function(t,e,n){"use strict";n.__esModule=!0;var r=t("./guid.js");n.bind=function(t,e,n){e.guid||(e.guid=r.newGUID());var i=function(){return e.apply(t,arguments)};return i.guid=n?n+"_"+e.guid:e.guid,i}},{"./guid.js":127}],126:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){var e=arguments.length<=1||void 0===arguments[1]?t:arguments[1];return function(){var n=Math.floor(t%60),r=Math.floor(t/60%60),i=Math.floor(t/3600),o=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(i=r=n="-"),(i=i>0||a>0?i+":":"")+(r=((i||o>=10)&&10>r?"0"+r:r)+":")+(n=10>n?"0"+n:n)}()},e.exports=n.default},{}],127:[function(t,e,n){"use strict";n.__esModule=!0,n.newGUID=function(){return r++};var r=1},{}],128:[function(t,e,n){"use strict";function r(t,e){var n=Array.prototype.slice.call(e),r=function(){},i=a.default.console||{log:r,warn:r,error:r};t?n.unshift(t.toUpperCase()+":"):t="log",s.history.push(n),n.unshift("VIDEOJS:"),i[t].apply?i[t].apply(i,n):i[t](n.join(" "))}n.__esModule=!0;var i,o=t("global/window"),a=(i=o,i&&i.__esModule?i:{default:i}),s=function(){r(null,arguments)};s.history=[],s.error=function(){r("error",arguments)},s.warn=function(){r("warn",arguments)},n.default=s,e.exports=n.default},{"global/window":2}],129:[function(t,e,n){"use strict";function r(t){return!!t&&"object"==typeof t&&"[object Object]"===t.toString()&&t.constructor===Object}function i(){var t=Array.prototype.slice.call(arguments);return t.unshift({}),t.push(l),s.default.apply(null,t),t[0]}n.__esModule=!0,n.default=i;var o,a=t("lodash-compat/object/merge"),s=(o=a,o&&o.__esModule?o:{default:o}),l=function(t,e){return r(e)?r(t)?void 0:i(e):e};e.exports=n.default},{"lodash-compat/object/merge":40}],130:[function(t,e,n){"use strict";n.__esModule=!0;var r,i=t("global/document"),o=(r=i,r&&r.__esModule?r:{default:r});n.createStyleElement=function(t){var e=o.default.createElement("style");return e.className=t,e};n.setTextContent=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e}},{"global/document":1}],131:[function(t,e,n){"use strict";function r(t,e){return Array.isArray(t)?i(t):void 0===t||void 0===e?i():i([[t,e]])}function i(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:o.bind(null,"start",0,t),end:o.bind(null,"end",1,t)}}function o(t,e,n,r){return void 0===r&&(l.default.warn("DEPRECATED: Function '"+t+"' on 'TimeRanges' called without an index argument."),r=0),function(t,e,n){if(0>e||e>n)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is greater than or equal to the maximum bound ("+n+").")}(t,r,n.length-1),n[r][e]}n.__esModule=!0,n.createTimeRanges=r;var a,s=t("./log.js"),l=(a=s,a&&a.__esModule?a:{default:a});n.createTimeRange=r},{"./log.js":128}],132:[function(t,e,n){"use strict";n.__esModule=!0,n.default=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.exports=n.default},{}],133:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var i=r(t("global/document")),o=r(t("global/window")),a=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],n=i.default.createElement("a");n.href=t;var r=""===n.host&&"file:"!==n.protocol,o=void 0;r&&(o=i.default.createElement("div"),o.innerHTML='<a href="'+t+'"></a>',n=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),i.default.body.appendChild(o));for(var a={},s=0;s<e.length;s++)a[e[s]]=n[e[s]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),r&&i.default.body.removeChild(o),a};n.parseUrl=a;n.getAbsoluteURL=function(t){if(!t.match(/^https?:\/\//)){var e=i.default.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t};n.getFileExtension=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(e)return e.pop().toLowerCase()}return""};n.isCrossOrigin=function(t){var e=a(t),n=o.default.location;return(":"===e.protocol?n.protocol:e.protocol)+e.host!==n.protocol+n.host}},{"global/document":1,"global/window":2}],134:[function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}n.__esModule=!0;var o=i(t("global/document")),a=r(t("./setup")),s=r(t("./utils/stylesheet.js")),l=i(t("./component")),u=i(t("./event-target")),c=r(t("./utils/events.js")),d=i(t("./player")),f=i(t("./plugins.js")),h=i(t("../../src/js/utils/merge-options.js")),p=r(t("./utils/fn.js")),v=i(t("./tracks/text-track.js")),g=(i(t("object.assign")),t("./utils/time-ranges.js")),y=i(t("./utils/format-time.js")),m=i(t("./utils/log.js")),_=r(t("./utils/dom.js")),b=r(t("./utils/browser.js")),T=r(t("./utils/url.js")),E=i(t("./extend.js")),w=i(t("lodash-compat/object/merge")),k=i(t("./utils/create-deprecation-proxy.js")),S=i(t("xhr"));i((i(t("./tech/html5.js")),t("./tech/flash.js"))),"undefined"==typeof HTMLVideoElement&&(o.default.createElement("video"),o.default.createElement("audio"),o.default.createElement("track"));var O=function t(e,n,r){var i;if("string"==typeof e){if(0===e.indexOf("#")&&(e=e.slice(1)),t.getPlayers()[e])return n&&m.default.warn('Player "'+e+'" is already initialised. Options will not be applied.'),r&&t.getPlayers()[e].ready(r),t.getPlayers()[e];i=_.getEl(e)}else i=e;if(!i||!i.nodeName)throw new TypeError("The element or ID supplied is not valid. (videojs)");return i.player||new d.default(i,n,r)},j=o.default.querySelector(".vjs-styles-defaults");if(!j){j=s.createStyleElement("vjs-styles-defaults");var C=o.default.querySelector("head");C.insertBefore(j,C.firstChild),s.setTextContent(j,"\n    .video-js {\n      width: 300px;\n      height: 150px;\n    }\n\n    .vjs-fluid {\n      padding-top: 56.25%\n    }\n  ")}a.autoSetupTimeout(1,O),O.VERSION="5.0.2",O.options=d.default.prototype.options_,O.getPlayers=function(){return d.default.players},O.players=k.default(d.default.players,{get:"Access to videojs.players is deprecated; use videojs.getPlayers instead",set:"Modification of videojs.players is deprecated"}),O.getComponent=l.default.getComponent,O.registerComponent=l.default.registerComponent,O.browser=b,O.TOUCH_ENABLED=b.TOUCH_ENABLED,O.extend=E.default,O.mergeOptions=h.default,O.bind=p.bind,O.plugin=f.default,O.addLanguage=function(t,e){var n;return t=(""+t).toLowerCase(),w.default(O.options.languages,(n={},n[t]=e,n))[t]},O.log=m.default,O.createTimeRange=O.createTimeRanges=g.createTimeRanges,O.formatTime=y.default,O.parseUrl=T.parseUrl,O.isCrossOrigin=T.isCrossOrigin,O.EventTarget=u.default,O.on=c.on,O.one=c.one,O.off=c.off,O.trigger=c.trigger,O.xhr=S.default,O.TextTrack=v.default,"object"==typeof n&&"object"==typeof e&&(e.exports=O),n.default=O,e.exports=n.default},{"../../src/js/utils/merge-options.js":129,"./component":63,"./event-target":95,"./extend.js":96,"./player":103,"./plugins.js":104,"./setup":106,"./tech/flash.js":109,"./tech/html5.js":110,"./tracks/text-track.js":119,"./utils/browser.js":120,"./utils/create-deprecation-proxy.js":122,"./utils/dom.js":123,"./utils/events.js":124,"./utils/fn.js":125,"./utils/format-time.js":126,"./utils/log.js":128,"./utils/stylesheet.js":130,"./utils/time-ranges.js":131,"./utils/url.js":133,"global/document":1,"lodash-compat/object/merge":40,"object.assign":45,xhr:55}]},{},[134])(134)}(),function(t){var e=t.vttjs={},n=e.VTTCue,r=e.VTTRegion,i=t.VTTCue,o=t.VTTRegion;e.shim=function(){e.VTTCue=n,e.VTTRegion=r},e.restore=function(){e.VTTCue=i,e.VTTRegion=o}}(this),function(t,e){function n(t){if("string"!=typeof t)return!1;return!!s[t.toLowerCase()]&&t.toLowerCase()}function r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function i(t,e,i){var s=this,l=/MSIE\s8\.0/.test(navigator.userAgent),u={};l?s=document.createElement("custom"):u.enumerable=!0,s.hasBeenReset=!1;var c="",d=!1,f=t,h=e,p=i,v=null,g="",y=!0,m="auto",_="start",b=50,T="middle",E=50,w="middle";return Object.defineProperty(s,"id",r({},u,{get:function(){return c},set:function(t){c=""+t}})),Object.defineProperty(s,"pauseOnExit",r({},u,{get:function(){return d},set:function(t){d=!!t}})),Object.defineProperty(s,"startTime",r({},u,{get:function(){return f},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");f=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",r({},u,{get:function(){return h},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");h=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",r({},u,{get:function(){return p},set:function(t){p=""+t,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",r({},u,{get:function(){return v},set:function(t){v=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",r({},u,{get:function(){return g},set:function(t){var e,n=(e=t,"string"==typeof e&&!!a[e.toLowerCase()]&&e.toLowerCase());if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");g=n,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",r({},u,{get:function(){return y},set:function(t){y=!!t,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",r({},u,{get:function(){return m},set:function(t){if("number"!=typeof t&&t!==o)throw new SyntaxError("An invalid number or illegal string was specified.");m=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",r({},u,{get:function(){return _},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");_=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",r({},u,{get:function(){return b},set:function(t){if(0>t||t>100)throw new Error("Position must be between 0 and 100.");b=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",r({},u,{get:function(){return T},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",r({},u,{get:function(){return E},set:function(t){if(0>t||t>100)throw new Error("Size must be between 0 and 100.");E=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",r({},u,{get:function(){return w},set:function(t){var e=n(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");w=e,this.hasBeenReset=!0}})),s.displayState=void 0,l?s:void 0}var o="auto",a={"":!0,lr:!0,rl:!0},s={start:!0,middle:!0,end:!0,left:!0,right:!0};i.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.VTTCue=t.VTTCue||i,e.VTTCue=i}(this,this.vttjs||{}),function(t,e){function n(t){return"number"==typeof t&&t>=0&&100>=t}function r(){var t=100,e=3,r=0,o=100,a=0,s=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!n(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return o},set:function(t){if(!n(t))throw new Error("RegionAnchorX must be between 0 and 100.");o=t}},regionAnchorX:{enumerable:!0,get:function(){return r},set:function(t){if(!n(t))throw new Error("RegionAnchorY must be between 0 and 100.");r=t}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!n(t))throw new Error("ViewportAnchorY must be between 0 and 100.");s=t}},viewportAnchorX:{enumerable:!0,get:function(){return a},set:function(t){if(!n(t))throw new Error("ViewportAnchorX must be between 0 and 100.");a=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e,n=(e=t,"string"==typeof e&&!!i[e.toLowerCase()]&&e.toLowerCase());if(!1===n)throw new SyntaxError("An invalid or illegal string was specified.");l=n}}})}var i={"":!0,up:!0};t.VTTRegion=t.VTTRegion||r,e.VTTRegion=r}(this,this.vttjs||{}),function(t){function e(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function n(t){function e(t,e,n,r){return 3600*(0|t)+60*(0|e)+(0|n)+(0|r)/1e3}var n=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function r(){this.values=f(null)}function i(t,e,n,r){var i=r?t.split(r):[t];for(var o in i)if("string"==typeof i[o]){var a=i[o].split(n);if(2===a.length){e(a[0],a[1])}}}function o(t,o,a){function s(){var r=n(t);if(null===r)throw new e(e.Errors.BadTimeStamp,"Malformed timestamp: "+u);return t=t.replace(/^[^\sa-zA-Z-]+/,""),r}function l(){t=t.replace(/^\s+/,"")}var u=t;if(l(),o.startTime=s(),l(),"--\x3e"!==t.substr(0,3))throw new e(e.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+u);t=t.substr(3),l(),o.endTime=s(),l(),function(t,e){var n=new r;i(t,function(t,e){switch(t){case"region":for(var r=a.length-1;r>=0;r--)if(a[r].id===e){n.set(t,a[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var i=e.split(","),o=i[0];n.integer(t,o),n.percent(t,o)&&n.set("snapToLines",!1),n.alt(t,o,["auto"]),2===i.length&&n.alt("lineAlign",i[1],["start","middle","end"]);break;case"position":i=e.split(","),n.percent(t,i[0]),2===i.length&&n.alt("positionAlign",i[1],["start","middle","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical",""),e.line=n.get("line","auto"),e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align","middle"),e.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(t,o)}function a(t,e){function r(){if(!e)return null;var t=e.match(/^([^<]*)(<[^>]+>?)?/);return e=e.substr((n=t[1]?t[1]:t[2]).length),n;var n}function i(t){return h[t]}function o(t){for(;y=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(y[0],i);return t}function a(e,n){var r=p[e];if(!r)return null;var i=t.document.createElement(r);i.localName=r;var o=v[e];return o&&n&&(i[o]=n.trim()),i}for(var s,l=t.document.createElement("div"),u=l,c=[];null!==(s=r());)if("<"!==s[0])u.appendChild(t.document.createTextNode(o(s)));else{if("/"===s[1]){c.length&&c[c.length-1]===s.substr(2).replace(">","")&&(c.pop(),u=u.parentNode);continue}var d,f=n(s.substr(1,s.length-2));if(f){d=t.document.createProcessingInstruction("timestamp",f),u.appendChild(d);continue}var y=s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!y)continue;if(!(d=a(y[1],y[3])))continue;if(g[(m=d).localName]&&g[m.localName]!==u.localName)continue;y[2]&&(d.className=y[2].substr(1).replace("."," ")),c.push(y[1]),u.appendChild(d),u=d}var m;return l}function s(){}function l(t,e,n){var r=/MSIE\s8\.0/.test(navigator.userAgent),i="rgba(255, 255, 255, 1)",o="rgba(0, 0, 0, 0.8)";r&&(i="rgb(255, 255, 255)",o="rgb(0, 0, 0)"),s.call(this),this.cue=e,this.cueDiv=a(t,e.text);var l={color:i,backgroundColor:o,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};r||(l.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",l.unicodeBidi="plaintext"),this.applyStyles(l,this.cueDiv),this.div=t.document.createElement("div"),l={textAlign:"middle"===e.align?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},r||(l.direction=function(t){function e(t,e){for(var n=e.childNodes.length-1;n>=0;n--)t.push(e.childNodes[n])}function n(t){if(!t||!t.length)return null;var r=t.pop(),i=r.textContent||r.innerText;if(i){var o=i.match(/^.*(\n|\r)/);return o?(t.length=0,o[0]):i}return"ruby"===r.tagName?n(t):r.childNodes?(e(t,r),n(t)):void 0}var r,i=[],o="";if(!t||!t.childNodes)return"ltr";for(e(i,t);o=n(i);)for(var a=0;a<o.length;a++){r=o.charCodeAt(a);for(var s=0;s<y.length;s++)if(y[s]===r)return"rtl"}return"ltr"}(this.cueDiv),l.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(l),this.div.appendChild(this.cueDiv);var u=0;switch(e.positionAlign){case"start":u=e.position;break;case"middle":u=e.position-e.size/2;break;case"end":u=e.position-e.size}this.applyStyles(""===e.vertical?{left:this.formatStyle(u,"%"),width:this.formatStyle(e.size,"%")}:{top:this.formatStyle(u,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function u(t){var e,n,r,i,o=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){n=t.div.offsetHeight,r=t.div.offsetWidth,i=t.div.offsetTop;var a=(a=t.div.childNodes)&&(a=a[0])&&a.getClientRects&&a.getClientRects();t=t.div.getBoundingClientRect(),e=a?Math.max(a[0]&&a[0].height||0,t.height/a.length):0}this.left=t.left,this.right=t.right,this.top=t.top||i,this.height=t.height||n,this.bottom=t.bottom||i+(t.height||n),this.width=t.width||r,this.lineHeight=void 0!==e?e:t.lineHeight,o&&!this.lineHeight&&(this.lineHeight=13)}function c(t,e,n,r){var i=new u(e),o=e.cue,a=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,r=0,i=0;i<n.length&&n[i]!==e;i++)"showing"===n[i].mode&&r++;return-1*++r}(o),s=[];if(o.snapToLines){var l;switch(o.vertical){case"":s=["+y","-y"],l="height";break;case"rl":s=["+x","-x"],l="width";break;case"lr":s=["-x","+x"],l="width"}var c=i.lineHeight,d=c*Math.round(a),f=n[l]+c,h=s[0];Math.abs(d)>f&&(d=0>d?-1:1,d*=Math.ceil(f/c)*c),0>a&&(d+=""===o.vertical?n.height:n.width,s=s.reverse()),i.move(h,d)}else{var p=i.lineHeight/n.height*100;switch(o.lineAlign){case"middle":a-=p/2;break;case"end":a-=p}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")})}s=["+y","-x","+x","-y"],i=new u(e)}var v=function(t,e){for(var i,o=new u(t),a=1,s=0;s<e.length;s++){for(;t.overlapsOppositeAxis(n,e[s])||t.within(n)&&t.overlapsAny(r);)t.move(e[s]);if(t.within(n))return t;var l=t.intersectPercentage(n);a>l&&(i=new u(t),a=l),t=new u(o)}return i||o}(i,s);e.move(v.toCSSCompatValues(n))}function d(){}var f=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();(e.prototype=f(Error.prototype)).constructor=e,e.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},r.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var r=0;r<n.length;++r)if(e===n[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&100>=e))&&(this.set(t,e),!0)}};var h={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},p={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},v={v:"title",lang:"lang"},g={rt:"ruby"},y=[1470,1472,1475,1478,1488,1489,1490,1491,1492,1493,1494,1495,1496,1497,1498,1499,1500,1501,1502,1503,1504,1505,1506,1507,1508,1509,1510,1511,1512,1513,1514,1520,1521,1522,1523,1524,1544,1547,1549,1563,1566,1567,1568,1569,1570,1571,1572,1573,1574,1575,1576,1577,1578,1579,1580,1581,1582,1583,1584,1585,1586,1587,1588,1589,1590,1591,1592,1593,1594,1595,1596,1597,1598,1599,1600,1601,1602,1603,1604,1605,1606,1607,1608,1609,1610,1645,1646,1647,1649,1650,1651,1652,1653,1654,1655,1656,1657,1658,1659,1660,1661,1662,1663,1664,1665,1666,1667,1668,1669,1670,1671,1672,1673,1674,1675,1676,1677,1678,1679,1680,1681,1682,1683,1684,1685,1686,1687,1688,1689,1690,1691,1692,1693,1694,1695,1696,1697,1698,1699,1700,1701,1702,1703,1704,1705,1706,1707,1708,1709,1710,1711,1712,1713,1714,1715,1716,1717,1718,1719,1720,1721,1722,1723,1724,1725,1726,1727,1728,1729,1730,1731,1732,1733,1734,1735,1736,1737,1738,1739,1740,1741,1742,1743,1744,1745,1746,1747,1748,1749,1765,1766,1774,1775,1786,1787,1788,1789,1790,1791,1792,1793,1794,1795,1796,1797,1798,1799,1800,1801,1802,1803,1804,1805,1807,1808,1810,1811,1812,1813,1814,1815,1816,1817,1818,1819,1820,1821,1822,1823,1824,1825,1826,1827,1828,1829,1830,1831,1832,1833,1834,1835,1836,1837,1838,1839,1869,1870,1871,1872,1873,1874,1875,1876,1877,1878,1879,1880,1881,1882,1883,1884,1885,1886,1887,1888,1889,1890,1891,1892,1893,1894,1895,1896,1897,1898,1899,1900,1901,1902,1903,1904,1905,1906,1907,1908,1909,1910,1911,1912,1913,1914,1915,1916,1917,1918,1919,1920,1921,1922,1923,1924,1925,1926,1927,1928,1929,1930,1931,1932,1933,1934,1935,1936,1937,1938,1939,1940,1941,1942,1943,1944,1945,1946,1947,1948,1949,1950,1951,1952,1953,1954,1955,1956,1957,1969,1984,1985,1986,1987,1988,1989,1990,1991,1992,1993,1994,1995,1996,1997,1998,1999,2e3,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020,2021,2022,2023,2024,2025,2026,2036,2037,2042,2048,2049,2050,2051,2052,2053,2054,2055,2056,2057,2058,2059,2060,2061,2062,2063,2064,2065,2066,2067,2068,2069,2074,2084,2088,2096,2097,2098,2099,2100,2101,2102,2103,2104,2105,2106,2107,2108,2109,2110,2112,2113,2114,2115,2116,2117,2118,2119,2120,2121,2122,2123,2124,2125,2126,2127,2128,2129,2130,2131,2132,2133,2134,2135,2136,2142,2208,2210,2211,2212,2213,2214,2215,2216,2217,2218,2219,2220,8207,64285,64287,64288,64289,64290,64291,64292,64293,64294,64295,64296,64298,64299,64300,64301,64302,64303,64304,64305,64306,64307,64308,64309,64310,64312,64313,64314,64315,64316,64318,64320,64321,64323,64324,64326,64327,64328,64329,64330,64331,64332,64333,64334,64335,64336,64337,64338,64339,64340,64341,64342,64343,64344,64345,64346,64347,64348,64349,64350,64351,64352,64353,64354,64355,64356,64357,64358,64359,64360,64361,64362,64363,64364,64365,64366,64367,64368,64369,64370,64371,64372,64373,64374,64375,64376,64377,64378,64379,64380,64381,64382,64383,64384,64385,64386,64387,64388,64389,64390,64391,64392,64393,64394,64395,64396,64397,64398,64399,64400,64401,64402,64403,64404,64405,64406,64407,64408,64409,64410,64411,64412,64413,64414,64415,64416,64417,64418,64419,64420,64421,64422,64423,64424,64425,64426,64427,64428,64429,64430,64431,64432,64433,64434,64435,64436,64437,64438,64439,64440,64441,64442,64443,64444,64445,64446,64447,64448,64449,64467,64468,64469,64470,64471,64472,64473,64474,64475,64476,64477,64478,64479,64480,64481,64482,64483,64484,64485,64486,64487,64488,64489,64490,64491,64492,64493,64494,64495,64496,64497,64498,64499,64500,64501,64502,64503,64504,64505,64506,64507,64508,64509,64510,64511,64512,64513,64514,64515,64516,64517,64518,64519,64520,64521,64522,64523,64524,64525,64526,64527,64528,64529,64530,64531,64532,64533,64534,64535,64536,64537,64538,64539,64540,64541,64542,64543,64544,64545,64546,64547,64548,64549,64550,64551,64552,64553,64554,64555,64556,64557,64558,64559,64560,64561,64562,64563,64564,64565,64566,64567,64568,64569,64570,64571,64572,64573,64574,64575,64576,64577,64578,64579,64580,64581,64582,64583,64584,64585,64586,64587,64588,64589,64590,64591,64592,64593,64594,64595,64596,64597,64598,64599,64600,64601,64602,64603,64604,64605,64606,64607,64608,64609,64610,64611,64612,64613,64614,64615,64616,64617,64618,64619,64620,64621,64622,64623,64624,64625,64626,64627,64628,64629,64630,64631,64632,64633,64634,64635,64636,64637,64638,64639,64640,64641,64642,64643,64644,64645,64646,64647,64648,64649,64650,64651,64652,64653,64654,64655,64656,64657,64658,64659,64660,64661,64662,64663,64664,64665,64666,64667,64668,64669,64670,64671,64672,64673,64674,64675,64676,64677,64678,64679,64680,64681,64682,64683,64684,64685,64686,64687,64688,64689,64690,64691,64692,64693,64694,64695,64696,64697,64698,64699,64700,64701,64702,64703,64704,64705,64706,64707,64708,64709,64710,64711,64712,64713,64714,64715,64716,64717,64718,64719,64720,64721,64722,64723,64724,64725,64726,64727,64728,64729,64730,64731,64732,64733,64734,64735,64736,64737,64738,64739,64740,64741,64742,64743,64744,64745,64746,64747,64748,64749,64750,64751,64752,64753,64754,64755,64756,64757,64758,64759,64760,64761,64762,64763,64764,64765,64766,64767,64768,64769,64770,64771,64772,64773,64774,64775,64776,64777,64778,64779,64780,64781,64782,64783,64784,64785,64786,64787,64788,64789,64790,64791,64792,64793,64794,64795,64796,64797,64798,64799,64800,64801,64802,64803,64804,64805,64806,64807,64808,64809,64810,64811,64812,64813,64814,64815,64816,64817,64818,64819,64820,64821,64822,64823,64824,64825,64826,64827,64828,64829,64848,64849,64850,64851,64852,64853,64854,64855,64856,64857,64858,64859,64860,64861,64862,64863,64864,64865,64866,64867,64868,64869,64870,64871,64872,64873,64874,64875,64876,64877,64878,64879,64880,64881,64882,64883,64884,64885,64886,64887,64888,64889,64890,64891,64892,64893,64894,64895,64896,64897,64898,64899,64900,64901,64902,64903,64904,64905,64906,64907,64908,64909,64910,64911,64914,64915,64916,64917,64918,64919,64920,64921,64922,64923,64924,64925,64926,64927,64928,64929,64930,64931,64932,64933,64934,64935,64936,64937,64938,64939,64940,64941,64942,64943,64944,64945,64946,64947,64948,64949,64950,64951,64952,64953,64954,64955,64956,64957,64958,64959,64960,64961,64962,64963,64964,64965,64966,64967,65008,65009,65010,65011,65012,65013,65014,65015,65016,65017,65018,65019,65020,65136,65137,65138,65139,65140,65142,65143,65144,65145,65146,65147,65148,65149,65150,65151,65152,65153,65154,65155,65156,65157,65158,65159,65160,65161,65162,65163,65164,65165,65166,65167,65168,65169,65170,65171,65172,65173,65174,65175,65176,65177,65178,65179,65180,65181,65182,65183,65184,65185,65186,65187,65188,65189,65190,65191,65192,65193,65194,65195,65196,65197,65198,65199,65200,65201,65202,65203,65204,65205,65206,65207,65208,65209,65210,65211,65212,65213,65214,65215,65216,65217,65218,65219,65220,65221,65222,65223,65224,65225,65226,65227,65228,65229,65230,65231,65232,65233,65234,65235,65236,65237,65238,65239,65240,65241,65242,65243,65244,65245,65246,65247,65248,65249,65250,65251,65252,65253,65254,65255,65256,65257,65258,65259,65260,65261,65262,65263,65264,65265,65266,65267,65268,65269,65270,65271,65272,65273,65274,65275,65276,67584,67585,67586,67587,67588,67589,67592,67594,67595,67596,67597,67598,67599,67600,67601,67602,67603,67604,67605,67606,67607,67608,67609,67610,67611,67612,67613,67614,67615,67616,67617,67618,67619,67620,67621,67622,67623,67624,67625,67626,67627,67628,67629,67630,67631,67632,67633,67634,67635,67636,67637,67639,67640,67644,67647,67648,67649,67650,67651,67652,67653,67654,67655,67656,67657,67658,67659,67660,67661,67662,67663,67664,67665,67666,67667,67668,67669,67671,67672,67673,67674,67675,67676,67677,67678,67679,67840,67841,67842,67843,67844,67845,67846,67847,67848,67849,67850,67851,67852,67853,67854,67855,67856,67857,67858,67859,67860,67861,67862,67863,67864,67865,67866,67867,67872,67873,67874,67875,67876,67877,67878,67879,67880,67881,67882,67883,67884,67885,67886,67887,67888,67889,67890,67891,67892,67893,67894,67895,67896,67897,67903,67968,67969,67970,67971,67972,67973,67974,67975,67976,67977,67978,67979,67980,67981,67982,67983,67984,67985,67986,67987,67988,67989,67990,67991,67992,67993,67994,67995,67996,67997,67998,67999,68e3,68001,68002,68003,68004,68005,68006,68007,68008,68009,68010,68011,68012,68013,68014,68015,68016,68017,68018,68019,68020,68021,68022,68023,68030,68031,68096,68112,68113,68114,68115,68117,68118,68119,68121,68122,68123,68124,68125,68126,68127,68128,68129,68130,68131,68132,68133,68134,68135,68136,68137,68138,68139,68140,68141,68142,68143,68144,68145,68146,68147,68160,68161,68162,68163,68164,68165,68166,68167,68176,68177,68178,68179,68180,68181,68182,68183,68184,68192,68193,68194,68195,68196,68197,68198,68199,68200,68201,68202,68203,68204,68205,68206,68207,68208,68209,68210,68211,68212,68213,68214,68215,68216,68217,68218,68219,68220,68221,68222,68223,68352,68353,68354,68355,68356,68357,68358,68359,68360,68361,68362,68363,68364,68365,68366,68367,68368,68369,68370,68371,68372,68373,68374,68375,68376,68377,68378,68379,68380,68381,68382,68383,68384,68385,68386,68387,68388,68389,68390,68391,68392,68393,68394,68395,68396,68397,68398,68399,68400,68401,68402,68403,68404,68405,68416,68417,68418,68419,68420,68421,68422,68423,68424,68425,68426,68427,68428,68429,68430,68431,68432,68433,68434,68435,68436,68437,68440,68441,68442,68443,68444,68445,68446,68447,68448,68449,68450,68451,68452,68453,68454,68455,68456,68457,68458,68459,68460,68461,68462,68463,68464,68465,68466,68472,68473,68474,68475,68476,68477,68478,68479,68608,68609,68610,68611,68612,68613,68614,68615,68616,68617,68618,68619,68620,68621,68622,68623,68624,68625,68626,68627,68628,68629,68630,68631,68632,68633,68634,68635,68636,68637,68638,68639,68640,68641,68642,68643,68644,68645,68646,68647,68648,68649,68650,68651,68652,68653,68654,68655,68656,68657,68658,68659,68660,68661,68662,68663,68664,68665,68666,68667,68668,68669,68670,68671,68672,68673,68674,68675,68676,68677,68678,68679,68680,126464,126465,126466,126467,126469,126470,126471,126472,126473,126474,126475,126476,126477,126478,126479,126480,126481,126482,126483,126484,126485,126486,126487,126488,126489,126490,126491,126492,126493,126494,126495,126497,126498,126500,126503,126505,126506,126507,126508,126509,126510,126511,126512,126513,126514,126516,126517,126518,126519,126521,126523,126530,126535,126537,126539,126541,126542,126543,126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,126567,126568,126569,126570,126572,126573,126574,126575,126576,126577,126578,126580,126581,126582,126583,126585,126586,126587,126588,126590,126592,126593,126594,126595,126596,126597,126598,126599,126600,126601,126603,126604,126605,126606,126607,126608,126609,126610,126611,126612,126613,126614,126615,126616,126617,126618,126619,126625,126626,126627,126629,126630,126631,126632,126633,126635,126636,126637,126638,126639,126640,126641,126642,126643,126644,126645,126646,126647,126648,126649,126650,126651,1114109];s.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])},s.prototype.formatStyle=function(t,e){return 0===t?0:t+e},(l.prototype=f(s.prototype)).constructor=l,u.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},u.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},u.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},u.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},u.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},u.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},u.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},u.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||n}},d.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},d.convertCueToDOMTree=function(t,e){return t&&e?a(t,e):null};d.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var r=t.document.createElement("div");if(r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin="1.5%",n.appendChild(r),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var i=[],o=u.getSimpleBoxPosition(r),a={font:Math.round(.05*o.height*100)/100+"px sans-serif"};!function(){for(var n,s,d=0;d<e.length;d++)s=e[d],n=new l(t,s,a),r.appendChild(n.div),c(0,n,o,i),s.displayState=n.div,i.push(u.getSimpleBoxPosition(n))}()}else for(var s=0;s<e.length;s++)r.appendChild(e[s].displayState)},(d.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]}).prototype={reportOrThrowError:function(t){if(!(t instanceof e))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){function n(){for(var t=s.buffer,e=0;e<t.length&&"\r"!==t[e]&&"\n"!==t[e];)++e;var n=t.substr(0,e);return"\r"===t[e]&&++e,"\n"===t[e]&&++e,s.buffer=t.substr(e),n}function a(t){i(t,function(t,e){switch(t){case"Region":!function(t){var e=new r;if(i(t,function(t,n){switch(t){case"id":e.set(t,n);break;case"width":e.percent(t,n);break;case"lines":e.integer(t,n);break;case"regionanchor":case"viewportanchor":var i=n.split(",");if(2!==i.length)break;var o=new r;if(o.percent("x",i[0]),o.percent("y",i[1]),!o.has("x")||!o.has("y"))break;e.set(t+"X",o.get("x")),e.set(t+"Y",o.get("y"));break;case"scroll":e.alt(t,n,["up"])}},/=/,/\s/),e.has("id")){var n=new(s.vttjs.VTTRegion||s.window.VTTRegion);n.width=e.get("width",100),n.lines=e.get("lines",3),n.regionAnchorX=e.get("regionanchorX",0),n.regionAnchorY=e.get("regionanchorY",100),n.viewportAnchorX=e.get("viewportanchorX",0),n.viewportAnchorY=e.get("viewportanchorY",100),n.scroll=e.get("scroll",""),s.onregion&&s.onregion(n),s.regionList.push({id:e.get("id"),region:n})}}(e)}},/:/)}var s=this;t&&(s.buffer+=s.decoder.decode(t,{stream:!0}));try{var l;if("INITIAL"===s.state){if(!/\r\n|\n/.test(s.buffer))return this;var u=(l=n()).match(/^WEBVTT([ \t].*)?$/);if(!u||!u[0])throw new e(e.Errors.BadSignature);s.state="HEADER"}for(var c=!1;s.buffer;){if(!/\r\n|\n/.test(s.buffer))return this;switch(c?c=!1:l=n(),s.state){case"HEADER":/:/.test(l)?a(l):l||(s.state="ID");continue;case"NOTE":l||(s.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(l)){s.state="NOTE";break}if(!l)continue;if(s.cue=new(s.vttjs.VTTCue||s.window.VTTCue)(0,0,""),s.state="CUE",-1===l.indexOf("--\x3e")){s.cue.id=l;continue}case"CUE":try{o(l,s.cue,s.regionList)}catch(t){s.reportOrThrowError(t),s.cue=null,s.state="BADCUE";continue}s.state="CUETEXT";continue;case"CUETEXT":var d=-1!==l.indexOf("--\x3e");if(!l||d&&(c=!0)){s.oncue&&s.oncue(s.cue),s.cue=null,s.state="ID";continue}s.cue.text&&(s.cue.text+="\n"),s.cue.text+=l;continue;case"BADCUE":l||(s.state="ID");continue}}}catch(t){s.reportOrThrowError(t),"CUETEXT"===s.state&&s.cue&&s.oncue&&s.oncue(s.cue),s.cue=null,s.state="INITIAL"===s.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new e(e.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}},t.WebVTT=d}(this);!function(){!function(t){var e=t&&t.videojs;if(e){e.CDN_VERSION="5.0.2";e.options.flash.swf=("https:"===t.location.protocol?"https://":"http://")+"vjs.zencdn.net/swf/5.0.0-rc1/video-js.swf"}}(window),t=new Image,e=window,n=navigator,r=encodeURIComponent,i=Math,o=void 0,a=void 0,e&&!1!==e.HELP_IMPROVE_VIDEOJS&&(i.random()>.01||(o=e.location,a=e.videojs||{},t.src="//www.google-analytics.com/__utm.gif?utmwv=5.4.2&utmac=UA-16505296-3&utmn=1&utmhn="+r(o.hostname)+"&utmsr="+e.screen.availWidth+"x"+e.screen.availHeight+"&utmul="+(n.language||n.userLanguage||"").toLowerCase()+"&utmr="+r(o.href)+"&utmp="+r(o.hostname+o.pathname)+"&utmcc=__utma%3D1."+i.floor(1e10*i.random())+".1.1.1.1%3B&utme=8(vjsv*cdnv)9("+a.VERSION+"*"+a.CDN_VERSION+")"));var t,e,n,r,i,o,a}()}).call(e,n(65))},252:function(t,e,n){(function(n){var r,i,o;!function t(e,n,i){function o(s,l){if(!n[s]){if(!e[s]){if(!l&&("function"==typeof r&&r))return r(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return o(n||t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){var r=t("hls.js");t("./videojs5-hlsjs-source-handler.js")(window,window.videojs,r)},{"./videojs5-hlsjs-source-handler.js":2,"hls.js":3}],2:[function(t,e,n){t("videojs-quality-picker");e.exports=function(t,e,n){function r(t,e){function r(t,e){s.nextLevel=t}function i(){1===u[n.ErrorTypes.MEDIA_ERROR]?s.recoverMediaError():2===u[n.ErrorTypes.MEDIA_ERROR]?(s.swapAudioCodec(),s.recoverMediaError()):u[n.ErrorTypes.MEDIA_ERROR]>2&&(error.code=3,e.error=function(){return error},e.trigger("error"))}function o(t,n){var i=[];n.levels.length>1&&i.push({id:-1,label:"auto",selected:-1===s.manualLevel}),n.levels.forEach(function(t,e){var n={};n.id=e,n.selected=e===s.manualLevel,n.label=(r=t,r.height?r.height+"p":r.width?Math.round(9*r.width/16)+"p":r.bitrate?r.bitrate/1e3+"kbps":0),i.push(n);var r}),e.trigger("loadedqualitydata",{qualityData:{video:i},qualitySwitchCallback:r})}function a(){s.loadSource(t.src),l.removeEventListener("waiting",a)}e.name_="streamrootHLS";var s,l=e.el(),u={},c=null;l.addEventListener("error",function(t){var e=t.currentTarget.error;switch(e.code){case e.MEDIA_ERR_ABORTED:break;case e.MEDIA_ERR_DECODE:i()}}),this.duration=function(){return c||l.duration||0},this.dispose=function(){l.removeEventListener("waiting",a),s.destroy()},(s=new n(e.options_.hlsjsConfig||{})).on(n.Events.ERROR,function(t,r){!function(t,r){var o={message:"HLS.js error: "+r.type+" - fatal: "+r.fatal+" - "+r.details};if(u[r.type]?u[r.type]+=1:u[r.type]=1,r.fatal)switch(r.type){case n.ErrorTypes.NETWORK_ERROR:o.code=2,e.error=function(){return o},e.trigger("error");break;case n.ErrorTypes.MEDIA_ERROR:i();break;default:s.destroy(),e.error=function(){return o},e.trigger("error")}}(0,r)}),s.on(n.Events.MANIFEST_PARSED,o),s.on(n.Events.LEVEL_LOADED,function(t,e){c=e.details.live?1/0:e.details.totalduration}),s.attachMedia(l),l.addEventListener("waiting",a)}n.isSupported()&&e.getComponent("Html5").registerSourceHandler({canHandleSource:function(t){return/^application\/x-mpegURL$/i.test(t.type)?"probably":/\.m3u8/i.test(t.src)?"maybe":""},handleSource:function(t,e){return e.hlsProvider&&e.hlsProvider.dispose(),e.hlsProvider=new r(t,e),e.hlsProvider}},0),e.StreamrootProviderHLS=r}},{"videojs-quality-picker":7}],3:[function(r,a,s){(function(n){!function(n){if("object"==typeof s&&void 0!==a)a.exports=n();else{void 0===(o="function"==typeof(i=n)?i.apply(e,[]):i)||(t.exports=o)}}(function(){return function t(e,n,i){function o(s,l){if(!n[s]){if(!e[s]){var u="function"==typeof r&&r;if(!l&&u)return u(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[s]={exports:{}};e[s][0].call(d.exports,function(t){var n=e[s][1][t];return o(n||t)},d,d.exports,t,e,n,i)}return n[s].exports}for(var a="function"==typeof r&&r,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var c=new Error('Uncaught, unspecified "error" event. ('+e+")");throw c.context=e,c}if(a(n=this._events[t]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),u=n.slice(),r=u.length,l=0;l<r;l++)u[l].apply(this,s);return!0},r.prototype.on=r.prototype.addListener=function(t,e){var n;if(!i(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,i(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console)),this},r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!i(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,a,s;if(!i(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(n=this._events[t]).length,r=-1,n===e||i(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?i(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(i(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],2:[function(t,e,n){!function(t){var r=/^([^#]*)(.*)$/,i=/^([^\?]*)(.*)$/,o=/^(([a-z]+:\/\/)?[^:\/]+(?::[0-9]+)?)?(\/?.*)$/i,a={buildAbsoluteURL:function(t,e){if(e=e.trim(),/^[a-z]+:/i.test(e))return e;var n=null,s=null,l=r.exec(e);l&&(s=l[2],e=l[1]);var u=i.exec(e);u&&(n=u[2],e=u[1]);var c=r.exec(t);c&&(t=c[1]);var d=i.exec(t);d&&(t=d[1]);var f=o.exec(t);if(!f)throw new Error("Error trying to parse base URL.");var h=f[2]||"",p=f[1]||"",v=f[3];0!==v.indexOf("/")&&""!==p&&(v="/"+v);var g=null;return g=/^\/\//.test(e)?h+a.buildAbsolutePath("",e.substring(2)):/^\//.test(e)?p+"/"+a.buildAbsolutePath("",e.substring(1)):a.buildAbsolutePath(p+v,e),n&&(g+=n),s&&(g+=s),g},buildAbsolutePath:function(t,e){for(var n,r,i="",o=t.replace(/[^\/]*$/,e.replace(/(\/|^)(?:\.?\/+)+/g,"$1")),a=0;r=o.indexOf("/../",a),r>-1;a=r+n)n=/^\/(?:\.\.\/)*/.exec(o.slice(r))[0].length,i=(i+o.substring(a,r)).replace(new RegExp("(?:\\/+[^\\/]*){0,"+(n-1)/3+"}$"),"/");return i+o.substr(a)}};"object"==typeof n&&"object"==typeof e?e.exports=a:"object"==typeof n?n.URLToolkit=a:t.URLToolkit=a}(this)},{}],3:[function(t,e,n){var r=arguments[3],i=arguments[4],o=arguments[5],a=JSON.stringify;e.exports=function(t,e){for(var n,s=Object.keys(o),l=0,u=s.length;l<u;l++){var c=o[f=s[l]].exports;if(c===t||c&&c.default===t){n=f;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var d={};for(l=0,u=s.length;l<u;l++){var f;d[f=s[l]]=f}i[n]=[Function(["require","module","exports"],"("+t+")(self)"),d]}var h=Math.floor(Math.pow(16,8)*Math.random()).toString(16),p={};p[n]=n,i[h]=[Function(["require"],"var f = require("+a(n)+");(f.default ? f.default : f)(self);"),p];var v={};!function t(e){v[e]=!0;for(var n in i[e][1]){var r=i[e][1][n];v[r]||t(r)}}(h);var g="("+r+")({"+Object.keys(v).map(function(t){return a(t)+":["+i[t][0]+","+a(i[t][1])+"]"}).join(",")+"},{},["+a(h)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,m=new Blob([g],{type:"text/javascript"});if(e&&e.bare)return m;var _=y.createObjectURL(m),b=new Worker(_);return b.objectURL=_,b}},{}],4:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=r(t(27)),s=r(t(30)),l=t(26),u=t(45),c=r(t(9)),d=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o.default.FRAG_LOADING,o.default.FRAG_LOADED,o.default.FRAG_BUFFERED,o.default.ERROR));return n.lastLoadedFragLevel=0,n._autoLevelCapping=-1,n._nextAutoLevel=-1,n.hls=t,n.onCheck=n.abandonRulesCheck.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),i(e,[{key:"destroy",value:function(){this.clearTimer(),a.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(t){var e=t.frag;if("main"===e.type){if(this.timer||(this.timer=setInterval(this.onCheck,100)),!this.bwEstimator){var n=this.hls,r=n.config,i=void 0,o=void 0;n.levels[t.frag.level].details.live?(i=r.abrEwmaFastLive,o=r.abrEwmaSlowLive):(i=r.abrEwmaFastVoD,o=r.abrEwmaSlowVoD),this.bwEstimator=new c.default(n,o,i,r.abrEwmaDefaultEstimate)}this.fragCurrent=e}}},{key:"abandonRulesCheck",value:function(){var t=this.hls,e=t.media,n=this.fragCurrent,r=n.loader,i=this.minAutoLevel;if(!r||r.stats&&r.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),void this.clearTimer();var a=r.stats;if(e&&(!e.paused&&0!==e.playbackRate||!e.readyState)&&n.autoLevel&&n.level){var l=performance.now()-a.trequest,c=Math.abs(e.playbackRate);if(l>500*n.duration/c){var d=t.levels,f=Math.max(1,a.bw?a.bw/8:1e3*a.loaded/l),h=d[n.level],p=h.realBitrate?Math.max(h.realBitrate,h.bitrate):h.bitrate,v=a.total?a.total:Math.max(a.loaded,Math.round(n.duration*p/8)),g=e.currentTime,y=(v-a.loaded)/f,m=(s.default.bufferInfo(e,g,t.config.maxBufferHole).end-g)/c;if(m<2*n.duration/c&&y>m){var _=void 0,b=void 0;for(b=n.level-1;b>i;b--){var T=d[b].realBitrate?Math.max(d[b].realBitrate,d[b].bitrate):d[b].bitrate;if((_=n.duration*T/(6.4*f))<m)break}_<y&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+b+":fragLoadedDelay["+b+"]<fragLoadedDelay["+(n.level-1)+"];bufferStarvationDelay:"+_.toFixed(1)+"<"+y.toFixed(1)+":"+m.toFixed(1)),t.nextLoadLevel=b,this.bwEstimator.sample(l,a.loaded),r.abort(),this.clearTimer(),t.trigger(o.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,stats:a}))}}}}},{key:"onFragLoaded",value:function(t){var e=t.frag;if("main"===e.type){this.clearTimer(),this.lastLoadedFragLevel=e.level,this._nextAutoLevel=-1;var n=this.hls.levels[e.level],r=(n.loaded?n.loaded.bytes:0)+t.stats.loaded,i=(n.loaded?n.loaded.duration:0)+t.frag.duration;if(n.loaded={bytes:r,duration:i},n.realBitrate=Math.round(8*r/i),t.frag.bitrateTest){var o=t.stats;o.tparsed=o.tbuffered=o.tload,this.onFragBuffered(t)}}}},{key:"onFragBuffered",value:function(t){var e=t.stats,n=t.frag;if(!0!==e.aborted&&1===n.loadCounter&&"main"===n.type&&(!n.bitrateTest||e.tload===e.tbuffered)){var r=e.tparsed-e.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(e.tfirst-e.trequest)+"/"+Math.round(e.tload-e.tfirst)+"/"+Math.round(e.tparsed-e.tload)+"/"+Math.round(e.tbuffered-e.tparsed)+"/"+Math.round(8*e.loaded/(e.tbuffered-e.trequest))),this.bwEstimator.sample(r,e.loaded),this.bitrateTestDelay=n.bitrateTest?r/1e3:0}}},{key:"onError",value:function(t){switch(t.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}}},{key:"clearTimer",value:function(){this.timer&&(clearInterval(this.timer),this.timer=null)}},{key:"findBestLevel",value:function(t,e,n,r,i,o,a,s,l){for(var c=i;c>=r;c--){var d=l[c].details,f=d?d.totalduration/d.fragments.length:e,h=!!d&&d.live,p=void 0;p=c<=t?a*n:s*n;var v=l[c].realBitrate?Math.max(l[c].realBitrate,l[c].bitrate):l[c].bitrate,g=v*f/p;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+c+"/"+Math.round(p)+"/"+v+"/"+f+"/"+o+"/"+g),p>v&&(!g||h||g<o))return c}return-1}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(t){this._autoLevelCapping=t}},{key:"nextAutoLevel",get:function(){var t=this._nextAutoLevel,e=this.bwEstimator,n=this.hls,r=n.levels,i=n.config.minAutoBitrate;if(!(-1===t||e&&e.canEstimate()))return Math.min(t,this.maxAutoLevel);var o=this.nextABRAutoLevel;if(-1!==t&&(o=Math.min(t,o)),void 0!==i)for(var a=r[o].realBitrate?Math.max(r[o].realBitrate,r[o].bitrate):r[o].bitrate;a<i;)o++;return o},set:function(t){this._nextAutoLevel=t}},{key:"minAutoLevel",get:function(){for(var t=this.hls,e=t.levels,n=t.config.minAutoBitrate,r=e?e.length:0,i=0;i<r;i++){if((e[i].realBitrate?Math.max(e[i].realBitrate,e[i].bitrate):e[i].bitrate)>n)return i}return 0}},{key:"maxAutoLevel",get:function(){var t=this.hls.levels,e=this._autoLevelCapping;return-1===e&&t&&t.length?t.length-1:e}},{key:"nextABRAutoLevel",get:function(){var t=this.hls,e=this.maxAutoLevel,n=t.levels,r=t.config,i=this.minAutoLevel,o=t.media,a=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,c=o?o.currentTime:0,d=o&&0!==o.playbackRate?Math.abs(o.playbackRate):1,f=this.bwEstimator?this.bwEstimator.getEstimate():r.abrEwmaDefaultEstimate,h=(s.default.bufferInfo(o,c,r.maxBufferHole).end-c)/d,p=this.findBestLevel(a,l,f,i,e,h,r.abrBandWidthFactor,r.abrBandWidthUpFactor,n);if(p>=0)return p;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var v=l?Math.min(l,r.maxStarvationDelay):r.maxStarvationDelay,g=r.abrBandWidthFactor,y=r.abrBandWidthUpFactor;if(0===h){var m=this.bitrateTestDelay;if(m){v=(l?Math.min(l,r.maxLoadingDelay):r.maxLoadingDelay)-m,u.logger.trace("bitrate test took "+Math.round(1e3*m)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*v)+" ms"),g=y=1}}return p=this.findBestLevel(a,l,f,i,e,h+v,g,y,n),Math.max(p,0)}}]),e}();n.default=d},{26:26,27:27,28:28,30:30,45:45,9:9}],5:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(t(41)),s=r(t(30)),l=r(t(22)),u=r(t(28)),c=r(t(27)),d=r(t(31)),f=r(t(46)),h=t(26),p=t(45),v={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS"},g=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,u.default.MEDIA_ATTACHED,u.default.MEDIA_DETACHING,u.default.AUDIO_TRACKS_UPDATED,u.default.AUDIO_TRACK_SWITCHING,u.default.AUDIO_TRACK_LOADED,u.default.KEY_LOADED,u.default.FRAG_LOADED,u.default.FRAG_PARSING_INIT_SEGMENT,u.default.FRAG_PARSING_DATA,u.default.FRAG_PARSED,u.default.ERROR,u.default.BUFFER_CREATED,u.default.BUFFER_APPENDED,u.default.BUFFER_FLUSHED,u.default.INIT_PTS_FOUND));return n.config=t.config,n.audioCodecSwap=!1,n.ticks=0,n._state=v.STOPPED,n.ontick=n.tick.bind(n),n.initPTS=[],n.waitingFragment=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,c["default"]),o(e,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),c.default.prototype.destroy.call(this),this.state=v.STOPPED}},{key:"onInitPtsFound",value:function(t){var e=t.cc,n=t.initPTS;"main"===t.id&&(this.initPTS[e]=n,p.logger.log("InitPTS for cc:"+e+" found from video track:"+n),this.state===v.WAITING_INIT_PTS&&(p.logger.log("sending pending audio frag to demuxer"),this.state=v.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null))}},{key:"startLoad",value:function(t){if(this.tracks){var e=this.lastCurrentTime;this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.fragLoadError=0,e>0&&-1===t?(p.logger.log("audio:override startPosition with lastCurrentTime @"+e.toFixed(3)),this.state=v.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:t,this.state=v.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=t,this.state=v.STOPPED}},{key:"stopLoad",value:function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=v.STOPPED}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){var t,e,n,r,o,l=this,c=this.hls,d=c.config,f=function(){switch(l.state){case v.ERROR:case v.PAUSED:case v.BUFFER_FLUSHING:break;case v.STARTING:l.state=v.WAITING_TRACK,l.loadedmetadata=!1;break;case v.IDLE:var i=l.tracks;if(!i)break;if(!l.media&&(l.startFragRequested||!d.startFragPrefetch))break;t=l.loadedmetadata?l.media.currentTime:l.nextLoadPosition;var f=l.mediaBuffer?l.mediaBuffer:l.media,g=s.default.bufferInfo(f,t,d.maxBufferHole),y=g.end,m=l.fragPrevious,_=l.audioSwitch,b=l.trackId;if(g.len<d.maxMaxBufferLength&&b<i.length){if(void 0===(n=i[b].details)){l.state=v.WAITING_TRACK;break}if(!_&&!n.live&&m&&m.sn===n.endSN&&(!l.media.seeking||l.media.duration-y<m.duration/2)){l.hls.trigger(u.default.BUFFER_EOS,{type:"audio"}),l.state=v.ENDED;break}var T=n.fragments,E=T.length,w=T[0].start,k=T[E-1].start+T[E-1].duration,S=void 0;if(_)if(n.live&&!n.PTSKnown)p.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),y=0;else if(y=t,n.PTSKnown&&t<w){if(!(g.end>w||g.nextStart))return{v:void 0};p.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),l.media.currentTime=w+.05}if(y<=w){if(S=T[0],n.live&&S.loadIdx&&S.loadIdx===l.fragLoadIdx){var O=g.nextStart?g.nextStart:w;return p.logger.log("no alt audio available @currentTime:"+l.media.currentTime+", seeking @"+(O+.05)),l.media.currentTime=O+.05,{v:void 0}}}else!function(){var t=void 0,e=d.maxFragLookUpTolerance;y<k?(y>k-e&&(e=0),(t=a.default.search(T,function(t){return t.start+t.duration-e<=y?1:t.start-e>y?-1:0}))||p.logger.log("frag not found @bufferEnd/start:"+y+"/"+w)):t=T[E-1],t&&(S=t,w=t.start,m&&S.level===m.level&&S.sn===m.sn&&(S.sn<n.endSN?(S=T[S.sn+1-n.startSN],p.logger.log("SN just loaded, load next one: "+S.sn)):S=null))}();if(S)if(null!=S.decryptdata.uri&&null==S.decryptdata.key)p.logger.log("Loading key for "+S.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+b),l.state=v.KEY_LOADING,c.trigger(u.default.KEY_LOADING,{frag:S});else{if(p.logger.log("Loading "+S.sn+" of ["+n.startSN+" ,"+n.endSN+"],track "+b+", currentTime:"+t+",bufferEnd:"+y.toFixed(3)),void 0!==l.fragLoadIdx?l.fragLoadIdx++:l.fragLoadIdx=0,S.loadCounter){S.loadCounter++;var j=d.fragLoadingLoopThreshold;if(S.loadCounter>j&&Math.abs(l.fragLoadIdx-S.loadIdx)<j)return c.trigger(u.default.ERROR,{type:h.ErrorTypes.MEDIA_ERROR,details:h.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:S}),{v:void 0}}else S.loadCounter=1;S.loadIdx=l.fragLoadIdx,l.fragCurrent=S,l.startFragRequested=!0,l.nextLoadPosition=S.start+S.duration,c.trigger(u.default.FRAG_LOADING,{frag:S}),l.state=v.FRAG_LOADING}}break;case v.WAITING_TRACK:(e=l.tracks[l.trackId])&&e.details&&(l.state=v.IDLE);break;case v.FRAG_LOADING_WAITING_RETRY:r=performance.now(),f=l.media,(!(o=l.retryDate)||r>=o||f&&f.seeking)&&(p.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),l.state=v.IDLE)}}();if("object"===(void 0===f?"undefined":i(f)))return f.v}},{key:"onMediaAttached",value:function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("ended",this.onvended);var n=this.config;this.tracks&&n.autoStartLoad&&this.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var t=this.media;t&&t.ended&&(p.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.tracks;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){this.state===v.ENDED&&(this.state=v.IDLE),this.media&&(this.lastCurrentTime=this.media.currentTime),void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold),this.tick()}},{key:"onMediaEnded",value:function(){this.startPosition=this.lastCurrentTime=0}},{key:"onAudioTracksUpdated",value:function(t){p.logger.log("audio tracks updated"),this.tracks=t.audioTracks}},{key:"onAudioTrackSwitching",value:function(t){var e=!!t.url;this.trackId=t.id,this.state=v.IDLE,this.fragCurrent=null,this.state=v.PAUSED,this.waitingFragment=null,e?this.timer||(this.timer=setInterval(this.ontick,100)):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),e&&(this.audioSwitch=!0,this.state=v.IDLE,void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold)),this.tick()}},{key:"onAudioTrackLoaded",value:function(t){var e=t.details,n=t.id,r=this.tracks[n];if(p.logger.log("track "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+e.totalduration),e.live){var i=r.details;i&&e.fragments.length>0?(d.default.mergeDetails(i,e),p.logger.log(e.PTSKnown?"live audio playlist sliding:"+e.fragments[0].start.toFixed(3):"live audio playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,p.logger.log("live audio playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(r.details=e,!this.startFragRequested){if(-1===this.startPosition){var o=e.startTimeOffset;isNaN(o)?this.startPosition=0:(p.logger.log("start time offset found in playlist, adjust startPosition to "+o),this.startPosition=o)}this.nextLoadPosition=this.startPosition}this.state===v.WAITING_TRACK&&(this.state=v.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===v.KEY_LOADING&&(this.state=v.IDLE,this.tick())}},{key:"onFragLoaded",value:function(t){var e=this.fragCurrent;if(this.state===v.FRAG_LOADING&&e&&"audio"===t.frag.type&&t.frag.level===e.level&&t.frag.sn===e.sn){this.state=v.PARSING,this.stats=t.stats;var n=this.tracks[this.trackId],r=n.details,i=r.totalduration,o=e.start,a=e.level,s=e.sn,u=e.cc,c=this.config.defaultAudioCodec||n.audioCodec;this.appended=!1,this.demuxer||(this.demuxer=new l.default(this.hls,"audio"));var d=this.initPTS[u];if(void 0!==d){this.pendingBuffering=!0,p.logger.log("Demuxing "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+a);this.demuxer.push(t.payload,c,null,o,u,a,s,i,e.decryptdata,!1,d)}else p.logger.log("unknown video PTS for continuity counter "+u+", waiting for video PTS before demuxing audio frag "+s+" of ["+r.startSN+" ,"+r.endSN+"],track "+a),this.waitingFragment=t,this.state=v.WAITING_INIT_PTS}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(t){var e=this.fragCurrent;if(e&&"audio"===t.id&&t.sn===e.sn&&t.level===e.level&&this.state===v.PARSING){var n=t.tracks,r=void 0;if(n.video&&delete n.video,r=n.audio){r.levelCodec="mp4a.40.2",r.id=t.id,this.hls.trigger(u.default.BUFFER_CODECS,n),p.logger.log("audio track:audio,container:"+r.container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var i=r.initSegment;if(i){var o={type:"audio",data:i,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[o]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(u.default.BUFFER_APPENDING,o))}this.tick()}}}},{key:"onFragParsingData",value:function(t){var e=this,n=this.fragCurrent;n&&"audio"===t.id&&"audio"===t.type&&t.sn===n.sn&&t.level===n.level&&this.state===v.PARSING&&function(){var n=e.trackId,r=e.tracks[n],i=e.fragCurrent,o=e.hls;p.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),d.default.updateFragPTSDTS(r.details,i.sn,t.startPTS,t.endPTS);var a=e.media,s=!1;if(e.audioSwitch&&a)if(a.readyState){var l=a.currentTime;p.logger.log("switching audio track : currentTime:"+l),l>=t.startPTS&&(p.logger.log("switching audio track : flushing all audio"),e.state=v.BUFFER_FLUSHING,o.trigger(u.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s=!0,e.audioSwitch=!1,o.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:n}))}else e.audioSwitch=!1,o.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:n});var c=e.pendingData;e.audioSwitch||([t.data1,t.data2].forEach(function(e){e&&c.push({type:t.type,data:e,parent:"audio",content:"data"})}),!s&&c.length&&(c.forEach(function(t){e.pendingBuffering=!0,e.hls.trigger(u.default.BUFFER_APPENDING,t)}),e.pendingData=[],e.appended=!0)),e.tick()}()}},{key:"onFragParsed",value:function(t){var e=this.fragCurrent;e&&"audio"===t.id&&t.sn===e.sn&&t.level===e.level&&this.state===v.PARSING&&(this.stats.tparsed=performance.now(),this.state=v.PARSED,this._checkAppendedParsed())}},{key:"onBufferCreated",value:function(t){var e=t.tracks.audio;e&&(this.mediaBuffer=e.buffer,this.loadedmetadata=!0)}},{key:"onBufferAppended",value:function(t){if("audio"===t.parent){var e=this.state;e!==v.PARSING&&e!==v.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){if(!(this.state!==v.PARSED||this.appended&&this.pendingBuffering)){var t=this.fragCurrent,e=this.stats,n=this.hls;if(t){this.fragPrevious=t,e.tbuffered=performance.now(),n.trigger(u.default.FRAG_BUFFERED,{stats:e,frag:t,id:"audio"});p.logger.log("audio buffered : "+f.default.toString((this.mediaBuffer?this.mediaBuffer:this.media).buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,n.trigger(u.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=v.IDLE}this.tick()}}},{key:"onError",value:function(t){var e=t.frag;if(!e||"audio"===e.type)switch(t.details){case h.ErrorDetails.FRAG_LOAD_ERROR:case h.ErrorDetails.FRAG_LOAD_TIMEOUT:if(!t.fatal){var n=this.fragLoadError;n?n++:n=1;var r=this.config;if(n<=r.fragLoadingMaxRetry){this.fragLoadError=n,e.loadCounter=0;var i=Math.min(Math.pow(2,n-1)*r.fragLoadingRetryDelay,r.fragLoadingMaxRetryTimeout);p.logger.warn("audioStreamController: frag loading failed, retry in "+i+" ms"),this.retryDate=performance.now()+i,this.state=v.FRAG_LOADING_WAITING_RETRY}else p.logger.error("audioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.trigger(u.default.ERROR,t),this.state=v.ERROR}break;case h.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case h.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case h.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case h.ErrorDetails.KEY_LOAD_ERROR:case h.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==v.ERROR&&(this.state=t.fatal?v.ERROR:v.IDLE,p.logger.warn("audioStreamController: "+t.details+" while loading frag,switch to "+this.state+" state ..."))}}},{key:"onBufferFlushed",value:function(){var t=this,e=this.pendingData;e&&e.length?(p.logger.log("appending pending audio data on Buffer Flushed"),e.forEach(function(e){t.hls.trigger(u.default.BUFFER_APPENDING,e)}),this.appended=!0,this.pendingData=[],this.state=v.PARSED):(this.state=v.IDLE,this.fragPrevious=null,this.tick())}},{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,p.logger.log("audio stream:"+e+"->"+t)}},get:function(){return this._state}}]),e}();n.default=g},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,46:46}],6:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=r(t(27)),s=t(45),l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o.default.MANIFEST_LOADING,o.default.MANIFEST_LOADED,o.default.AUDIO_TRACK_LOADED));return n.ticks=0,n.ontick=n.tick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),i(e,[{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){this.updateTrack(this.trackId)}},{key:"onManifestLoading",value:function(){this.tracks=[],this.trackId=-1}},{key:"onManifestLoaded",value:function(t){var e=this,n=t.audioTracks||[],r=!1;this.tracks=n,this.hls.trigger(o.default.AUDIO_TRACKS_UPDATED,{audioTracks:n});var i=0;n.forEach(function(t){return t.default?(e.audioTrack=i,void(r=!0)):void i++}),!1===r&&n.length&&(s.logger.log("no default audio track defined, use first audio track as default"),this.audioTrack=0)}},{key:"onAudioTrackLoaded",value:function(t){t.id<this.tracks.length&&(s.logger.log("audioTrack "+t.id+" loaded"),this.tracks[t.id].details=t.details,t.details.live&&!this.timer&&(this.timer=setInterval(this.ontick,1e3*t.details.targetduration)),!t.details.live&&this.timer&&(clearInterval(this.timer),this.timer=null))}},{key:"setAudioTrackInternal",value:function(t){if(t>=0&&t<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=t,s.logger.log("switching to audioTrack "+t);var e=this.tracks[t],n=this.hls,r=e.url,i={id:t,type:e.type,url:r};n.trigger(o.default.AUDIO_TRACK_SWITCH,i),n.trigger(o.default.AUDIO_TRACK_SWITCHING,i);var a=e.details;!r||void 0!==a&&!0!==a.live||(s.logger.log("(re)loading playlist for audioTrack "+t),n.trigger(o.default.AUDIO_TRACK_LOADING,{url:r,id:t}))}}},{key:"updateTrack",value:function(t){if(t>=0&&t<this.tracks.length){this.timer&&(clearInterval(this.timer),this.timer=null),this.trackId=t,s.logger.log("updating audioTrack "+t);var e=this.tracks[t],n=e.url,r=e.details;!n||void 0!==r&&!0!==r.live||(s.logger.log("(re)loading playlist for audioTrack "+t),this.hls.trigger(o.default.AUDIO_TRACK_LOADING,{url:n,id:t}))}}},{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this.trackId},set:function(t){this.trackId===t&&void 0!==this.tracks[t].details||this.setAudioTrackInternal(t)}}]),e}();n.default=l},{27:27,28:28,45:45}],7:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=r(t(27)),s=t(45),l=t(26),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o.default.MEDIA_ATTACHING,o.default.MEDIA_DETACHING,o.default.MANIFEST_PARSED,o.default.BUFFER_RESET,o.default.BUFFER_APPENDING,o.default.BUFFER_CODECS,o.default.BUFFER_EOS,o.default.BUFFER_FLUSHING,o.default.LEVEL_PTS_UPDATED,o.default.LEVEL_UPDATED));return n._msDuration=null,n._levelDuration=null,n.onsbue=n.onSBUpdateEnd.bind(n),n.onsbe=n.onSBUpdateError.bind(n),n.pendingTracks={},n.tracks={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),i(e,[{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"onLevelPtsUpdated",value:function(t){var e=this.tracks.audio;if("audio"===t.type&&e&&"audio/mpeg"===e.container){var n=this.sourceBuffer.audio;if(Math.abs(n.timestampOffset-t.start)>.1){var r=n.updating;try{n.abort()}catch(t){r=!0,s.logger.warn("can not abort audio buffer: "+t)}r?this.audioTimestampOffset=t.start:(s.logger.warn("change mpeg audio timestamp offset from "+n.timestampOffset+" to "+t.start),n.timestampOffset=t.start)}}}},{key:"onManifestParsed",value:function(t){var e=t.audio,n=t.video,r=0;t.altAudio&&(e||n)&&(r=(e?1:0)+(n?1:0),s.logger.log(r+" sourceBuffer(s) expected")),this.sourceBufferNb=r}},{key:"onMediaAttaching",value:function(t){var e=this.media=t.media;if(e){var n=this.mediaSource=new MediaSource;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),n.addEventListener("sourceopen",this.onmso),n.addEventListener("sourceended",this.onmse),n.addEventListener("sourceclose",this.onmsc),e.src=URL.createObjectURL(n)}}},{key:"onMediaDetaching",value:function(){s.logger.log("media source detaching");var t=this.mediaSource;if(t){if("open"===t.readyState)try{t.endOfStream()}catch(t){s.logger.warn("onMediaDetaching:"+t.message+" while calling endOfStream")}t.removeEventListener("sourceopen",this.onmso),t.removeEventListener("sourceended",this.onmse),t.removeEventListener("sourceclose",this.onmsc),this.media&&(URL.revokeObjectURL(this.media.src),this.media.removeAttribute("src"),this.media.load()),this.mediaSource=null,this.media=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(o.default.MEDIA_DETACHED)}},{key:"onMediaSourceOpen",value:function(){s.logger.log("media source opened"),this.hls.trigger(o.default.MEDIA_ATTACHED,{media:this.media});var t=this.mediaSource;t&&t.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()}},{key:"checkPendingTracks",value:function(){var t=this.pendingTracks,e=Object.keys(t).length;e&&(this.sourceBufferNb<=e||0===this.sourceBufferNb)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())}},{key:"onMediaSourceClose",value:function(){s.logger.log("media source closed")}},{key:"onMediaSourceEnded",value:function(){s.logger.log("media source ended")}},{key:"onSBUpdateEnd",value:function(){if(this.audioTimestampOffset){var t=this.sourceBuffer.audio;s.logger.warn("change mpeg audio timestamp offset from "+t.timestampOffset+" to "+this.audioTimestampOffset),t.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var e=this.parent,n=this.segments.reduce(function(t,n){return n.parent===e?t+1:t},0);this.hls.trigger(o.default.BUFFER_APPENDED,{parent:e,pending:n}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration()}},{key:"onSBUpdateError",value:function(t){s.logger.error("sourceBuffer error:"+t),this.hls.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})}},{key:"onBufferReset",value:function(){var t=this.sourceBuffer;for(var e in t){var n=t[e];try{this.mediaSource.removeSourceBuffer(n),n.removeEventListener("updateend",this.onsbue),n.removeEventListener("error",this.onsbe)}catch(t){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}},{key:"onBufferCodecs",value:function(t){if(0===Object.keys(this.sourceBuffer).length){for(var e in t)this.pendingTracks[e]=t[e];var n=this.mediaSource;n&&"open"===n.readyState&&this.checkPendingTracks()}}},{key:"createSourceBuffers",value:function(t){var e=this.sourceBuffer,n=this.mediaSource;for(var r in t)if(!e[r]){var i=t[r],a=i.levelCodec||i.codec,u=i.container+";codecs="+a;s.logger.log("creating sourceBuffer("+u+")");try{var c=e[r]=n.addSourceBuffer(u);c.addEventListener("updateend",this.onsbue),c.addEventListener("error",this.onsbe),this.tracks[r]={codec:a,container:i.container},i.buffer=c}catch(t){s.logger.error("error while trying to add sourceBuffer:"+t.message),this.hls.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:t,mimeType:u})}}this.hls.trigger(o.default.BUFFER_CREATED,{tracks:t})}},{key:"onBufferAppending",value:function(t){this._needsFlush||(this.segments?this.segments.push(t):this.segments=[t],this.doAppending())}},{key:"onBufferAppendFail",value:function(t){s.logger.error("sourceBuffer error:",t.event),this.hls.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1,frag:this.fragCurrent})}},{key:"onBufferEos",value:function(t){var e=this.sourceBuffer,n=t.type;for(var r in e)n&&r!==n||e[r].ended||(e[r].ended=!0,s.logger.log(r+" sourceBuffer now EOS"));this.checkEos()}},{key:"checkEos",value:function(){var t=this.sourceBuffer,e=this.mediaSource;if(e&&"open"===e.readyState){for(var n in t){var r=t[n];if(!r.ended)return;if(r.updating)return void(this._needsEos=!0)}s.logger.log("all media data available, signal endOfStream() to MediaSource and stop loading fragment");try{e.endOfStream()}catch(t){s.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1}},{key:"onBufferFlushing",value:function(t){this.flushRange.push({start:t.startOffset,end:t.endOffset,type:t.type}),this.flushBufferCounter=0,this.doFlush()}},{key:"onLevelUpdated",value:function(t){var e=t.details;0!==e.fragments.length&&(this._levelDuration=e.totalduration+e.fragments[0].start,this.updateMediaElementDuration())}},{key:"updateMediaElementDuration",value:function(){var t=this.media,e=this.mediaSource,n=this.sourceBuffer,r=this._levelDuration;if(null!==r&&t&&e&&n&&0!==t.readyState&&"open"===e.readyState){for(var i in n)if(n[i].updating)return;null===this._msDuration&&(this._msDuration=e.duration);var o=t.duration;(r>this._msDuration&&r>o||o===1/0||isNaN(o))&&(s.logger.log("Updating mediasource duration to "+r.toFixed(3)),this._msDuration=e.duration=r)}}},{key:"doFlush",value:function(){for(;this.flushRange.length;){var t=this.flushRange[0];if(!this.flushBuffer(t.start,t.end,t.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var e=0,n=this.sourceBuffer;try{for(var r in n)e+=n[r].buffered.length}catch(t){s.logger.error("error while accessing sourceBuffer.buffered")}this.appended=e,this.hls.trigger(o.default.BUFFER_FLUSHED)}}},{key:"doAppending",value:function(){var t=this.hls,e=this.sourceBuffer,n=this.segments;if(Object.keys(e).length){if(this.media.error)return this.segments=[],void s.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(n&&n.length){var r=n.shift();try{var i=e[r.type];i?i.updating?n.unshift(r):(i.ended=!1,this.parent=r.parent,i.appendBuffer(r.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(e){s.logger.error("error while trying to append buffer:"+e.message),n.unshift(r);var a={type:l.ErrorTypes.MEDIA_ERROR};if(22===e.code)return this.segments=[],a.details=l.ErrorDetails.BUFFER_FULL_ERROR,a.fatal=!1,void t.trigger(o.default.ERROR,a);if(this.appendError?this.appendError++:this.appendError=1,a.details=l.ErrorDetails.BUFFER_APPEND_ERROR,a.frag=this.fragCurrent,this.appendError>t.config.appendErrorMaxRetry)return s.logger.log("fail "+t.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),n=[],a.fatal=!0,void t.trigger(o.default.ERROR,a);a.fatal=!1,t.trigger(o.default.ERROR,a)}}}}},{key:"flushBuffer",value:function(t,e,n){var r,i,o,a,l,u,c=this.sourceBuffer;if(Object.keys(c).length){if(s.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+t+"/"+e),this.flushBufferCounter<this.appended){for(var d in c)if(!n||d===n){if((r=c[d]).ended=!1,r.updating)return s.logger.warn("cannot flush, sb updating in progress"),!1;try{for(i=0;i<r.buffered.length;i++)if(o=r.buffered.start(i),a=r.buffered.end(i),-1!==navigator.userAgent.toLowerCase().indexOf("firefox")&&e===Number.POSITIVE_INFINITY?(l=t,u=e):(l=Math.max(o,t),u=Math.min(a,e)),Math.min(u,a)-l>.5)return this.flushBufferCounter++,s.logger.log("flush "+d+" ["+l+","+u+"], of ["+o+","+a+"], pos:"+this.media.currentTime),r.remove(l,u),!1}catch(t){s.logger.warn("exception while accessing sourcebuffer, it might have been removed from MediaSource")}}}else s.logger.warn("abort flushing too many retries");s.logger.log("buffer flushed")}return!0}}]),e}();n.default=u},{26:26,27:27,28:28,45:45}],8:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=r(t(27)),s=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o.default.FPS_DROP_LEVEL_CAPPING,o.default.MEDIA_ATTACHING,o.default.MANIFEST_PARSED))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),i(e,[{key:"destroy",value:function(){this.hls.config.capLevelToPlayerSize&&(this.media=this.restrictedLevels=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer)))}},{key:"onFpsDropLevelCapping",value:function(t){this.restrictedLevels||(this.restrictedLevels=[]),this.isLevelRestricted(t.droppedLevel)||this.restrictedLevels.push(t.droppedLevel)}},{key:"onMediaAttaching",value:function(t){this.media=t.media instanceof HTMLVideoElement?t.media:null}},{key:"onManifestParsed",value:function(t){var e=this.hls;e.config.capLevelToPlayerSize&&(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.levels=t.levels,e.firstLevel=this.getMaxLevel(t.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}},{key:"detectPlayerSize",value:function(){if(this.media){var t=this.levels?this.levels.length:0;if(t){var e=this.hls;e.autoLevelCapping=this.getMaxLevel(t-1),e.autoLevelCapping>this.autoLevelCapping&&e.streamController.nextLevelSwitch(),this.autoLevelCapping=e.autoLevelCapping}}}},{key:"getMaxLevel",value:function(t){var e=0,n=void 0,r=void 0,i=this.mediaWidth,o=this.mediaHeight,a=0,s=0;for(n=0;n<=t&&(r=this.levels[n],!this.isLevelRestricted(n))&&(e=n,a=r.width,s=r.height,!(i<=a||o<=s));n++);return e}},{key:"isLevelRestricted",value:function(t){return!(!this.restrictedLevels||-1===this.restrictedLevels.indexOf(t))}},{key:"contentScaleFactor",get:function(){var t=1;try{t=window.devicePixelRatio}catch(t){}return t}},{key:"mediaWidth",get:function(){var t=void 0,e=this.media;return e&&(t=e.width||e.clientWidth||e.offsetWidth,t*=this.contentScaleFactor),t}},{key:"mediaHeight",get:function(){var t=void 0,e=this.media;return e&&(t=e.height||e.clientHeight||e.offsetHeight,t*=this.contentScaleFactor),t}}]),e}();n.default=s},{27:27,28:28}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t(44),a=(r=o,r&&r.__esModule?r:{default:r}),s=function(){function t(e,n,r,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.hls=e,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new a.default(n),this.fast_=new a.default(r)}return i(t,[{key:"sample",value:function(t,e){var n=8e3*e/(t=Math.max(t,this.minDelayMs_)),r=t/1e3;this.fast_.sample(r,n),this.slow_.sample(r,n)}},{key:"canEstimate",value:function(){var t=this.fast_;return t&&t.getTotalWeight()>=this.minWeight_}},{key:"getEstimate",value:function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}},{key:"destroy",value:function(){}}]),t}();n.default=s},{44:44}],10:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=r(t(27)),s=t(45),l=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o.default.MEDIA_ATTACHING))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),i(e,[{key:"destroy",value:function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1}},{key:"onMediaAttaching",value:function(t){var e=this.hls.config;if(e.capLevelOnFPSDrop){"function"==typeof(this.video=t.media instanceof HTMLVideoElement?t.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),e.fpsDroppedMonitoringPeriod)}}},{key:"checkFPS",value:function(t,e,n){var r=performance.now();if(e){if(this.lastTime){var i=n-this.lastDroppedFrames,a=e-this.lastDecodedFrames,l=1e3*i/(r-this.lastTime),u=this.hls;if(u.trigger(o.default.FPS_DROP,{currentDropped:i,currentDecoded:a,totalDroppedFrames:n}),l>0&&i>u.config.fpsDroppedMonitoringThreshold*a){var c=u.currentLevel;s.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+c),c>0&&(-1===u.autoLevelCapping||u.autoLevelCapping>=c)&&(c-=1,u.trigger(o.default.FPS_DROP_LEVEL_CAPPING,{level:c,droppedLevel:u.currentLevel}),u.autoLevelCapping=c,u.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=n,this.lastDecodedFrames=e}}},{key:"checkFPSInterval",value:function(){var t=this.video;if(t)if(this.isVideoPlaybackQualityAvailable){var e=t.getVideoPlaybackQuality();this.checkFPS(t,e.totalVideoFrames,e.droppedVideoFrames)}else this.checkFPS(t,t.webkitDecodedFrameCount,t.webkitDroppedFrameCount)}}]),e}();n.default=l},{27:27,28:28,45:45}],11:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=r(t(27)),s=t(45),l=t(26),u=r(t(30)),c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o.default.MANIFEST_LOADED,o.default.LEVEL_LOADED,o.default.FRAG_LOADED,o.default.ERROR));return n.ontick=n.tick.bind(n),n._manualLevel=n._autoLevelCapping=-1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),i(e,[{key:"destroy",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this._manualLevel=-1}},{key:"startLoad",value:function(){this.canload=!0;var t=this._levels;t&&t.forEach(function(t){t.loadError=0;var e=t.details;e&&e.live&&(t.details=void 0)}),this.timer&&this.tick()}},{key:"stopLoad",value:function(){this.canload=!1}},{key:"onManifestLoaded",value:function(t){var e,n=[],r=[],i={},a=!1,u=!1,c=this.hls,d=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),f=function(t,e){return MediaSource.isTypeSupported(t+"/mp4;codecs="+e)};if(t.levels.forEach(function(t){t.videoCodec&&(a=!0),d&&t.audioCodec&&-1!==t.audioCodec.indexOf("mp4a.40.34")&&(t.audioCodec=void 0),(t.audioCodec||t.attrs&&t.attrs.AUDIO)&&(u=!0);var e=i[t.bitrate];void 0===e?(i[t.bitrate]=n.length,t.url=[t.url],t.urlId=0,n.push(t)):n[e].url.push(t.url)}),a&&u?n.forEach(function(t){t.videoCodec&&r.push(t)}):r=n,(r=r.filter(function(t){var e=t.audioCodec,n=t.videoCodec;return(!e||f("audio",e))&&(!n||f("video",n))})).length){e=r[0].bitrate,r.sort(function(t,e){return t.bitrate-e.bitrate}),this._levels=r;for(var h=0;h<r.length;h++)if(r[h].bitrate===e){this._firstLevel=h,s.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+e);break}c.trigger(o.default.MANIFEST_PARSED,{levels:r,firstLevel:this._firstLevel,stats:t.stats,audio:u,video:a,altAudio:t.audioTracks.length>0})}else c.trigger(o.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:c.url,reason:"no level with compatible codecs found in manifest"})}},{key:"setLevelInternal",value:function(t){var e=this._levels;if(t>=0&&t<e.length){this.timer&&(clearTimeout(this.timer),this.timer=null),this._level!==t&&(s.logger.log("switching to level "+t),this._level=t,this.hls.trigger(o.default.LEVEL_SWITCH,{level:t}));var n=e[t],r=n.details;if(!r||!0===r.live){var i=n.urlId;this.hls.trigger(o.default.LEVEL_LOADING,{url:n.url[i],level:t,id:i})}}else this.hls.trigger(o.default.ERROR,{type:l.ErrorTypes.OTHER_ERROR,details:l.ErrorDetails.LEVEL_SWITCH_ERROR,level:t,fatal:!1,reason:"invalid level idx"})}},{key:"onError",value:function(t){if(!t.fatal){var e=t.details,n=this.hls,r=void 0,i=void 0,a=!1,c=n.abrController,d=c.minAutoLevel;switch(e){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:case l.ErrorDetails.FRAG_LOOP_LOADING_ERROR:case l.ErrorDetails.KEY_LOAD_ERROR:case l.ErrorDetails.KEY_LOAD_TIMEOUT:r=t.frag.level;break;case l.ErrorDetails.LEVEL_LOAD_ERROR:case l.ErrorDetails.LEVEL_LOAD_TIMEOUT:r=t.context.level,a=!0;break;case l.ErrorDetails.REMUX_ALLOC_ERROR:r=t.level}if(void 0!==r){(i=this._levels[r]).loadError?i.loadError++:i.loadError=1;var f=i.url.length;if(f>1&&i.loadError<f)i.urlId=(i.urlId+1)%f,i.details=void 0,s.logger.warn("level controller,"+e+" for level "+r+": switching to redundant stream id "+i.urlId);else{if(-1===this._manualLevel&&r)s.logger.warn("level controller,"+e+": switch-down for next fragment"),c.nextAutoLevel=Math.max(d,r-1);else if(i&&i.details&&i.details.live)s.logger.warn("level controller,"+e+" on live stream, discard"),a&&(this._level=void 0);else if(e===l.ErrorDetails.LEVEL_LOAD_ERROR||e===l.ErrorDetails.LEVEL_LOAD_TIMEOUT){var h=n.media;if(h&&u.default.isBuffered(h,h.currentTime)&&u.default.isBuffered(h,h.currentTime+.5)){var p=n.config.levelLoadingRetryDelay;s.logger.warn("level controller,"+e+", but media buffered, retry in "+p+"ms"),this.timer=setTimeout(this.ontick,p)}else s.logger.error("cannot recover "+e+" error"),this._level=void 0,this.timer&&(clearTimeout(this.timer),this.timer=null),t.fatal=!0,n.trigger(o.default.ERROR,t)}}}}}},{key:"onFragLoaded",value:function(t){var e=t.frag;if(e&&"main"===e.type){var n=this._levels[e.level];n&&(n.loadError=0)}}},{key:"onLevelLoaded",value:function(t){var e=t.level;if(e===this._level){var n=this._levels[e];n.loadError=0;var r=t.details;if(r.live){var i=1e3*(r.averagetargetduration?r.averagetargetduration:r.targetduration),o=n.details;o&&r.endSN===o.endSN&&(i/=2,s.logger.log("same live playlist, reload twice faster")),i-=performance.now()-t.stats.trequest,i=Math.max(1e3,Math.round(i)),s.logger.log("live playlist, reload in "+i+" ms"),this.timer=setTimeout(this.ontick,i)}else this.timer=null}}},{key:"tick",value:function(){var t=this._level;if(void 0!==t&&this.canload){var e=this._levels[t],n=e.urlId;this.hls.trigger(o.default.LEVEL_LOADING,{url:e.url[n],level:t,id:n})}}},{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this._level},set:function(t){var e=this._levels;e&&e.length>t&&(this._level===t&&void 0!==e[t].details||this.setLevelInternal(t))}},{key:"manualLevel",get:function(){return this._manualLevel},set:function(t){this._manualLevel=t,void 0===this._startLevel&&(this._startLevel=t),-1!==t&&(this.level=t)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(t){this._firstLevel=t}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var t=this.hls.config.startLevel;return void 0!==t?t:this._firstLevel}return this._startLevel},set:function(t){-1!==t&&(t=Math.max(t,this.hls.abrController.minAutoLevel)),this._startLevel=t}},{key:"nextLoadLevel",get:function(){return-1!==this._manualLevel?this._manualLevel:this.hls.abrController.nextAutoLevel},set:function(t){this.level=t,-1===this._manualLevel&&(this.hls.abrController.nextAutoLevel=t)}}]),e}();n.default=c},{26:26,27:27,28:28,30:30,45:45}],12:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(41)),a=r(t(30)),s=r(t(22)),l=r(t(28)),u=r(t(27)),c=r(t(31)),d=r(t(46)),f=t(26),h=t(45),p={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_LEVEL:"WAITING_LEVEL",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR"},v=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADING,l.default.MANIFEST_PARSED,l.default.LEVEL_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_LOAD_EMERGENCY_ABORTED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_SWITCHED,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED));return n.config=t.config,n.audioCodecSwap=!1,n.ticks=0,n._state=p.STOPPED,n.ontick=n.tick.bind(n),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,u["default"]),i(e,[{key:"destroy",value:function(){this.stopLoad(),this.timer&&(clearInterval(this.timer),this.timer=null),u.default.prototype.destroy.call(this),this.state=p.STOPPED}},{key:"startLoad",value:function(t){if(this.levels){var e=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.timer||(this.timer=setInterval(this.ontick,100)),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(r=0,this.bitrateTest=!0),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}e>0&&-1===t&&(h.logger.log("override startPosition with lastCurrentTime @"+e.toFixed(3)),t=e),this.state=p.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=t,this.tick()}else h.logger.warn("cannot start loading as manifest not parsed yet"),this.state=p.STOPPED}},{key:"stopLoad",value:function(){var t=this.fragCurrent;t&&(t.loader&&t.loader.abort(),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=p.STOPPED}},{key:"tick",value:function(){this.ticks++,1===this.ticks&&(this.doTick(),this.ticks>1&&setTimeout(this.tick,1),this.ticks=0)}},{key:"doTick",value:function(){switch(this.state){case p.ERROR:break;case p.BUFFER_FLUSHING:this.fragLoadError=0;break;case p.IDLE:if(!this._doTickIdle())return;break;case p.WAITING_LEVEL:var t=this.levels[this.level];t&&t.details&&(this.state=p.IDLE);break;case p.FRAG_LOADING_WAITING_RETRY:var e=performance.now(),n=this.retryDate;(!n||e>=n||this.media&&this.media.seeking)&&(h.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=p.IDLE)}this._checkBuffer(),this._checkFragmentChanged()}},{key:"_doTickIdle",value:function(){var t=this.hls,e=t.config,n=this.media;if(void 0!==this.levelLastLoaded&&!n&&(this.startFragRequested||!e.startFragPrefetch))return!0;var r=void 0;r=this.loadedmetadata?n.currentTime:this.nextLoadPosition;var i=t.nextLoadLevel,o=this.levels[i],s=o.bitrate,u=void 0;u=s?Math.max(8*e.maxBufferSize/s,e.maxBufferLength):e.maxBufferLength,u=Math.min(u,e.maxMaxBufferLength);var c=a.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:n,r,e.maxBufferHole),d=c.len;if(d>=u)return!0;h.logger.trace("buffer length of "+d.toFixed(3)+" is below max of "+u.toFixed(3)+". checking for more payload ..."),this.level=t.nextLoadLevel=i;var f=o.details;if(void 0===f||f.live&&this.levelLastLoaded!==i)return this.state=p.WAITING_LEVEL,!0;var v=this.fragPrevious;if(!f.live&&v&&v.sn===f.endSN&&n.duration-Math.max(c.end,v.start)<=Math.max(.2,v.duration/2)){var g={};return this.altAudio&&(g.type="video"),this.hls.trigger(l.default.BUFFER_EOS,g),this.state=p.ENDED,!0}return this._fetchPayloadOrEos(r,c,f)}},{key:"_fetchPayloadOrEos",value:function(t,e,n){var r=this.fragPrevious,i=this.level,o=n.fragments,a=o.length;if(0===a)return!1;var s=o[0].start,l=o[a-1].start+o[a-1].duration,u=e.end,c=void 0;if(n.live){var d=this.config.initialLiveManifestSize;if(a<d)return h.logger.warn("Can not start playback of a level, reason: not enough fragments "+a+" < "+d),!1;if(null===(c=this._ensureFragmentAtLivePoint(n,u,s,l,r,o,a)))return!1}else u<s&&(c=o[0]);return c||(c=this._findFragment(s,r,a,o,u,l,n)),!c||this._loadFragmentOrKey(c,i,n,t,u)}},{key:"_ensureFragmentAtLivePoint",value:function(t,e,n,r,i,o,a){var s=this.hls.config,l=this.media,u=void 0;if(e<Math.max(n-s.maxFragLookUpTolerance,r-(void 0!==s.liveMaxLatencyDuration?s.liveMaxLatencyDuration:s.liveMaxLatencyDurationCount*t.targetduration))){var c=this.liveSyncPosition=this.computeLivePosition(n,t);h.logger.log("buffer end: "+e.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+c.toFixed(3)),e=c,l&&l.readyState&&l.duration>c&&(l.currentTime=c)}if(t.PTSKnown&&e>r&&l&&l.readyState)return null;if(this.startFragRequested&&!t.PTSKnown){if(i){var d=i.sn+1;d>=t.startSN&&d<=t.endSN&&(u=o[d-t.startSN],h.logger.log("live playlist, switching playlist, load frag with next SN: "+u.sn))}u||(u=o[Math.min(a-1,Math.round(a/2))],h.logger.log("live playlist, switching playlist, unknown, load middle frag : "+u.sn))}return u}},{key:"_findFragment",value:function(t,e,n,r,i,a,s){var l=this.hls.config,u=void 0,c=void 0,d=l.maxFragLookUpTolerance;if(i<a?(i>a-d&&(d=0),c=o.default.search(r,function(t){return t.start+t.duration-d<=i?1:t.start-d>i&&t.start?-1:0})):c=r[n-1],c&&(u=c,c.start,e&&u.level===e.level&&u.sn===e.sn))if(u.sn<s.endSN){var f=e.deltaPTS,p=u.sn-s.startSN;f&&f>l.maxBufferHole&&e.dropped&&p?(u=r[p-1],h.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this"),e.loadCounter--):h.logger.log("SN just loaded, load next one: "+(u=r[p+1]).sn)}else u=null;return u}},{key:"_loadFragmentOrKey",value:function(t,e,n,r,i){var o=this.hls,a=o.config;if(null==t.decryptdata.uri||null!=t.decryptdata.key){if(h.logger.log("Loading "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e+", currentTime:"+r.toFixed(3)+",bufferEnd:"+i.toFixed(3)),void 0!==this.fragLoadIdx?this.fragLoadIdx++:this.fragLoadIdx=0,t.loadCounter){t.loadCounter++;var u=a.fragLoadingLoopThreshold;if(t.loadCounter>u&&Math.abs(this.fragLoadIdx-t.loadIdx)<u)return o.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.FRAG_LOOP_LOADING_ERROR,fatal:!1,frag:t}),!1}else t.loadCounter=1;return t.loadIdx=this.fragLoadIdx,this.fragCurrent=t,this.startFragRequested=!0,this.nextLoadPosition=t.start+t.duration,t.autoLevel=o.autoLevelEnabled,t.bitrateTest=this.bitrateTest,o.trigger(l.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new s.default(o,"main")),this.state=p.FRAG_LOADING,!0}h.logger.log("Loading key for "+t.sn+" of ["+n.startSN+" ,"+n.endSN+"],level "+e),this.state=p.KEY_LOADING,o.trigger(l.default.KEY_LOADING,{frag:t})}},{key:"getBufferRange",value:function(t){return o.default.search(this.bufferRange,function(e){return t<e.start?-1:t>e.end?1:0})}},{key:"followingBufferRange",value:function(t){return t?this.getBufferRange(t.end+.5):null}},{key:"_checkFragmentChanged",value:function(){var t,e,n=this.media;if(n&&n.readyState&&!1===n.seeking&&(e=n.currentTime,e>n.playbackRate*this.lastCurrentTime&&(this.lastCurrentTime=e),a.default.isBuffered(n,e)?t=this.getBufferRange(e):a.default.isBuffered(n,e+.1)&&(t=this.getBufferRange(e+.1)),t)){var r=t.frag;r!==this.fragPlaying&&(this.fragPlaying=r,this.hls.trigger(l.default.FRAG_CHANGED,{frag:r}))}}},{key:"immediateLevelSwitch",value:function(){if(h.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,e=void 0;t?(e=t.paused,t.pause()):e=!0,this.previouslyPaused=e}var n=this.fragCurrent;n&&n.loader&&n.loader.abort(),this.fragCurrent=null,this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}},{key:"immediateLevelSwitchEnd",value:function(){var t=this.media;t&&t.buffered.length&&(this.immediateSwitch=!1,a.default.isBuffered(t,t.currentTime)&&(t.currentTime-=1e-4),this.previouslyPaused||t.play())}},{key:"nextLevelSwitch",value:function(){var t=this.media;if(t&&t.readyState){var e=void 0,n=void 0,r=void 0;if(this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,(n=this.getBufferRange(t.currentTime))&&n.start>1&&this.flushMainBuffer(0,n.start-1),t.paused)e=0;else{var i=this.fragLastKbps;e=i&&this.fragCurrent?this.fragCurrent.duration*this.levels[this.hls.nextLoadLevel].bitrate/(1e3*i)+1:0}if((r=this.getBufferRange(t.currentTime+e))&&(r=this.followingBufferRange(r))){var o=this.fragCurrent;o&&o.loader&&o.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(r.start,Number.POSITIVE_INFINITY)}}}},{key:"flushMainBuffer",value:function(t,e){this.state=p.BUFFER_FLUSHING;var n={startOffset:t,endOffset:e};this.altAudio&&(n.type="video"),this.hls.trigger(l.default.BUFFER_FLUSHING,n)}},{key:"onMediaAttached",value:function(t){var e=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),e.addEventListener("seeking",this.onvseeking),e.addEventListener("seeked",this.onvseeked),e.addEventListener("ended",this.onvended);var n=this.config;this.levels&&n.autoStartLoad&&this.hls.startLoad(n.startPosition)}},{key:"onMediaDetaching",value:function(){var t=this.media;t&&t.ended&&(h.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var e=this.levels;e&&e.forEach(function(t){t.details&&t.details.fragments.forEach(function(t){t.loadCounter=void 0})}),t&&(t.removeEventListener("seeking",this.onvseeking),t.removeEventListener("seeked",this.onvseeked),t.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()}},{key:"onMediaSeeking",value:function(){var t=this.media,e=t?t.currentTime:void 0,n=this.config;if(h.logger.log("media seeking to "+e.toFixed(3)),this.state===p.FRAG_LOADING){var r=a.default.bufferInfo(this.mediaBuffer?this.mediaBuffer:t,e,this.config.maxBufferHole),i=this.fragCurrent;if(0===r.len&&i){var o=n.maxFragLookUpTolerance;e<i.start-o||e>i.start+i.duration+o?(i.loader&&(h.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),i.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=p.IDLE):h.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else this.state===p.ENDED&&(this.state=p.IDLE);t&&(this.lastCurrentTime=e),this.state!==p.FRAG_LOADING&&void 0!==this.fragLoadIdx&&(this.fragLoadIdx+=2*n.fragLoadingLoopThreshold),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=e),this.tick()}},{key:"onMediaSeeked",value:function(){h.logger.log("media seeked to "+this.media.currentTime.toFixed(3)),this.tick()}},{key:"onMediaEnded",value:function(){h.logger.log("media ended"),this.startPosition=this.lastCurrentTime=0}},{key:"onManifestLoading",value:function(){h.logger.log("trigger BUFFER_RESET"),this.hls.trigger(l.default.BUFFER_RESET),this.bufferRange=[],this.stalled=!1,this.startPosition=this.lastCurrentTime=0}},{key:"onManifestParsed",value:function(t){var e,n=!1,r=!1;t.levels.forEach(function(t){(e=t.audioCodec)&&(-1!==e.indexOf("mp4a.40.2")&&(n=!0),-1!==e.indexOf("mp4a.40.5")&&(r=!0))}),this.audioCodecSwitch=n&&r,this.audioCodecSwitch&&h.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startLevelLoaded=!1,this.startFragRequested=!1;var i=this.config;i.autoStartLoad&&this.hls.startLoad(i.startPosition)}},{key:"onLevelLoaded",value:function(t){var e=t.details,n=t.level,r=this.levels[n],i=e.totalduration,o=0;if(h.logger.log("level "+n+" loaded ["+e.startSN+","+e.endSN+"],duration:"+i),this.levelLastLoaded=n,e.live){var a=r.details;a&&e.fragments.length>0?(c.default.mergeDetails(a,e),this.liveSyncPosition=this.computeLivePosition(o=e.fragments[0].start,a),h.logger.log(e.PTSKnown?"live playlist sliding:"+o.toFixed(3):"live playlist - outdated PTS, unknown sliding")):(e.PTSKnown=!1,h.logger.log("live playlist - first load, unknown sliding"))}else e.PTSKnown=!1;if(r.details=e,this.hls.trigger(l.default.LEVEL_UPDATED,{details:e,level:n}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var s=e.startTimeOffset;isNaN(s)?e.live?(this.startPosition=this.computeLivePosition(o,e),h.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0:(s<0&&(h.logger.log("negative start time offset "+s+", count from end of last fragment"),s=o+i+s),h.logger.log("start time offset found in playlist, adjust startPosition to "+s),this.startPosition=s),this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===p.WAITING_LEVEL&&(this.state=p.IDLE),this.tick()}},{key:"onKeyLoaded",value:function(){this.state===p.KEY_LOADING&&(this.state=p.IDLE,this.tick())}},{key:"onFragLoaded",value:function(t){var e=this.fragCurrent,n=t.frag;if(this.state===p.FRAG_LOADING&&e&&"main"===n.type&&n.level===e.level&&n.sn===e.sn){var r=t.stats,i=this.levels[e.level],o=i.details;if(h.logger.log("Loaded  "+e.sn+" of ["+o.startSN+" ,"+o.endSN+"],level "+e.level),this.bitrateTest=!1,!0===n.bitrateTest&&this.hls.nextLoadLevel)this.state=p.IDLE,this.startFragRequested=!1,r.tparsed=r.tbuffered=performance.now(),this.hls.trigger(l.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.tick();else{this.state=p.PARSING,this.stats=r;var a=o.totalduration,u=isNaN(e.startDTS)?e.start:e.startDTS,c=e.level,d=e.sn,f=this.config.defaultAudioCodec||i.audioCodec;this.audioCodecSwap&&(h.logger.log("swapping playlist audio codec"),void 0===f&&(f=this.lastAudioCodec),f&&(f=-1!==f.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),this.pendingBuffering=!0,this.appended=!1,h.logger.log("Parsing "+d+" of ["+o.startSN+" ,"+o.endSN+"],level "+c+", cc "+e.cc);var v=this.demuxer;v||(v=this.demuxer=new s.default(this.hls,"main"));var g=this.media;v.push(t.payload,f,i.videoCodec,u,e.cc,c,d,a,e.decryptdata,!(g&&g.seeking)&&(o.PTSKnown||!o.live),null)}}this.fragLoadError=0}},{key:"onFragParsingInitSegment",value:function(t){var e=this.fragCurrent;if(e&&"main"===t.id&&t.sn===e.sn&&t.level===e.level&&this.state===p.PARSING){var n,r,i=t.tracks;if(i.audio&&this.altAudio&&delete i.audio,r=i.audio){var o=this.levels[this.level].audioCodec,a=navigator.userAgent.toLowerCase();o&&this.audioCodecSwap&&(h.logger.log("swapping playlist audio codec"),o=-1!==o.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==r.metadata.channelCount&&-1===a.indexOf("firefox")&&(o="mp4a.40.5"),-1!==a.indexOf("android")&&"audio/mpeg"!==r.container&&(o="mp4a.40.2",h.logger.log("Android: force audio codec to "+o)),r.levelCodec=o,r.id=t.id}if((r=i.video)&&(r.levelCodec=this.levels[this.level].videoCodec,r.id=t.id),t.unique){var s={codec:"",levelCodec:""};for(n in t.tracks)r=i[n],s.container=r.container,s.codec&&(s.codec+=",",s.levelCodec+=","),r.codec&&(s.codec+=r.codec),r.levelCodec&&(s.levelCodec+=r.levelCodec);i={audiovideo:s}}this.hls.trigger(l.default.BUFFER_CODECS,i);for(n in i){h.logger.log("main track:"+n+",container:"+(r=i[n]).container+",codecs[level/parsed]=["+r.levelCodec+"/"+r.codec+"]");var u=r.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,{type:n,data:u,parent:"main",content:"initSegment"}))}this.tick()}}},{key:"onFragParsingData",value:function(t){var e=this,n=this.fragCurrent;if(n&&"main"===t.id&&t.sn===n.sn&&t.level===n.level&&("audio"!==t.type||!this.altAudio)&&this.state===p.PARSING){var r=this.levels[this.level],i=this.fragCurrent;h.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0));var o=c.default.updateFragPTSDTS(r.details,i.sn,t.startPTS,t.endPTS,t.startDTS,t.endDTS),a=this.hls;a.trigger(l.default.LEVEL_PTS_UPDATED,{details:r.details,level:this.level,drift:o,type:t.type,start:t.startPTS,end:t.endPTS}),"video"===t.type&&(i.dropped=t.dropped),[t.data1,t.data2].forEach(function(n){n&&(e.appended=!0,e.pendingBuffering=!0,a.trigger(l.default.BUFFER_APPENDING,{type:t.type,data:n,parent:"main",content:"data"}))}),this.tick()}}},{key:"onFragParsed",value:function(t){var e=this.fragCurrent;e&&"main"===t.id&&t.sn===e.sn&&t.level===e.level&&this.state===p.PARSING&&(this.stats.tparsed=performance.now(),this.state=p.PARSED,this._checkAppendedParsed())}},{key:"onAudioTrackSwitching",value:function(t){var e=t.id;if(!!!t.url){if(this.mediaBuffer!==this.media){h.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var n=this.fragCurrent;n.loader&&(h.logger.log("switching to main audio track, cancel main fragment load"),n.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=p.IDLE}var r=this.hls;r.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),r.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:e}),this.altAudio=!1}}},{key:"onAudioTrackSwitched",value:function(t){var e=!!this.hls.audioTracks[t.id].url;if(e){var n=this.videoBuffer;n&&this.mediaBuffer!==n&&(h.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=n)}this.altAudio=e,this.tick()}},{key:"onBufferCreated",value:function(t){var e=t.tracks,n=void 0,r=void 0,i=!1;for(var o in e){var a=e[o];"main"===a.id?(r=o,n=a,"video"===o&&(this.videoBuffer=e[o].buffer)):i=!0}i&&n?(h.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media}},{key:"onBufferAppended",value:function(t){if("main"===t.parent){var e=this.state;e!==p.PARSING&&e!==p.PARSED||(this.pendingBuffering=t.pending>0,this._checkAppendedParsed())}}},{key:"_checkAppendedParsed",value:function(){var t=this;if(!(this.state!==p.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;e&&function(){var n=t.mediaBuffer?t.mediaBuffer:t.media;h.logger.log("main buffered : "+d.default.toString(n.buffered));var r=t.bufferRange.filter(function(t){return a.default.isBuffered(n,(t.start+t.end)/2)});r.push({type:e.type,start:e.startPTS,end:e.endPTS,frag:e}),t.bufferRange=r.sort(function(t,e){return t.start-e.start}),t.fragPrevious=e;var i=t.stats;i.tbuffered=performance.now(),t.fragLastKbps=Math.round(8*i.total/(i.tbuffered-i.tfirst)),t.hls.trigger(l.default.FRAG_BUFFERED,{stats:i,frag:e,id:"main"}),t.state=p.IDLE}(),this.tick()}}},{key:"onError",value:function(t){var e=t.frag||this.fragCurrent;if(!e||"main"===e.type){var n=this.media,r=n&&a.default.isBuffered(n,n.currentTime)&&a.default.isBuffered(n,n.currentTime+.5);switch(t.details){case f.ErrorDetails.FRAG_LOAD_ERROR:case f.ErrorDetails.FRAG_LOAD_TIMEOUT:case f.ErrorDetails.KEY_LOAD_ERROR:case f.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal){var i=this.fragLoadError;i?i++:i=1;var o=this.config;if(i<=o.fragLoadingMaxRetry||r||e.autoLevel&&e.level){this.fragLoadError=i,e.loadCounter=0;var s=Math.min(Math.pow(2,i-1)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout);h.logger.warn("mediaController: frag loading failed, retry in "+s+" ms"),this.retryDate=performance.now()+s,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.state=p.FRAG_LOADING_WAITING_RETRY}else h.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.trigger(l.default.ERROR,t),this.state=p.ERROR}break;case f.ErrorDetails.FRAG_LOOP_LOADING_ERROR:t.fatal||(r?(this._reduceMaxBufferLength(e.duration),this.state=p.IDLE):e.autoLevel&&0!==e.level||(t.fatal=!0,this.hls.trigger(l.default.ERROR,t),this.state=p.ERROR));break;case f.ErrorDetails.LEVEL_LOAD_ERROR:case f.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==p.ERROR&&(t.fatal?(this.state=p.ERROR,h.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):this.state===p.WAITING_LEVEL&&(this.state=p.IDLE));break;case f.ErrorDetails.BUFFER_FULL_ERROR:this.state!==p.PARSING&&this.state!==p.PARSED||(r?(this._reduceMaxBufferLength(e.duration),this.state=p.IDLE):(h.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}}},{key:"_reduceMaxBufferLength",value:function(t){var e=this.config;e.maxMaxBufferLength>=t&&(e.maxMaxBufferLength/=2,h.logger.warn("reduce max buffer length to "+e.maxMaxBufferLength+"s and switch to IDLE state"),this.fragLoadIdx+=2*e.fragLoadingLoopThreshold)}},{key:"_checkBuffer",value:function(){var t=this.media;if(t&&t.readyState){var e=t.currentTime,n=this.mediaBuffer?this.mediaBuffer:t,r=n.buffered;if(this.loadedmetadata||!r.length||t.seeking)if(this.immediateSwitch)this.immediateLevelSwitchEnd();else{var i=a.default.bufferInfo(t,e,0),o=!(t.paused||t.ended||0===t.buffered.length),s=this.config;if(e!==this.lastCurrentTime)this.stallReported&&(h.logger.warn("playback not stuck anymore @"+e+", after "+Math.round(performance.now()-this.stalled)+"ms"),this.stallReported=!1),this.stalled=void 0,this.nudgeRetry=0;else if(o){var u=performance.now(),c=this.hls;if(this.stalled){var d=u-this.stalled,p=i.len,v=this.nudgeRetry||0;if(p<=.5&&d>1e3*s.lowBufferWatchdogPeriod){this.stallReported||(this.stallReported=!0,h.logger.warn("playback stalling in low buffer @"+e),c.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:p}));var g=i.nextStart,y=g-e;if(g&&y<s.maxSeekHole&&y>0){this.nudgeRetry=++v;var m=v*s.nudgeOffset;h.logger.log("adjust currentTime from "+t.currentTime+" to next buffered @ "+g+" + nudge "+m),t.currentTime=g+m,this.stalled=void 0,c.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,hole:g+m-e})}}else if(p>.5&&d>1e3*s.highBufferWatchdogPeriod)if(this.stallReported||(this.stallReported=!0,h.logger.warn("playback stalling in high buffer @"+e),c.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:p})),this.stalled=void 0,this.nudgeRetry=++v,v<s.nudgeMaxRetry){var _=t.currentTime,b=_+v*s.nudgeOffset;h.logger.log("adjust currentTime from "+_+" to "+b),t.currentTime=b,c.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else h.logger.error("still stuck in high buffer @"+e+" after "+s.nudgeMaxRetry+", raise fatal error"),c.trigger(l.default.ERROR,{type:f.ErrorTypes.MEDIA_ERROR,details:f.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}else this.stalled=u,this.stallReported=!1}}else{this.loadedmetadata=!0;var T=this.startPosition,E=a.default.isBuffered(n,T);e===T&&E||(h.logger.log("target start position:"+T),E||(T=r.start(0),h.logger.log("target start position not buffered, seek to buffered.start(0) "+T)),h.logger.log("adjust currentTime from "+e+" to "+T),t.currentTime=T)}}}},{key:"onFragLoadEmergencyAborted",value:function(){this.state=p.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()}},{key:"onBufferFlushed",value:function(){var t=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferRange=this.bufferRange.filter(function(e){return a.default.isBuffered(t,(e.start+e.end)/2)}),this.fragLoadIdx+=2*this.config.fragLoadingLoopThreshold,this.state=p.IDLE,this.fragPrevious=null}},{key:"swapAudioCodec",value:function(){this.audioCodecSwap=!this.audioCodecSwap}},{key:"computeLivePosition",value:function(t,e){return t+Math.max(0,e.totalduration-(void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*e.targetduration))}},{key:"state",set:function(t){if(this.state!==t){var e=this.state;this._state=t,h.logger.log("main stream:"+e+"->"+t),this.hls.trigger(l.default.STREAM_STATE_TRANSITION,{previousState:e,nextState:t})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var t=this.media;if(t){var e=this.getBufferRange(t.currentTime);if(e)return e.frag.level}return-1}},{key:"nextBufferRange",get:function(){var t=this.media;return t?this.followingBufferRange(this.getBufferRange(t.currentTime)):null}},{key:"nextLevel",get:function(){var t=this.nextBufferRange;return t?t.frag.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(t){this._liveSyncPosition=t}}]),e}();n.default=v},{22:22,26:26,27:27,28:28,30:30,31:31,41:41,45:45,46:46}],13:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=r(t(27)),s=r(t(42)),l=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o.default.MEDIA_ATTACHING,o.default.MEDIA_DETACHING,o.default.FRAG_PARSING_USERDATA,o.default.MANIFEST_LOADING,o.default.FRAG_LOADED,o.default.LEVEL_SWITCH));if(n.hls=t,n.config=t.config,n.enabled=!0,n.Cues=t.config.cueHandler,n.config.enableCEA708Captions){var r=n,i=function(t,e){var n=null;try{n=new window.Event("addtrack")}catch(t){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)};n.cea608Parser=new s.default(0,{newCue:function(t,e,n){if(!r.textTrack1){var o=r.getExistingTrack("1");o?(r.textTrack1=o,r.clearCurrentCues(r.textTrack1),i(r.textTrack1,r.media)):(r.textTrack1=r.createTextTrack("captions","English","en"),r.textTrack1.textTrack1=!0)}r.Cues.newCue(r.textTrack1,t,e,n)}},{newCue:function(t,e,n){if(!r.textTrack2){var o=r.getExistingTrack("2");o?(r.textTrack2=o,r.clearCurrentCues(r.textTrack2),i(r.textTrack2,r.media)):(r.textTrack2=r.createTextTrack("captions","Spanish","es"),r.textTrack2.textTrack2=!0)}r.Cues.newCue(r.textTrack2,t,e,n)}})}return n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),i(e,[{key:"clearCurrentCues",value:function(t){if(t&&t.cues)for(;t.cues.length>0;)t.removeCue(t.cues[0])}},{key:"getExistingTrack",value:function(t){var e=this.media;if(e)for(var n=0;n<e.textTracks.length;n++){var r=e.textTracks[n];if(!0===r["textTrack"+t])return r}return null}},{key:"createTextTrack",value:function(t,e,n){if(this.media)return this.media.addTextTrack(t,e,n)}},{key:"destroy",value:function(){a.default.prototype.destroy.call(this)}},{key:"onMediaAttaching",value:function(t){this.media=t.media}},{key:"onMediaDetaching",value:function(){this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)}},{key:"onManifestLoading",value:function(){this.lastPts=Number.NEGATIVE_INFINITY}},{key:"onLevelSwitch",value:function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions}},{key:"onFragLoaded",value:function(t){if("main"===t.frag.type){var e=t.frag.start;e<=this.lastPts&&(this.clearCurrentCues(this.textTrack1),this.clearCurrentCues(this.textTrack2)),this.lastPts=e}}},{key:"onFragParsingUserdata",value:function(t){if(this.enabled&&this.config.enableCEA708Captions)for(var e=0;e<t.samples.length;e++){var n=this.extractCea608Data(t.samples[e].bytes);this.cea608Parser.addData(t.samples[e].pts,n)}}},{key:"extractCea608Data",value:function(t){for(var e,n,r,i,o,a=31&t[0],s=2,l=[],u=0;u<a;u++)e=t[s++],n=127&t[s++],r=127&t[s++],i=0!=(4&e),o=3&e,0===n&&0===r||i&&0===o&&(l.push(n),l.push(r));return l}}]),e}();n.default=l},{27:27,28:28,42:42}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.subtle=e,this.aesIV=n}return r(t,[{key:"decrypt",value:function(t,e){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},e,t)}}]),t}();n.default=i},{}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[],this.subMix[0]=new Uint32Array(256),this.subMix[1]=new Uint32Array(256),this.subMix[2]=new Uint32Array(256),this.subMix[3]=new Uint32Array(256),this.invSubMix=[],this.invSubMix[0]=new Uint32Array(256),this.invSubMix[1]=new Uint32Array(256),this.invSubMix[2]=new Uint32Array(256),this.invSubMix[3]=new Uint32Array(256),this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return r(t,[{key:"uint8ArrayToUint32Array_",value:function(t){for(var e=new DataView(t),n=new Uint32Array(4),r=0;r<n.length;r++)n[r]=e.getUint32(4*r);return n}},{key:"initTable",value:function(){var t=this.sBox,e=this.invSBox,n=this.subMix[0],r=this.subMix[1],i=this.subMix[2],o=this.subMix[3],a=this.invSubMix[0],s=this.invSubMix[1],l=this.invSubMix[2],u=this.invSubMix[3],c=new Uint32Array(256),d=0,f=0,h=0;for(h=0;h<256;h++)c[h]=h<128?h<<1:h<<1^283;for(h=0;h<256;h++){var p=f^f<<1^f<<2^f<<3^f<<4;t[d]=p=p>>>8^255&p^99,e[p]=d;var v=c[d],g=c[v],y=c[g],m=257*c[p]^16843008*p;n[d]=m<<24|m>>>8,r[d]=m<<16|m>>>16,i[d]=m<<8|m>>>24,o[d]=m,a[p]=(m=16843009*y^65537*g^257*v^16843008*d)<<24|m>>>8,s[p]=m<<16|m>>>16,l[p]=m<<8|m>>>24,u[p]=m,d?(d=v^c[c[c[y^v]]],f^=c[c[f]]):d=f=1}}},{key:"expandKey",value:function(t){for(var e=this.uint8ArrayToUint32Array_(t),n=!0,r=0;r<e.length&&n;)n=e[r]===this.key[r],r++;if(!n){this.key=e;var i=this.keySize=e.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o=this.ksRows=4*(i+6+1),a=void 0,s=void 0,l=this.keySchedule=new Uint32Array(this.ksRows),u=this.invKeySchedule=new Uint32Array(this.ksRows),c=this.sBox,d=this.rcon,f=this.invSubMix[0],h=this.invSubMix[1],p=this.invSubMix[2],v=this.invSubMix[3],g=void 0,y=void 0;for(a=0;a<o;a++)a<i?g=l[a]=e[a]:(y=g,a%i==0?(y=y<<8|y>>>24,y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y],y^=d[a/i|0]<<24):i>6&&a%i==4&&(y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[255&y]),l[a]=g=(l[a-i]^y)>>>0);for(s=0;s<o;s++)a=o-s,y=3&s?l[a]:l[a-4],u[s]=s<4||a<=4?y:f[c[y>>>24]]^h[c[y>>>16&255]]^p[c[y>>>8&255]]^v[c[255&y]],u[s]=u[s]>>>0}}},{key:"networkToHostOrderSwap",value:function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24}},{key:"decrypt",value:function(t,e,n){for(var r,i,o=this.keySize+6,a=this.invKeySchedule,s=this.invSBox,l=this.invSubMix[0],u=this.invSubMix[1],c=this.invSubMix[2],d=this.invSubMix[3],f=this.uint8ArrayToUint32Array_(n),h=f[0],p=f[1],v=f[2],g=f[3],y=new Int32Array(t),m=new Int32Array(y.length),_=void 0,b=void 0,T=void 0,E=void 0,w=void 0,k=void 0,S=void 0,O=void 0,j=void 0,C=void 0,R=void 0,x=void 0;e<y.length;){for(j=this.networkToHostOrderSwap(y[e]),C=this.networkToHostOrderSwap(y[e+1]),R=this.networkToHostOrderSwap(y[e+2]),x=this.networkToHostOrderSwap(y[e+3]),w=j^a[0],k=x^a[1],S=R^a[2],O=C^a[3],r=4,i=1;i<o;i++)_=l[w>>>24]^u[k>>16&255]^c[S>>8&255]^d[255&O]^a[r],b=l[k>>>24]^u[S>>16&255]^c[O>>8&255]^d[255&w]^a[r+1],T=l[S>>>24]^u[O>>16&255]^c[w>>8&255]^d[255&k]^a[r+2],E=l[O>>>24]^u[w>>16&255]^c[k>>8&255]^d[255&S]^a[r+3],w=_,k=b,S=T,O=E,r+=4;_=s[w>>>24]<<24^s[k>>16&255]<<16^s[S>>8&255]<<8^s[255&O]^a[r],b=s[k>>>24]<<24^s[S>>16&255]<<16^s[O>>8&255]<<8^s[255&w]^a[r+1],T=s[S>>>24]<<24^s[O>>16&255]<<16^s[w>>8&255]<<8^s[255&k]^a[r+2],E=s[O>>>24]<<24^s[w>>16&255]<<16^s[k>>8&255]<<8^s[255&S]^a[r+3],r+=3,m[e]=this.networkToHostOrderSwap(_^h),m[e+1]=this.networkToHostOrderSwap(E^p),m[e+2]=this.networkToHostOrderSwap(T^v),m[e+3]=this.networkToHostOrderSwap(b^g),h=j,p=C,v=R,g=x,e+=4}return m.buffer}},{key:"destroy",value:function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0}}]),t}();n.default=i},{}],16:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(14)),a=r(t(17)),s=r(t(15)),l=t(26),u=t(45),c=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.config=n;try{var r=crypto||self.crypto;this.subtle=r.subtle||r.webkitSubtle}catch(t){}this.disableWebCrypto=!this.subtle}return i(t,[{key:"decrypt",value:function(t,e,n,r){var i=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){u.logger.log("JS AES decrypt");var l=this.decryptor;l||(this.decryptor=l=new s.default),l.expandKey(e),r(l.decrypt(t,0,n))}else!function(){u.logger.log("WebCrypto AES decrypt");var s=i.subtle;i.key!==e&&(i.key=e,i.fastAesKey=new a.default(s,e)),i.fastAesKey.expandKey().then(function(e){new o.default(s,n).decrypt(t,e).then(function(t){r(t)})}).catch(function(o){i.onWebCryptoError(o,t,e,n,r)})}()}},{key:"onWebCryptoError",value:function(t,e,n,r,i){this.config.enableSoftwareAES?(u.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.decrypt(e,n,r,i)):(u.logger.error("decrypting error : "+t.message),this.observer.trigger(Event.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:t.message}))}},{key:"destroy",value:function(){var t=this.decryptor;t&&(t.destroy(),this.decryptor=void 0)}}]),t}();n.default=c},{14:14,15:15,17:17,26:26,45:45}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.subtle=e,this.key=n}return r(t,[{key:"expandKey",value:function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}]),t}();n.default=i},{}],18:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(19)),a=t(45),s=r(t(24)),l=function(){function t(e,n,r,i,o){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.id=n,this.remuxerClass=r,this.config=i,this.remuxer=new this.remuxerClass(e,n,i,o),this.insertDiscontinuity()}return i(t,[{key:"insertDiscontinuity",value:function(){this._aacTrack={container:"audio/adts",type:"audio",id:-1,sequenceNumber:0,isAAC:!0,samples:[],len:0}}},{key:"push",value:function(t,e,n,r,i,l,u,c,d,f){var h,p,v,g,y,m,_,b,T,E,w=new s.default(t),k=90*w.timeStamp,S=!1;for(i!==this.lastCC?(a.logger.log(this.id+" discontinuity detected"),this.lastCC=i,this.insertDiscontinuity(),this.remuxer.switchLevel(),this.remuxer.insertDiscontinuity()):l!==this.lastLevel?(a.logger.log("audio track switch detected"),this.lastLevel=l,this.remuxer.switchLevel(),this.insertDiscontinuity()):u===this.lastSN+1&&(S=!0),h=this._aacTrack,this.lastSN=u,this.lastLevel=l,m=w.length,T=t.length;m<T-1&&(255!==t[m]||240!=(240&t[m+1]));m++);for(h.audiosamplerate||(p=o.default.getAudioConfig(this.observer,t,m,e),h.config=p.config,h.audiosamplerate=p.samplerate,h.channelCount=p.channelCount,h.codec=p.codec,h.manifestCodec=p.manifestCodec,h.duration=c,a.logger.log("parsed codec:"+h.codec+",rate:"+p.samplerate+",nb channel:"+p.channelCount)),y=0,g=9216e4/h.audiosamplerate;m+5<T&&(_=1&t[m+1]?7:9,v=(3&t[m+3])<<11|t[m+4]<<3|(224&t[m+5])>>>5,v-=_,v>0&&m+_+v<=T);)for(b=k+y*g,E={unit:t.subarray(m+_,m+_+v),pts:b,dts:b},h.samples.push(E),h.len+=v,m+=v+_,y++;m<T-1&&(255!==t[m]||240!=(240&t[m+1]));m++);this.remuxer.remux(l,u,i,h,{samples:[]},{samples:[{pts:k,dts:k,unit:w.payload}]},{samples:[]},r,S,d,f)}},{key:"destroy",value:function(){}}],[{key:"probe",value:function(t){var e,n,r=new s.default(t);if(r.hasTimeStamp)for(e=r.length,n=t.length;e<n-1;e++)if(255===t[e]&&240==(240&t[e+1]))return!0;return!1}}]),t}();n.default=l},{19:19,24:24,45:45}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t(45),o=t(26),a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"getAudioConfig",value:function(t,e,n,r){var a,s,l,u,c,d=navigator.userAgent.toLowerCase(),f=r,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];return a=1+((192&e[n+2])>>>6),(s=(60&e[n+2])>>>2)>h.length-1?void t.trigger(Event.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+s}):(u=(1&e[n+2])<<2,i.logger.log("manifest codec:"+r+",ADTS data:type:"+a+",sampleingIndex:"+s+"["+h[s]+"Hz],channelConfig:"+(u|=(192&e[n+3])>>>6)),/firefox/i.test(d)?s>=6?(a=5,c=new Array(4),l=s-3):(a=2,c=new Array(2),l=s):-1!==d.indexOf("android")?(a=2,c=new Array(2),l=s):(a=5,c=new Array(4),r&&(-1!==r.indexOf("mp4a.40.29")||-1!==r.indexOf("mp4a.40.5"))||!r&&s>=6?l=s-3:((r&&-1!==r.indexOf("mp4a.40.2")&&s>=6&&1===u||!r&&1===u)&&(a=2,c=new Array(2)),l=s)),c[0]=a<<3,c[0]|=(14&s)>>1,c[1]|=(1&s)<<7,c[1]|=u<<3,5===a&&(c[1]|=(14&l)>>1,c[2]=(1&l)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[s],channelCount:u,codec:"mp4a.40."+a,manifestCodec:f})}}]),t}();n.default=a},{26:26,45:45}],20:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=t(26),s=r(t(16)),l=r(t(18)),u=r(t(25)),c=r(t(38)),d=r(t(39)),f=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.hls=e,this.id=n,this.config=this.hls.config||i,this.typeSupported=r}return i(t,[{key:"destroy",value:function(){var t=this.demuxer;t&&t.destroy()}},{key:"push",value:function(t,e,n,r,i,a,l,u,c,d,f){if(t.byteLength>0&&null!=c&&null!=c.key&&"AES-128"===c.method){null==this.decrypter&&(this.decrypter=new s.default(this.hls,this.config));var h,p=this;try{h=performance.now()}catch(t){h=Date.now()}this.decrypter.decrypt(t,c.key.buffer,c.iv.buffer,function(t){var s;try{s=performance.now()}catch(t){s=Date.now()}p.hls.trigger(o.default.FRAG_DECRYPTED,{level:a,sn:l,stats:{tstart:h,tdecrypt:s}}),p.pushDecrypted(new Uint8Array(t),e,n,r,i,a,l,u,d,f)})}else this.pushDecrypted(new Uint8Array(t),e,n,r,i,a,l,u,d,f)}},{key:"pushDecrypted",value:function(t,e,n,r,i,s,f,h,p,v){var g=this.demuxer;if(!g||i!==this.cc&&!g.probe(t)){var y=this.hls,m=this.id,_=this.config,b=this.typeSupported;if(u.default.probe(t))g=new u.default(y,m,!0===this.typeSupported.mp2t?d.default:c.default,_,b),g.probe=u.default.probe;else{if(!l.default.probe(t))return void y.trigger(o.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,id:m,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});(g=new l.default(y,m,c.default,_,b)).probe=l.default.probe}this.demuxer=g}g.push(t,e,n,r,i,s,f,h,p,v),this.cc=i}}]),t}();n.default=f},{16:16,18:18,25:25,26:26,28:28,38:38,39:39}],21:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=r(t(20)),o=r(t(28)),a=t(45),s=r(t(1));n.default=function(t){var e=new s.default;e.trigger=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t,t].concat(r))},e.off=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.removeListener.apply(e,[t].concat(r))};var n=function(e,n){t.postMessage({event:e,data:n})};t.addEventListener("message",function(r){var o=r.data;switch(o.cmd){case"init":var s=JSON.parse(o.config);t.demuxer=new i.default(e,o.id,o.typeSupported,s);try{(0,a.enableLogs)(!0===s.debug)}catch(t){}n("init",null);break;case"demux":t.demuxer.push(o.data,o.audioCodec,o.videoCodec,o.timeOffset,o.cc,o.level,o.sn,o.duration,o.decryptdata,o.accurateTimeOffset,o.defaultInitPTS)}}),e.on(o.default.FRAG_DECRYPTED,n),e.on(o.default.FRAG_PARSING_INIT_SEGMENT,n),e.on(o.default.FRAG_PARSED,n),e.on(o.default.ERROR,n),e.on(o.default.FRAG_PARSING_METADATA,n),e.on(o.default.FRAG_PARSING_USERDATA,n),e.on(o.default.INIT_PTS_FOUND,n),e.on(o.default.FRAG_PARSING_DATA,function(e,n){var r=n.data1.buffer,i=n.data2.buffer;delete n.data1,delete n.data2,t.postMessage({event:e,data:n,data1:r,data2:i},[r,i])})}},{1:1,20:20,28:28,45:45}],22:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=r(t(20)),s=r(t(21)),l=t(45),u=t(26),c=function(){function e(n,r){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,e),this.hls=n,this.id=r;var i={mp4:MediaSource.isTypeSupported("video/mp4"),mp2t:n.config.enableMP2TPassThrough&&MediaSource.isTypeSupported("video/mp2t"),mpeg:MediaSource.isTypeSupported("audio/mpeg"),mp3:MediaSource.isTypeSupported('audio/mp4; codecs="mp3"')};if(n.config.enableWorker&&"undefined"!=typeof Worker){l.logger.log("demuxing in webworker");var c=void 0;try{var d=t(3);c=this.w=d(s.default),this.onwmsg=this.onWorkerMessage.bind(this),c.addEventListener("message",this.onwmsg),c.onerror=function(t){n.trigger(o.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},c.postMessage({cmd:"init",typeSupported:i,id:r,config:JSON.stringify(n.config)})}catch(t){l.logger.error("error while initializing DemuxerWorker, fallback on DemuxerInline"),c&&URL.revokeObjectURL(c.objectURL),this.demuxer=new a.default(n,r,i),this.w=void 0}}else this.demuxer=new a.default(n,r,i);this.demuxInitialized=!0}return i(e,[{key:"destroy",value:function(){var t=this.w;if(t)t.removeEventListener("message",this.onwmsg),t.terminate(),this.w=null;else{var e=this.demuxer;e&&(e.destroy(),this.demuxer=null)}}},{key:"push",value:function(t,e,n,r,i,o,a,s,l,u,c){var d=this.w;if(d)d.postMessage({cmd:"demux",data:t,audioCodec:e,videoCodec:n,timeOffset:r,cc:i,level:o,sn:a,duration:s,decryptdata:l,accurateTimeOffset:u,defaultInitPTS:c},[t]);else{var f=this.demuxer;f&&f.push(t,e,n,r,i,o,a,s,l,u,c)}}},{key:"onWorkerMessage",value:function(t){var e=t.data,n=this.hls;switch(e.event){case"init":URL.revokeObjectURL(this.w.objectURL);break;case o.default.FRAG_PARSING_DATA:e.data.data1=new Uint8Array(e.data1),e.data.data2=new Uint8Array(e.data2);default:n.trigger(e.event,e.data)}}}]),e}();n.default=c},{20:20,21:21,26:26,28:28,3:3,45:45}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t(45),o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return r(t,[{key:"loadWord",value:function(){var t=this.data,e=this.bytesAvailable,n=t.byteLength-e,r=new Uint8Array(4),i=Math.min(4,e);if(0===i)throw new Error("no bytes available");r.set(t.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i}},{key:"skipBits",value:function(t){var e;this.bitsAvailable>t?(this.word<<=t,this.bitsAvailable-=t):(t-=this.bitsAvailable,t-=(e=t>>3)>>3,this.bytesAvailable-=e,this.loadWord(),this.word<<=t,this.bitsAvailable-=t)}},{key:"readBits",value:function(t){var e=Math.min(this.bitsAvailable,t),n=this.word>>>32-e;return t>32&&i.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=e,this.bitsAvailable>0?this.word<<=e:this.bytesAvailable>0&&this.loadWord(),(e=t-e)>0&&this.bitsAvailable?n<<e|this.readBits(e):n}},{key:"skipLZ",value:function(){var t;for(t=0;t<this.bitsAvailable;++t)if(0!=(this.word&2147483648>>>t))return this.word<<=t,this.bitsAvailable-=t,t;return this.loadWord(),t+this.skipLZ()}},{key:"skipUEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"skipEG",value:function(){this.skipBits(1+this.skipLZ())}},{key:"readUEG",value:function(){var t=this.skipLZ();return this.readBits(t+1)-1}},{key:"readEG",value:function(){var t=this.readUEG();return 1&t?1+t>>>1:-1*(t>>>1)}},{key:"readBoolean",value:function(){return 1===this.readBits(1)}},{key:"readUByte",value:function(){return this.readBits(8)}},{key:"readUShort",value:function(){return this.readBits(16)}},{key:"readUInt",value:function(){return this.readBits(32)}},{key:"skipScalingList",value:function(t){var e,n,r=8,i=8;for(e=0;e<t;e++)0!==i&&(n=this.readEG(),i=(r+n+256)%256),r=0===i?r:i}},{key:"readSPS",value:function(){var t,e,n,r,i,o,a,s=0,l=0,u=0,c=0,d=this.readUByte.bind(this),f=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),v=this.skipBits.bind(this),g=this.skipEG.bind(this),y=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);if(d(),t=d(),f(5),v(3),d(),y(),100===t||110===t||122===t||244===t||44===t||83===t||86===t||118===t||128===t){var _=h();if(3===_&&v(1),y(),y(),v(1),p())for(o=3!==_?8:12,a=0;a<o;a++)p()&&m(a<6?16:64)}y();var b=h();if(0===b)h();else if(1===b)for(v(1),g(),g(),e=h(),a=0;a<e;a++)g();y(),v(1),n=h(),r=h(),0===(i=f(1))&&v(1),v(1),p()&&(s=h(),l=h(),u=h(),c=h());var T=[1,1];if(p()&&p()){switch(d()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[d()<<8|d(),d()<<8|d()]}}return{width:Math.ceil(16*(n+1)-2*s-2*l),height:(2-i)*(r+1)*16-(i?2:4)*(u+c),pixelRatio:T}}},{key:"readSliceType",value:function(){return this.readUByte(),this.readUEG(),this.readUEG()}}]),t}();n.default=o},{45:45}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t(45),o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this._hasTimeStamp=!1;for(var n,r,o,a,s,l,u,c,d=0;;)if(u=this.readUTF(e,d,3),d+=3,"ID3"===u)d+=3,n=127&e[d++],r=127&e[d++],o=127&e[d++],a=127&e[d++],s=(n<<21)+(r<<14)+(o<<7)+a,l=d+s,this._parseID3Frames(e,d,l),d=l;else{if("3DI"!==u)return d-=3,c=d,void(c&&(this.hasTimeStamp||i.logger.warn("ID3 tag found, but no timestamp"),this._length=c,this._payload=e.subarray(0,c)));i.logger.log("3DI footer found, end: "+(d+=7))}}return r(t,[{key:"readUTF",value:function(t,e,n){var r="",i=e,o=e+n;do{r+=String.fromCharCode(t[i++])}while(i<o);return r}},{key:"_parseID3Frames",value:function(t,e,n){for(var r,o;e+8<=n;)switch(r=this.readUTF(t,e,4),e+=4,t[e++]<<24+t[e++]<<16+t[e++]<<8+t[e++],t[e++]<<8+t[e++],e,r){case"PRIV":if("com.apple.streaming.transportStreamTimestamp"===this.readUTF(t,e,44)){e+=44,e+=4;var a=1&t[e++];this._hasTimeStamp=!0,o=((t[e++]<<23)+(t[e++]<<15)+(t[e++]<<7)+t[e++])/45,a&&(o+=47721858.84),o=Math.round(o),i.logger.trace("ID3 timestamp found: "+o),this._timeStamp=o}}}},{key:"hasTimeStamp",get:function(){return this._hasTimeStamp}},{key:"timeStamp",get:function(){return this._timeStamp}},{key:"length",get:function(){return this._length}},{key:"payload",get:function(){return this._payload}}]),t}();n.default=o},{45:45}],25:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(19)),a=r(t(28)),s=r(t(23)),l=t(45),u=t(26),c=function(){function t(e,n,r,i,o){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.id=n,this.remuxerClass=r,this.config=i,this.typeSupported=o,this.lastCC=0,this.remuxer=new this.remuxerClass(e,n,i,o)}return i(t,[{key:"switchLevel",value:function(){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack={container:"video/mp2t",type:"video",id:-1,sequenceNumber:0,samples:[],len:0,dropped:0},this._audioTrack={container:"video/mp2t",type:"audio",id:-1,sequenceNumber:0,samples:[],len:0,isAAC:!0},this._id3Track={type:"id3",id:-1,sequenceNumber:0,samples:[],len:0},this._txtTrack={type:"text",id:-1,sequenceNumber:0,samples:[],len:0},this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.remuxer.switchLevel()}},{key:"insertDiscontinuity",value:function(){this.switchLevel(),this.remuxer.insertDiscontinuity()}},{key:"push",value:function(t,e,n,r,i,o,s,c,d,f){var h,p,v,g,y,m=t.length,_=this.remuxer.passthrough,b=!1;this.audioCodec=e,this.videoCodec=n,this._duration=c,this.contiguous=!1,this.accurateTimeOffset=d,i!==this.lastCC&&(l.logger.log("discontinuity detected"),this.insertDiscontinuity(),this.lastCC=i),o!==this.lastLevel?(l.logger.log("level switch detected"),this.switchLevel(),this.lastLevel=o):s===this.lastSN+1&&(this.contiguous=!0),this.lastSN=s;var T=this.pmtParsed,E=this._avcTrack,w=this._audioTrack,k=this._id3Track,S=E.id,O=w.id,j=k.id,C=this._pmtId,R=E.pesData,x=w.pesData,P=k.pesData,A=this._parsePAT,L=this._parsePMT,D=this._parsePES,I=this._parseAVCPES.bind(this),M=this._parseAACPES.bind(this),F=this._parseMPEGPES.bind(this),N=this._parseID3PES.bind(this);for(m-=m%188,h=0;h<m;h+=188)if(71===t[h]){if(p=!!(64&t[h+1]),v=((31&t[h+1])<<8)+t[h+2],(48&t[h+3])>>4>1){if((g=h+5+t[h+4])===h+188)continue}else g=h+4;switch(v){case S:if(p){if(R&&(y=D(R))&&(I(y,!1),_&&E.codec&&(-1===O||w.codec)))return void this.remux(o,s,i,t,r);R={data:[],size:0}}R&&(R.data.push(t.subarray(g,h+188)),R.size+=h+188-g);break;case O:if(p){if(x&&(y=D(x))&&(w.isAAC?M(y):F(y),_&&w.codec&&(-1===S||E.codec)))return void this.remux(o,s,i,t,r);x={data:[],size:0}}x&&(x.data.push(t.subarray(g,h+188)),x.size+=h+188-g);break;case j:p&&(P&&(y=D(P))&&N(y),P={data:[],size:0}),P&&(P.data.push(t.subarray(g,h+188)),P.size+=h+188-g);break;case 0:p&&(g+=t[g]+1),C=this._pmtId=A(t,g);break;case C:p&&(g+=t[g]+1);var U=L(t,g,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3);(S=U.avc)>0&&(E.id=S),(O=U.audio)>0&&(w.id=O,w.isAAC=U.isAAC),(j=U.id3)>0&&(k.id=j),b&&!T&&(l.logger.log("reparse from beginning"),b=!1,h=-188),T=this.pmtParsed=!0;break;case 17:case 8191:break;default:b=!0}}else this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,id:this.id,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});R&&(y=D(R))?(I(y,!0),E.pesData=null):E.pesData=R,x&&(y=D(x))?(w.isAAC?M(y):F(y),w.pesData=null):(x&&x.size&&l.logger.log("last AAC PES packet truncated,might overlap between fragments"),w.pesData=x),P&&(y=D(P))?(N(y),k.pesData=null):k.pesData=P,this.remux(o,s,i,null,r,f)}},{key:"remux",value:function(t,e,n,r,i,o){for(var a=this._avcTrack,s=a.samples,l=0,u=0,c=0;c<s.length;c++){for(var d=s[c],f=d.units.units,h=f.length,p=0,v=0;v<h;v++)p+=f[v].data.length;u+=p,l+=h,d.length=p}a.len=u,a.nbNalu=l,this.remuxer.remux(t,e,n,this._audioTrack,this._avcTrack,this._id3Track,this._txtTrack,i,this.contiguous,this.accurateTimeOffset,o,r)}},{key:"destroy",value:function(){this.switchLevel(),this._initPTS=this._initDTS=void 0,this._duration=0}},{key:"_parsePAT",value:function(t,e){return(31&t[e+10])<<8|t[e+11]}},{key:"_parsePMT",value:function(t,e,n){var r,i,o={audio:-1,avc:-1,id3:-1,isAAC:!0};for(r=e+3+((15&t[e+1])<<8|t[e+2])-4,e+=12+((15&t[e+10])<<8|t[e+11]);e<r;){switch(i=(31&t[e+1])<<8|t[e+2],t[e]){case 15:-1===o.audio&&(o.audio=i);break;case 21:-1===o.id3&&(o.id3=i);break;case 27:-1===o.avc&&(o.avc=i);break;case 3:case 4:n?-1===o.audio&&(o.audio=i,o.isAAC=!1):l.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:l.logger.warn("HEVC stream type found, not supported for now");break;default:l.logger.log("unkown stream type:"+t[e])}e+=5+((15&t[e+3])<<8|t[e+4])}return o}},{key:"_parsePES",value:function(t){var e,n,r,i,o,a,s,u,c=0,d=t.data;if(!t||0===t.size)return null;for(;d[0].length<19&&d.length>1;){var f=new Uint8Array(d[0].length+d[1].length);f.set(d[0]),f.set(d[1],d[0].length),d[0]=f,d.splice(1,1)}if(1===((e=d[0])[0]<<16)+(e[1]<<8)+e[2]){if((r=(e[4]<<8)+e[5])&&r>t.size-6)return null;192&(n=e[7])&&(a=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2,a>4294967295&&(a-=8589934592),64&n?(s=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,s>4294967295&&(s-=8589934592),a-s>54e5&&(l.logger.warn(Math.round((a-s)/9e4)+"s delta between PTS and DTS, align them"),a=s)):s=a),t.size-=u=(i=e[8])+9,o=new Uint8Array(t.size);for(var h=0,p=d.length;h<p;h++){var v=(e=d[h]).byteLength;if(u){if(u>v){u-=v;continue}e=e.subarray(u),v-=u,u=0}o.set(e,c),c+=v}return r&&(r-=i+3),{data:o,pts:a,dts:s,len:r}}return null}},{key:"pushAccesUnit",value:function(t,e){t.units.units.length&&t.frame&&(!this.config.forceKeyFrameOnDiscontinuity||!0===t.key||e.sps&&(e.samples.length||this.contiguous)?e.samples.push(t):e.dropped++),t.debug.length&&l.logger.log(t.pts+"/"+t.dts+":"+t.debug+","+t.units.length)}},{key:"_parseAVCPES",value:function(t,e){var n,r,i,o=this,a=this._avcTrack,l=this._parseAVCNALu(t.data),u=this.avcSample;t.data=null,l.forEach(function(e){switch(e.type){case 1:r=!0,u.frame=!0;var l=e.data;if(l.length>4){var c=new s.default(l).readSliceType();2!==c&&4!==c&&7!==c&&9!==c||(u.key=!0)}break;case 5:r=!0,u||(u=o.avcSample=o._createAVCSample(!0,t.pts,t.dts,"")),u.key=!0,u.frame=!0;break;case 6:r=!0,(n=new s.default(o.discardEPB(e.data))).readUByte();for(var d=0,f=0,h=!1,p=0;!h&&n.bytesAvailable>1;){d=0;do{p=n.readUByte(),d+=p}while(255===p);f=0;do{p=n.readUByte(),f+=p}while(255===p);if(4===d&&0!==n.bytesAvailable){h=!0;if(181===n.readUByte()){if(49===n.readUShort()){if(1195456820===n.readUInt()){if(3===n.readUByte()){var v=n.readUByte(),g=31&v,y=[v,n.readUByte()];for(i=0;i<g;i++)y.push(n.readUByte()),y.push(n.readUByte()),y.push(n.readUByte());o._insertSampleInOrder(o._txtTrack.samples,{type:3,pts:t.pts,bytes:y})}}}}}else if(f<n.bytesAvailable)for(i=0;i<f;i++)n.readUByte()}break;case 7:if(r=!0,!a.sps){var m=(n=new s.default(e.data)).readSPS();a.width=m.width,a.height=m.height,a.pixelRatio=m.pixelRatio,a.sps=[e.data],a.duration=o._duration;var _=e.data.subarray(1,4),b="avc1.";for(i=0;i<3;i++){var T=_[i].toString(16);T.length<2&&(T="0"+T),b+=T}a.codec=b}break;case 8:r=!0,a.pps||(a.pps=[e.data]);break;case 9:r=!1,u&&o.pushAccesUnit(u,a),u=o.avcSample=o._createAVCSample(!1,t.pts,t.dts,"");break;case 12:r=!1;break;default:r=!1,u&&(u.debug+="unknown NAL "+e.type+" ")}if(u&&r){u.units.units.push(e)}}),e&&u&&(this.pushAccesUnit(u,a),this.avcSample=null)}},{key:"_createAVCSample",value:function(t,e,n,r){return{key:t,pts:e,dts:n,units:{units:[],length:0},debug:r}}},{key:"_insertSampleInOrder",value:function(t,e){var n=t.length;if(n>0){if(e.pts>=t[n-1].pts)t.push(e);else for(var r=n-1;r>=0;r--)if(e.pts<t[r].pts){t.splice(r,0,e);break}}else t.push(e)}},{key:"_getLastNalUnit",value:function(){var t=this.avcSample,e=void 0;if(!t||0===t.units.units.length){var n=this._avcTrack.samples;t=n[n.length-1]}if(t){var r=t.units.units;e=r[r.length-1]}return e}},{key:"_parseAVCNALu",value:function(t){var e,n,r,i,o=0,a=t.byteLength,s=this._avcTrack,l=s.naluState||0,u=l,c=[],d=-1;for(-1===l&&(d=0,i=31&t[0],l=0,o=1);o<a;)if(e=t[o++],l)if(1!==l)if(e)if(1===e){if(d>=0)r={data:t.subarray(d,o-l-1),type:i},c.push(r);else{var f=this._getLastNalUnit();if(f&&(u&&o<=4-u&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-u)),n=o-l-1,n>0)){var h=new Uint8Array(f.data.byteLength+n);h.set(f.data,0),h.set(t.subarray(0,n),f.data.byteLength),f.data=h}}o<a?(d=o,i=31&t[o],l=0):l=-1}else l=0;else l=3;else l=e?0:2;else l=e?0:1;if(d>=0&&l>=0&&(r={data:t.subarray(d,a),type:i,state:l},c.push(r)),0===c.length){var p=this._getLastNalUnit();if(p){var v=new Uint8Array(p.data.byteLength+t.byteLength);v.set(p.data,0),v.set(t,p.data.byteLength),p.data=v}}return s.naluState=l,c}},{key:"discardEPB",value:function(t){for(var e,n,r=t.byteLength,i=[],o=1;o<r-2;)0===t[o]&&0===t[o+1]&&3===t[o+2]?(i.push(o+2),o+=2):o++;if(0===i.length)return t;e=r-i.length,n=new Uint8Array(e);var a=0;for(o=0;o<e;a++,o++)a===i[0]&&(a++,i.shift()),n[o]=t[a];return n}},{key:"_parseAACPES",value:function(t){var e,n,r,i,s,c,d,f,h,p=this._audioTrack,v=t.data,g=t.pts,y=this.aacOverFlow,m=this.aacLastPTS;if(y){var _=new Uint8Array(y.byteLength+v.byteLength);_.set(y,0),_.set(v,y.byteLength),v=_}for(s=0,f=v.length;s<f-1&&(255!==v[s]||240!=(240&v[s+1]));s++);if(s){var b,T;if(s<f-1?(b="AAC PES did not start with ADTS header,offset:"+s,T=!1):(b="no ADTS header found in AAC PES",T=!0),l.logger.warn("parsing error:"+b),this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,id:this.id,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:T,reason:b}),T)return}if(!p.audiosamplerate){e=o.default.getAudioConfig(this.observer,v,s,this.audioCodec),p.config=e.config,p.audiosamplerate=e.samplerate,p.channelCount=e.channelCount,p.codec=e.codec,p.manifestCodec=e.manifestCodec,p.duration=this._duration,l.logger.log("parsed codec:"+p.codec+",rate:"+e.samplerate+",nb channel:"+e.channelCount)}if(i=0,r=9216e4/p.audiosamplerate,y&&m){var E=m+r;Math.abs(E-g)>1&&(l.logger.log("AAC: align PTS for overlapping frames by "+Math.round((E-g)/90)),g=E)}for(;s+5<f&&(c=1&v[s+1]?7:9,n=(3&v[s+3])<<11|v[s+4]<<3|(224&v[s+5])>>>5,n-=c,n>0&&s+c+n<=f);)for(d=g+i*r,h={unit:v.subarray(s+c,s+c+n),pts:d,dts:d},p.samples.push(h),p.len+=n,s+=n+c,i++;s<f-1&&(255!==v[s]||240!=(240&v[s+1]));s++);y=s<f?v.subarray(s,f):null,this.aacOverFlow=y,this.aacLastPTS=d}},{key:"_parseMPEGPES",value:function(t){for(var e,n=t.data,r=t.pts,i=n.length,o=0,a=0;a<i&&(e=this._parseMpeg(n,a,i,o++,r))>0;)a+=e}},{key:"_onMpegFrame",value:function(t,e,n,r,i,o){var a=o+i*(1152/n*1e3),s=this._audioTrack;s.config=[],s.channelCount=r,s.audiosamplerate=n,s.duration=this._duration,s.samples.push({unit:t,pts:a,dts:a}),s.len+=t.length}},{key:"_onMpegNoise",value:function(t){l.logger.warn("mpeg audio has noise: "+t.length+" bytes")}},{key:"_parseMpeg",value:function(t,e,n,r,i){var o=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],a=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3];if(e+2>n)return-1;if(255===t[e]||224==(224&t[e+1])){if(e+24>n)return-1;var s=t[e+1]>>3&3,l=t[e+1]>>1&3,u=t[e+2]>>4&15,c=t[e+2]>>2&3;if(1!==s&&0!==u&&15!==u&&3!==c){var d=1e3*o[14*(3===s?3-l:3===l?3:4)+u-1],f=a[3*(3===s?0:2===s?1:2)+c],h=!!(2&t[e+2])?1:0,p=t[e+3]>>6==3?1:2,v=3===l?(3===s?12:6)*d/f+h<<2:(3===s?144:72)*d/f+h|0;return e+v>n?-1:(this._onMpegFrame&&this._onMpegFrame(t.subarray(e,e+v),d,f,p,r,i),v)}}for(var g=e+2;g<n;){if(255===t[g-1]&&224==(224&t[g]))return this._onMpegNoise&&this._onMpegNoise(t.subarray(e,g-1)),g-e-1;g++}return-1}},{key:"_parseID3PES",value:function(t){this._id3Track.samples.push(t)}}],[{key:"probe",value:function(t){return t.length>=564&&71===t[0]&&71===t[188]&&71===t[376]}}]),t}();n.default=c},{19:19,23:23,26:26,28:28,45:45}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},n.ErrorDetails={MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOOP_LOADING_ERROR:"fragLoopLoadingError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},{}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=t(45),s=t(26),l=t(28),u=(r=l,r&&r.__esModule?r:{default:r}),c=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.hls=e,this.onEvent=this.onEvent.bind(this);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.handledEvents=r,this.useGenericHandler=!0,this.registerListeners()}return o(t,[{key:"destroy",value:function(){this.unregisterListeners()}},{key:"isEventHandler",value:function(){return"object"===i(this.handledEvents)&&this.handledEvents.length&&"function"==typeof this.onEvent}},{key:"registerListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){if("hlsEventGeneric"===t)throw new Error("Forbidden event name: "+t);this.hls.on(t,this.onEvent)}.bind(this))}},{key:"unregisterListeners",value:function(){this.isEventHandler()&&this.handledEvents.forEach(function(t){this.hls.off(t,this.onEvent)}.bind(this))}},{key:"onEvent",value:function(t,e){this.onEventGeneric(t,e)}},{key:"onEventGeneric",value:function(t,e){try{(function(t,e){var n="on"+t.replace("hls","");if("function"!=typeof this[n])throw new Error("Event "+t+" has no generic handler in this "+this.constructor.name+" class (tried "+n+")");return this[n].bind(this,e)}).call(this,t,e).call()}catch(e){a.logger.error("internal error happened while processing "+t+":"+e.message),this.hls.trigger(u.default.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:t,err:e})}}}]),t}();n.default=c},{26:26,28:28,45:45}],28:[function(t,e,n){"use strict";e.exports={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVEL_SWITCH:"hlsLevelSwitch",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCH:"hlsAudioTrackSwitch",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},{}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"getSilentFrame",value:function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}}]),t}();n.default=i},{}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"isBuffered",value:function(t,e){if(t)for(var n=t.buffered,r=0;r<n.length;r++)if(e>=n.start(r)&&e<=n.end(r))return!0;return!1}},{key:"bufferInfo",value:function(t,e,n){if(t){var r,i=t.buffered,o=[];for(r=0;r<i.length;r++)o.push({start:i.start(r),end:i.end(r)});return this.bufferedInfo(o,e,n)}return{len:0,start:0,end:0,nextStart:void 0}}},{key:"bufferedInfo",value:function(t,e,n){var r,i,o,a,s,l=[];for(t.sort(function(t,e){var n=t.start-e.start;return n||e.end-t.end}),s=0;s<t.length;s++){var u=l.length;if(u){var c=l[u-1].end;t[s].start-c<n?t[s].end>c&&(l[u-1].end=t[s].end):l.push(t[s])}else l.push(t[s])}for(s=0,r=0,i=o=e;s<l.length;s++){var d=l[s].start,f=l[s].end;if(e+n>=d&&e<f)i=d,o=f,r=o-e;else if(e+n<d){a=d;break}}return{len:r,start:i,end:o,nextStart:a}}}]),t}();n.default=i},{}],31:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t(45),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"mergeDetails",value:function(e,n){var r,o=Math.max(e.startSN,n.startSN)-n.startSN,a=Math.min(e.endSN,n.endSN)-n.startSN,s=n.startSN-e.startSN,l=e.fragments,u=n.fragments,c=0;if(a<o)n.PTSKnown=!1;else{for(var d=o;d<=a;d++){var f=l[s+d],h=u[d];h&&f&&(c=f.cc-h.cc,isNaN(f.startPTS)||(h.start=h.startPTS=f.startPTS,h.endPTS=f.endPTS,h.duration=f.duration,r=h))}if(c)for(i.logger.log("discontinuity sliding from playlist, take drift into account"),d=0;d<u.length;d++)u[d].cc+=c;if(r)t.updateFragPTSDTS(n,r.sn,r.startPTS,r.endPTS,r.startDTS,r.endDTS);else if(s>=0&&s<l.length){var p=l[s].start;for(d=0;d<u.length;d++)u[d].start+=p}n.PTSKnown=e.PTSKnown}}},{key:"updateFragPTSDTS",value:function(e,n,r,i,o,a){var s,l,u,c;if(!e||n<e.startSN||n>e.endSN)return 0;if(u=(l=e.fragments)[s=n-e.startSN],!isNaN(u.startPTS)){var d=Math.abs(u.startPTS-r);u.deltaPTS=isNaN(u.deltaPTS)?d:Math.max(d,u.deltaPTS),r=Math.min(r,u.startPTS),i=Math.max(i,u.endPTS),o=Math.min(o,u.startDTS),a=Math.max(a,u.endDTS)}var f=r-u.start;for(u.start=u.startPTS=r,u.endPTS=i,u.startDTS=o,u.endDTS=a,u.duration=i-r,c=s;c>0;c--)t.updatePTS(l,c,c-1);for(c=s;c<l.length-1;c++)t.updatePTS(l,c,c+1);return e.PTSKnown=!0,f}},{key:"updatePTS",value:function(t,e,n){var r=t[e],o=t[n],a=o.startPTS;isNaN(a)?o.start=n>e?r.start+r.duration:r.start-o.duration:n>e?(r.duration=a-r.start,r.duration<0&&i.logger.warn("negative duration computed for frag "+r.sn+",level "+r.level+", there should be some duration drift between playlist and fragment!")):(o.duration=r.start-a,o.duration<0&&i.logger.warn("negative duration computed for frag "+o.sn+",level "+o.level+", there should be some duration drift between playlist and fragment!"))}}]),t}();n.default=o},{45:45}],32:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=t(26),s=r(t(36)),l=r(t(34)),u=r(t(4)),c=r(t(7)),d=r(t(8)),f=r(t(5)),h=r(t(12)),p=r(t(11)),v=r(t(13)),g=r(t(10)),y=r(t(6)),m=t(45),_=r(t(47)),b=r(t(1)),T=r(t(35)),E=r(t(43)),w=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=t.DefaultConfig;if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var r in n)r in e||(e[r]=n[r]);if(void 0!==e.liveMaxLatencyDurationCount&&e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==e.liveMaxLatencyDuration&&(e.liveMaxLatencyDuration<=e.liveSyncDuration||void 0===e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');(0,m.enableLogs)(e.debug),this.config=e;var i=this.observer=new b.default;i.trigger=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.emit.apply(i,[t,t].concat(n))},i.off=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];i.removeListener.apply(i,[t].concat(n))},this.on=i.on.bind(i),this.off=i.off.bind(i),this.trigger=i.trigger.bind(i),this.playlistLoader=new s.default(this),this.fragmentLoader=new l.default(this),this.levelController=new p.default(this),this.abrController=new e.abrController(this),this.bufferController=new e.bufferController(this),this.capLevelController=new e.capLevelController(this),this.fpsController=new e.fpsController(this),this.streamController=new e.streamController(this),this.audioStreamController=new e.audioStreamController(this),this.timelineController=new e.timelineController(this),this.audioTrackController=new y.default(this),this.keyLoader=new T.default(this)}return i(t,null,[{key:"isSupported",value:function(){return window.MediaSource=window.MediaSource||window.WebKitMediaSource,window.MediaSource&&"function"==typeof window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}},{key:"version",get:function(){return"0.6.21"}},{key:"Events",get:function(){return o.default}},{key:"ErrorTypes",get:function(){return a.ErrorTypes}},{key:"ErrorDetails",get:function(){return a.ErrorDetails}},{key:"DefaultConfig",get:function(){return t.defaultConfig||(t.defaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,maxMaxBufferLength:600,maxSeekHole:2,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.2,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,fragLoadingLoopThreshold:3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:_.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,fetchSetup:void 0,abrController:u.default,bufferController:c.default,capLevelController:d.default,fpsController:g.default,streamController:h.default,audioStreamController:f.default,timelineController:v.default,cueHandler:E.default,enableCEA708Captions:!0,enableMP2TPassThrough:!1,stretchShortVideoTrack:!1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0}),t.defaultConfig},set:function(e){t.defaultConfig=e}}]),i(t,[{key:"destroy",value:function(){m.logger.log("destroy"),this.trigger(o.default.DESTROYING),this.detachMedia(),this.playlistLoader.destroy(),this.fragmentLoader.destroy(),this.levelController.destroy(),this.abrController.destroy(),this.bufferController.destroy(),this.capLevelController.destroy(),this.fpsController.destroy(),this.streamController.destroy(),this.audioStreamController.destroy(),this.timelineController.destroy(),this.audioTrackController.destroy(),this.keyLoader.destroy(),this.url=null,this.observer.removeAllListeners()}},{key:"attachMedia",value:function(t){m.logger.log("attachMedia"),this.media=t,this.trigger(o.default.MEDIA_ATTACHING,{media:t})}},{key:"detachMedia",value:function(){m.logger.log("detachMedia"),this.trigger(o.default.MEDIA_DETACHING),this.media=null}},{key:"loadSource",value:function(t){m.logger.log("loadSource:"+t),this.url=t,this.trigger(o.default.MANIFEST_LOADING,{url:t})}},{key:"startLoad",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;m.logger.log("startLoad("+t+")"),this.levelController.startLoad(),this.streamController.startLoad(t),this.audioStreamController.startLoad(t)}},{key:"stopLoad",value:function(){m.logger.log("stopLoad"),this.levelController.stopLoad(),this.streamController.stopLoad(),this.audioStreamController.stopLoad()}},{key:"swapAudioCodec",value:function(){m.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()}},{key:"recoverMediaError",value:function(){m.logger.log("recoverMediaError");var t=this.media;this.detachMedia(),this.attachMedia(t)}},{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(t){m.logger.log("set currentLevel:"+t),this.loadLevel=t,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(t){m.logger.log("set nextLevel:"+t),this.levelController.manualLevel=t,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(t){m.logger.log("set loadLevel:"+t),this.levelController.manualLevel=t}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(t){this.levelController.nextLoadLevel=t}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.abrController.minAutoLevel)},set:function(t){m.logger.log("set firstLevel:"+t),this.levelController.firstLevel=t}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(t){m.logger.log("set startLevel:"+t),this.levelController.startLevel=t}},{key:"autoLevelCapping",get:function(){return this.abrController.autoLevelCapping},set:function(t){m.logger.log("set autoLevelCapping:"+t),this.abrController.autoLevelCapping=t}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"audioTracks",get:function(){return this.audioTrackController.audioTracks}},{key:"audioTrack",get:function(){return this.audioTrackController.audioTrack},set:function(t){this.audioTrackController.audioTrack=t}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}}]),t}();n.default=w},{1:1,10:10,11:11,12:12,13:13,26:26,28:28,34:34,35:35,36:36,4:4,43:43,45:45,47:47,5:5,6:6,7:7,8:8}],33:[function(t,e,n){"use strict";e.exports=t(32).default},{32:32}],34:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=r(t(27)),s=t(26),l=t(45),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o.default.FRAG_LOADING));return n.loaders={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),i(e,[{key:"destroy",value:function(){var t=this.loaders;for(var e in t){var n=t[e];n&&n.destroy()}this.loaders={},a.default.prototype.destroy.call(this)}},{key:"onFragLoading",value:function(t){var e=t.frag,n=e.type,r=this.loaders[n],i=this.hls.config;e.loaded=0,r&&(l.logger.warn("abort previous fragment loader for type:"+n),r.abort()),r=this.loaders[n]=e.loader=void 0!==i.fLoader?new i.fLoader(i):new i.loader(i);var o=void 0,a=void 0,s=void 0;o={url:e.url,frag:e,responseType:"arraybuffer",progressData:!1};var u=e.byteRangeStartOffset,c=e.byteRangeEndOffset;isNaN(u)||isNaN(c)||(o.rangeStart=u,o.rangeEnd=c),a={timeout:i.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:i.fragLoadingMaxRetryTimeout},s={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},r.load(o,a,s)}},{key:"loadsuccess",value:function(t,e,n){var r=t.data,i=n.frag;i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(o.default.FRAG_LOADED,{payload:r,frag:i,stats:e})}},{key:"loaderror",value:function(t,e){var n=e.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e.frag,response:t})}},{key:"loadtimeout",value:function(t,e){var n=e.loader;n&&n.abort(),this.loaders[e.type]=void 0,this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e.frag})}},{key:"loadprogress",value:function(t,e,n){var r=e.frag;r.loaded=t.loaded,this.hls.trigger(o.default.FRAG_LOAD_PROGRESS,{frag:r,stats:t})}}]),e}();n.default=u},{26:26,27:27,28:28,45:45}],35:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(28)),a=r(t(27)),s=t(26),l=t(45),u=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o.default.KEY_LOADING));return n.loaders={},n.decryptkey=null,n.decrypturl=null,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["default"]),i(e,[{key:"destroy",value:function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},a.default.prototype.destroy.call(this)}},{key:"onKeyLoading",value:function(t){var e=t.frag,n=e.type,r=this.loaders[n],i=e.decryptdata,a=i.uri;if(a!==this.decrypturl||null===this.decryptkey){var s=this.hls.config;r&&(l.logger.warn("abort previous key loader for type:"+n),r.abort()),e.loader=this.loaders[n]=new s.loader(s),this.decrypturl=a,this.decryptkey=null;var u=void 0,c=void 0,d=void 0;u={url:a,frag:e,responseType:"arraybuffer"},c={timeout:s.fragLoadingTimeOut,maxRetry:s.fragLoadingMaxRetry,retryDelay:s.fragLoadingRetryDelay,maxRetryDelay:s.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},e.loader.load(u,c,d)}else this.decryptkey&&(i.key=this.decryptkey,this.hls.trigger(o.default.KEY_LOADED,{frag:e}))}},{key:"loadsuccess",value:function(t,e,n){var r=n.frag;this.decryptkey=r.decryptdata.key=new Uint8Array(t.data),r.loader=void 0,this.loaders[r.type]=void 0,this.hls.trigger(o.default.KEY_LOADED,{frag:r})}},{key:"loaderror",value:function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:t})}},{key:"loadtimeout",value:function(t,e){var n=e.frag,r=n.loader;r&&r.abort(),this.loaders[e.type]=void 0,this.hls.trigger(o.default.ERROR,{type:s.ErrorTypes.NETWORK_ERROR,details:s.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})}}]),e}();n.default=u},{26:26,27:27,28:28,45:45}],36:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(t(2)),s=r(t(28)),l=r(t(27)),u=t(26),c=r(t(40)),d=t(45),f=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,h=/#EXT-X-MEDIA:(.*)/g,p=/#EXTINF:(\d*(?:\.\d+)?)(?:,(.*))?|(?!#)(\S.+)|#EXT-X-BYTERANGE: *(.+)|#EXT-X-PROGRAM-DATE-TIME:(.+)|#.*/g,v=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)(.*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,g=function(){function t(){i(this,t),this.method=null,this.key=null,this.iv=null,this._uri=null}return o(t,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=a.default.buildAbsoluteURL(this.baseuri,this.reluri)),this._uri}}]),t}(),y=function(){function t(){i(this,t),this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[]}return o(t,[{key:"createInitializationVector",value:function(t){for(var e=new Uint8Array(16),n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}},{key:"fragmentDecryptdataFromLevelkey",value:function(t,e){var n=t;return t&&t.method&&t.uri&&!t.iv&&(n=new g,n.method=t.method,n.baseuri=t.baseuri,n.reluri=t.reluri,n.iv=this.createInitializationVector(e)),n}},{key:"cloneObj",value:function(t){return JSON.parse(JSON.stringify(t))}},{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=a.default.buildAbsoluteURL(this.baseurl,this.relurl)),this._url},set:function(t){this._url=t}},{key:"programDateTime",get:function(){return!this._programDateTime&&this.rawProgramDateTime&&(this._programDateTime=new Date(Date.parse(this.rawProgramDateTime))),this._programDateTime}},{key:"byteRange",get:function(){if(!this._byteRange){var t=this._byteRange=[];if(this.rawByteRange){var e=this.rawByteRange.split("@",2);if(1===e.length){var n=this.lastByteRangeEndOffset;t[0]=n||0}else t[0]=parseInt(e[1]);t[1]=parseInt(e[0])+t[0]}}return this._byteRange}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata}}]),t}(),m=function(t){function e(t){i(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,s.default.MANIFEST_LOADING,s.default.LEVEL_LOADING,s.default.AUDIO_TRACK_LOADING));return n.loaders={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l["default"]),o(e,[{key:"destroy",value:function(){for(var t in this.loaders){var e=this.loaders[t];e&&e.destroy()}this.loaders={},l.default.prototype.destroy.call(this)}},{key:"onManifestLoading",value:function(t){this.load(t.url,{type:"manifest"})}},{key:"onLevelLoading",value:function(t){this.load(t.url,{type:"level",level:t.level,id:t.id})}},{key:"onAudioTrackLoading",value:function(t){this.load(t.url,{type:"audioTrack",id:t.id})}},{key:"load",value:function(t,e){var n=this.loaders[e.type];if(n){var r=n.context;if(r&&r.url===t)return void d.logger.trace("playlist request ongoing");d.logger.warn("abort previous loader for type:"+e.type),n.abort()}var i=this.hls.config,o=void 0,a=void 0,s=void 0,l=void 0;"manifest"===e.type?(o=i.manifestLoadingMaxRetry,a=i.manifestLoadingTimeOut,s=i.manifestLoadingRetryDelay,l=i.manifestLoadingMaxRetryTimeout):(o=i.levelLoadingMaxRetry,a=i.levelLoadingTimeOut,s=i.levelLoadingRetryDelay,l=i.levelLoadingMaxRetryTimeout,d.logger.log("loading playlist for "+e.type+" "+(e.level||e.id))),n=this.loaders[e.type]=e.loader=void 0!==i.pLoader?new i.pLoader(i):new i.loader(i),e.url=t,e.responseType="";var u=void 0,c=void 0;u={timeout:a,maxRetry:o,retryDelay:s,maxRetryDelay:l},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},n.load(e,u,c)}},{key:"resolve",value:function(t,e){return a.default.buildAbsoluteURL(e,t)}},{key:"parseMasterPlaylist",value:function(t,e){var n=[],r=void 0;for(f.lastIndex=0;null!=(r=f.exec(t));){var i={},o=i.attrs=new c.default(r[1]);i.url=this.resolve(r[2],e);var a=o.decimalResolution("RESOLUTION");a&&(i.width=a.width,i.height=a.height),i.bitrate=o.decimalInteger("AVERAGE-BANDWIDTH")||o.decimalInteger("BANDWIDTH"),i.name=o.NAME;var s=o.CODECS;if(s){s=s.split(/[ ,]+/);for(var l=0;l<s.length;l++){var u=s[l];-1!==u.indexOf("avc1")?i.videoCodec=this.avc1toavcoti(u):i.audioCodec=u}}n.push(i)}return n}},{key:"parseMasterPlaylistMedia",value:function(t,e,n){var r=void 0,i=[];for(h.lastIndex=0;null!=(r=h.exec(t));){var o={},a=new c.default(r[1]);a.TYPE===n&&(o.groupId=a["GROUP-ID"],o.name=a.NAME,o.type=n,o.default="YES"===a.DEFAULT,o.autoselect="YES"===a.AUTOSELECT,o.forced="YES"===a.FORCED,a.URI&&(o.url=this.resolve(a.URI,e)),o.lang=a.LANGUAGE,o.name||(o.name=o.lang),i.push(o))}return i}},{key:"avc1toavcoti",value:function(t){var e,n=t.split(".");return n.length>2?(e=n.shift()+".",e+=parseInt(n.shift()).toString(16),e+=("000"+parseInt(n.shift()).toString(16)).substr(-4)):e=t,e}},{key:"parseLevelPlaylist",value:function(t,e,n,r){var i,o,a=0,s=0,l={type:null,version:null,url:e,fragments:[],live:!0,startSN:0},u=new g,f=0,h=null,m=new y;for(p.lastIndex=0;null!==(i=p.exec(t));){var _=i[1];if(_){m.duration=parseFloat(_);var b=(" "+i[2]).slice(1);m.title=b||null,m.tagList.push(b?["INF",_,b]:["INF",_])}else if(i[3]){if(!isNaN(m.duration)){var T=a++;m.type=r,m.start=s,m.levelkey=u,m.sn=T,m.level=n,m.cc=f,m.baseurl=e,m.relurl=(" "+i[3]).slice(1),l.fragments.push(m),h=m,s+=m.duration,m=new y}}else if(i[4]){if(m.rawByteRange=(" "+i[4]).slice(1),h){var E=h.byteRangeEndOffset;E&&(m.lastByteRangeEndOffset=E)}}else if(i[5])m.rawProgramDateTime=(" "+i[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]);else{for(i=i[0].match(v),o=1;o<i.length&&void 0===i[o];o++);var w=(" "+i[o+1]).slice(1),k=(" "+i[o+2]).slice(1);switch(i[o]){case"#":m.tagList.push(k?[w,k]:[w]);break;case"PLAYLIST-TYPE":l.type=w.toUpperCase();break;case"MEDIA-SEQUENCE":a=l.startSN=parseInt(w);break;case"TARGETDURATION":l.targetduration=parseFloat(w);break;case"VERSION":l.version=parseInt(w);break;case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"DIS":f++,m.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":f=parseInt(w);break;case"KEY":var S=new c.default(w),O=S.enumeratedString("METHOD"),j=S.URI,C=S.hexadecimalInteger("IV");O&&(u=new g,j&&"AES-128"===O&&(u.method=O,u.baseuri=e,u.reluri=j,u.key=null,u.iv=C));break;case"START":var R=new c.default(w).decimalFloatingPoint("TIME-OFFSET");isNaN(R)||(l.startTimeOffset=R);break;case"MAP":var x=new c.default(w);m.relurl=x.URI,m.rawByteRange=x.BYTERANGE,m.baseurl=e,m.level=n,m.type=r,m.sn="initSegment",l.initSegment=m,m=new y;break;default:d.logger.warn("line parsed but not handled: "+i)}}}return(m=h)&&!m.relurl&&(l.fragments.pop(),s-=m.duration),l.totalduration=s,l.averagetargetduration=s/l.fragments.length,l.endSN=a-1,l}},{key:"loadsuccess",value:function(t,e,n){var r=t.data,i=t.url,o=n.type,a=n.id,l=n.level,c=this.hls;if(this.loaders[o]=void 0,void 0!==i&&0!==i.indexOf("data:")||(i=n.url),e.tload=performance.now(),0===r.indexOf("#EXTM3U"))if(r.indexOf("#EXTINF:")>0){var f="audioTrack"!==o,h=this.parseLevelPlaylist(r,i,(f?l:a)||0,f?"main":"audio");"manifest"===o&&c.trigger(s.default.MANIFEST_LOADED,{levels:[{url:i,details:h}],audioTracks:[],url:i,stats:e}),e.tparsed=performance.now(),h.targetduration?f?c.trigger(s.default.LEVEL_LOADED,{details:h,level:l||0,id:a||0,stats:e}):c.trigger(s.default.AUDIO_TRACK_LOADED,{details:h,id:a,stats:e}):c.trigger(s.default.ERROR,{type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"invalid targetduration"})}else{var p=this.parseMasterPlaylist(r,i);if(p.length){var v=this.parseMasterPlaylistMedia(r,i,"AUDIO");if(v.length){var g=!1;v.forEach(function(t){t.url||(g=!0)}),!1===g&&p[0].audioCodec&&!p[0].attrs.AUDIO&&(d.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),v.unshift({type:"main",name:"main"}))}c.trigger(s.default.MANIFEST_LOADED,{levels:p,audioTracks:v,url:i,stats:e})}else c.trigger(s.default.ERROR,{type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no level found in manifest"})}else c.trigger(s.default.ERROR,{type:u.ErrorTypes.NETWORK_ERROR,details:u.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:i,reason:"no EXTM3U delimiter"})}},{key:"loaderror",value:function(t,e){var n,r,i=e.loader;switch(e.type){case"manifest":n=u.ErrorDetails.MANIFEST_LOAD_ERROR,r=!0;break;case"level":n=u.ErrorDetails.LEVEL_LOAD_ERROR,r=!1;break;case"audioTrack":n=u.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,r=!1}i&&(i.abort(),this.loaders[e.type]=void 0),this.hls.trigger(s.default.ERROR,{type:u.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:i.url,loader:i,response:t,context:e})}},{key:"loadtimeout",value:function(t,e){var n,r,i=e.loader;switch(e.type){case"manifest":n=u.ErrorDetails.MANIFEST_LOAD_TIMEOUT,r=!0;break;case"level":n=u.ErrorDetails.LEVEL_LOAD_TIMEOUT,r=!1;break;case"audioTrack":n=u.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT,r=!1}i&&(i.abort(),this.loaders[e.type]=void 0),this.hls.trigger(s.default.ERROR,{type:u.ErrorTypes.NETWORK_ERROR,details:n,fatal:r,url:i.url,loader:i,context:e})}}]),e}();n.default=m},{2:2,26:26,27:27,28:28,40:40,45:45}],37:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"init",value:function(){t.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};var e;for(e in t.types)t.types.hasOwnProperty(e)&&(t.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);t.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);t.STTS=t.STSC=t.STCO=o,t.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),t.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),t.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),t.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);t.FTYP=t.box(t.types.ftyp,a,l,a,s),t.DINF=t.box(t.types.dinf,t.box(t.types.dref,i))}},{key:"box",value:function(t){for(var e,n=Array.prototype.slice.call(arguments,1),r=8,i=n.length,o=i;i--;)r+=n[i].byteLength;for((e=new Uint8Array(r))[0]=r>>24&255,e[1]=r>>16&255,e[2]=r>>8&255,e[3]=255&r,e.set(t,4),i=0,r=8;i<o;i++)e.set(n[i],r),r+=n[i].byteLength;return e}},{key:"hdlr",value:function(e){return t.box(t.types.hdlr,t.HDLR_TYPES[e])}},{key:"mdat",value:function(e){return t.box(t.types.mdat,e)}},{key:"mdhd",value:function(e,n){return n*=e,t.box(t.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))}},{key:"mdia",value:function(e){return t.box(t.types.mdia,t.mdhd(e.timescale,e.duration),t.hdlr(e.type),t.minf(e))}},{key:"mfhd",value:function(e){return t.box(t.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,255&e]))}},{key:"minf",value:function(e){return t.box(t.types.minf,"audio"===e.type?t.box(t.types.smhd,t.SMHD):t.box(t.types.vmhd,t.VMHD),t.DINF,t.stbl(e))}},{key:"moof",value:function(e,n,r){return t.box(t.types.moof,t.mfhd(e),t.traf(r,n))}},{key:"moov",value:function(e){for(var n=e.length,r=[];n--;)r[n]=t.trak(e[n]);return t.box.apply(null,[t.types.moov,t.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(t.mvex(e)))}},{key:"mvex",value:function(e){for(var n=e.length,r=[];n--;)r[n]=t.trex(e[n]);return t.box.apply(null,[t.types.mvex].concat(r))}},{key:"mvhd",value:function(e,n){n*=e;var r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t.box(t.types.mvhd,r)}},{key:"sdtp",value:function(e){var n,r,i=e.samples||[],o=new Uint8Array(4+i.length);for(r=0;r<i.length;r++)n=i[r].flags,o[r+4]=n.dependsOn<<4|n.isDependedOn<<2|n.hasRedundancy;return t.box(t.types.sdtp,o)}},{key:"stbl",value:function(e){return t.box(t.types.stbl,t.stsd(e),t.box(t.types.stts,t.STTS),t.box(t.types.stsc,t.STSC),t.box(t.types.stsz,t.STSZ),t.box(t.types.stco,t.STCO))}},{key:"avc1",value:function(e){var n,r,i,o=[],a=[];for(n=0;n<e.sps.length;n++)r=e.sps[n],i=r.byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<e.pps.length;n++)r=e.pps[n],i=r.byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=t.box(t.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|e.sps.length].concat(o).concat([e.pps.length]).concat(a))),l=e.width,u=e.height,c=e.pixelRatio[0],d=e.pixelRatio[1];return t.box(t.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,t.box(t.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),t.box(t.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,d>>24,d>>16&255,d>>8&255,255&d])))}},{key:"esds",value:function(t){var e=t.config.length;return new Uint8Array([0,0,0,0,3,23+e,0,1,0,4,15+e,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([e]).concat(t.config).concat([6,1,2]))}},{key:"mp4a",value:function(e){var n=e.audiosamplerate;return t.box(t.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),t.box(t.types.esds,t.esds(e)))}},{key:"mp3",value:function(e){var n=e.audiosamplerate;return t.box(t.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))}},{key:"stsd",value:function(e){return t.box(t.types.stsd,t.STSD,"audio"===e.type?e.isAAC||"mp3"!==e.codec?t.mp4a(e):t.mp3(e):t.avc1(e))}},{key:"tkhd",value:function(e){var n=e.id,r=e.duration*e.timescale,i=e.width,o=e.height;return t.box(t.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,255&i,0,0,o>>8&255,255&o,0,0]))}},{key:"traf",value:function(e,n){var r=t.sdtp(e),i=e.id;return t.box(t.types.traf,t.box(t.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,255&i])),t.box(t.types.tfdt,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),t.trun(e,r.length+16+16+8+16+8+8),r)}},{key:"trak",value:function(e){return e.duration=e.duration||4294967295,t.box(t.types.trak,t.tkhd(e),t.mdia(e))}},{key:"trex",value:function(e){var n=e.id;return t.box(t.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}},{key:"trun",value:function(e,n){var r,i,o,a,s,l,u=e.samples||[],c=u.length,d=12+16*c,f=new Uint8Array(d);for(f.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,(n+=8+d)>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)i=u[r],o=i.duration,a=i.size,s=i.flags,l=i.cts,f.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*r);return t.box(t.types.trun,f)}},{key:"initSegment",value:function(e){t.types||t.init();var n,r=t.moov(e);return(n=new Uint8Array(t.FTYP.byteLength+r.byteLength)).set(t.FTYP),n.set(r,t.FTYP.byteLength),n}}]),t}();n.default=i},{}],38:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=r(t(29)),a=r(t(28)),s=t(45),l=r(t(37)),u=t(26),c=function(){function t(e,n,r,i){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.id=n,this.config=r,this.typeSupported=i,this.ISGenerated=!1,this.PES2MP4SCALEFACTOR=4,this.PES_TIMESCALE=9e4,this.MP4_TIMESCALE=this.PES_TIMESCALE/this.PES2MP4SCALEFACTOR}return i(t,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){this._initPTS=this._initDTS=void 0}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(t,e,n,r,i,o,s,l,u,c,d){if(this.level=t,this.sn=e,this.ISGenerated||this.generateIS(r,i,l,n),null!==d&&(this._initPTS=this._initDTS=d),this.ISGenerated)if(r.samples.length){var f=this.remuxAudio(r,l,u,c);if(i.samples.length){var h=void 0;f&&(h=f.endPTS-f.startPTS),this.remuxVideo(i,l,u,h)}}else{var p=void 0;i.samples.length&&(p=this.remuxVideo(i,l,u)),p&&r.codec&&this.remuxEmptyAudio(r,l,u,p)}o.samples.length&&this.remuxID3(o,l),s.samples.length&&this.remuxText(s,l),this.observer.trigger(a.default.FRAG_PARSED,{id:this.id,level:this.level,sn:this.sn})}},{key:"generateIS",value:function(t,e,n,r){var i,o,c=this.observer,d=t.samples,f=e.samples,h=this.PES_TIMESCALE,p=this.typeSupported,v="audio/mp4",g={},y={id:this.id,level:this.level,sn:this.sn,tracks:g,unique:!1},m=void 0===this._initPTS;m&&(i=o=1/0),t.config&&d.length&&(t.timescale=t.audiosamplerate,t.timescale*t.duration>Math.pow(2,32)&&(t.timescale=t.audiosamplerate/function t(e,n){return n?t(n,e%n):e}(t.audiosamplerate,t.isAAC?1024:1152)),s.logger.log("audio mp4 timescale :"+t.timescale),t.isAAC||(p.mpeg?(v="audio/mpeg",t.codec=""):p.mp3&&(t.codec="mp3")),g.audio={container:v,codec:t.codec,initSegment:!t.isAAC&&p.mpeg?new Uint8Array:l.default.initSegment([t]),metadata:{channelCount:t.channelCount}},m&&(i=o=d[0].pts-h*n)),e.sps&&e.pps&&f.length&&(e.timescale=this.MP4_TIMESCALE,g.video={container:"video/mp4",codec:e.codec,initSegment:l.default.initSegment([e]),metadata:{width:e.width,height:e.height}},m&&(i=Math.min(i,f[0].pts-h*n),o=Math.min(o,f[0].dts-h*n),this.observer.trigger(a.default.INIT_PTS_FOUND,{id:this.id,initPTS:i,cc:r}))),Object.keys(g).length?(c.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,y),this.ISGenerated=!0,m&&(this._initPTS=i,this._initDTS=o)):c.trigger(a.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,id:this.id,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})}},{key:"remuxVideo",value:function(t,e,n,r){var i,o,c,d,f,h,p,v=8,g=this.PES_TIMESCALE,y=this.PES2MP4SCALEFACTOR,m=t.samples,_=[],b=m.length,T=this._PTSNormalize,E=this._initDTS;m.sort(function(t,e){var n=t.dts-e.dts;return n||t.pts-e.pts});var w=m.reduce(function(t,e){return Math.max(Math.min(t,e.pts-e.dts),-18e3)},0);if(w<0){s.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(w/90)+" ms to overcome this issue");for(var k=0;k<m.length;k++)m[k].dts+=w}var S=void 0;S=n?this.nextAvcDts:e*g;var O=m[0];f=Math.max(T(O.dts-E,S),0),d=Math.max(T(O.pts-E,S),0);var j=Math.round((f-S)/90);n&&j&&(j>1?s.logger.log("AVC:"+j+" ms hole between fragments detected,filling it"):j<-1&&s.logger.log("AVC:"+-j+" ms overlapping between fragments detected"),f=S,m[0].dts=f+E,d=Math.max(d-j,S),m[0].pts=d+E,s.logger.log("Video/PTS/DTS adjusted: "+Math.round(d/90)+"/"+Math.round(f/90)+",delta:"+j+" ms")),O=m[m.length-1],p=Math.max(T(O.dts-E,S),0),h=Math.max(T(O.pts-E,S),0),h=Math.max(h,p);var C=navigator.vendor,R=navigator.userAgent,x=C&&C.indexOf("Apple")>-1&&R&&!R.match("CriOS");x&&(i=Math.round((p-f)/(y*(m.length-1))));for(var P=0;P<b;P++){var A=m[P];x?A.dts=f+P*y*i:(A.dts=Math.max(T(A.dts-E,S),f),A.dts=Math.round(A.dts/y)*y),A.pts=Math.max(T(A.pts-E,S),A.dts),A.pts=Math.round(A.pts/y)*y}var L=t.len+4*t.nbNalu+8;try{o=new Uint8Array(L)}catch(t){return void this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:u.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:L,reason:"fail allocating video mdat "+L})}var D=new DataView(o.buffer);D.setUint32(0,L),o.set(l.default.types.mdat,4);for(var I=0;I<b;I++){for(var M=m[I],F=M.units.units,N=0,U=void 0,B=0,G=F.length;B<G;B++){var Y=F[B],H=Y.data,V=Y.data.byteLength;D.setUint32(v,V),o.set(H,v+=4),v+=V,N+=4+V}if(x)U=Math.max(0,i*Math.round((M.pts-M.dts)/(y*i)));else{if(I<b-1)i=m[I+1].dts-M.dts;else{var z=this.config,W=M.dts-m[I>0?I-1:I].dts;if(z.stretchShortVideoTrack){var q=Math.floor(Math.min(z.maxBufferHole,z.maxSeekHole)*g),Z=(r?d+r*g:this.nextAudioPts)-M.pts;Z>q?((i=Z-W)<0&&(i=W),s.logger.log("It is approximately "+Z/90+" ms to the next segment; using duration "+i/90+" ms for the last video frame.")):i=W}else i=W}i/=y,U=Math.round((M.pts-M.dts)/y)}_.push({size:N,duration:i,cts:U,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:M.key?2:1,isNonSync:M.key?0:1}})}this.nextAvcDts=p+i*y;var K=t.dropped;if(t.len=0,t.nbNalu=0,t.dropped=0,_.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var X=_[0].flags;X.dependsOn=2,X.isNonSync=0}t.samples=_,c=l.default.moof(t.sequenceNumber++,f/y,t),t.samples=[];var $={id:this.id,level:this.level,sn:this.sn,data1:c,data2:o,startPTS:d/g,endPTS:(h+y*i)/g,startDTS:f/g,endDTS:this.nextAvcDts/g,type:"video",nb:_.length,dropped:K};return this.observer.trigger(a.default.FRAG_PARSING_DATA,$),$}},{key:"remuxAudio",value:function(t,e,n,r){var i,c,d,f,h,p,v,g,y,m,_,b,T,E,w,k,S=this.PES_TIMESCALE,O=S/t.timescale,j=t.timescale*(t.isAAC?1024:1152)/t.audiosamplerate*O,C=this._PTSNormalize,R=this._initDTS,x=!t.isAAC&&this.typeSupported.mpeg,P=x?0:8,A=[],L=[];if(t.samples.sort(function(t,e){return t.pts-e.pts}),k=this.nextAudioPts,(n|=(L=t.samples).length&&k&&(Math.abs(e-k/S)<.1||Math.abs(L[0].pts-k-this._initDTS)<20*j))||(k=e*S),r&&t.isAAC)for(var D=0,I=k;D<L.length;){var M=L[D],F=C(M.pts-R,k)-I;if(F<=-j)s.logger.warn("Dropping 1 audio frame @ "+Math.round(I/90)/1e3+"s due to "+Math.round(Math.abs(F/90))+" ms overlap."),L.splice(D,1),t.len-=M.unit.length;else if(F>=j&&I){var N=Math.round(F/j);s.logger.warn("Injecting "+N+" audio frame @ "+Math.round(I/90)/1e3+"s due to "+Math.round(F/90)+" ms gap.");for(var U=0;U<N;U++)w=I+R,w=Math.max(w,R),E=o.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),E||(s.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),E=M.unit.subarray()),L.splice(D,0,{unit:E,pts:w,dts:w}),t.len+=E.length,I+=j,D+=1;M.pts=M.dts=I+R,I+=j,D+=1}else Math.abs(F),I+=j,M.pts=M.dts=0===D?R+k:L[D-1].pts+j,D+=1}for(var B=0,G=L.length;B<G;B++){if(f=(c=L[B]).unit,m=c.pts-R,_=c.dts-R,void 0!==y)b=C(m,y),T=C(_,y),d.duration=Math.round((T-y)/O);else{b=C(m,k),T=C(_,k);var Y=Math.round(1e3*(b-k)/S),H=0;if(n&&t.isAAC&&Y){if(Y>0)H=Math.round((b-k)/j),s.logger.log(Y+" ms hole between AAC samples detected,filling it"),H>0&&(E=o.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),E||(E=f.subarray()),t.len+=H*E.length);else if(Y<-12){s.logger.log(-Y+" ms overlapping between AAC samples detected, drop frame"),t.len-=f.byteLength;continue}b=T=k}if(v=Math.max(0,b),g=Math.max(0,T),!(t.len>0))return;var V=x?t.len:t.len+8;try{h=new Uint8Array(V)}catch(t){return void this.observer.trigger(a.default.ERROR,{type:u.ErrorTypes.MUX_ERROR,level:this.level,id:this.id,details:u.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:V,reason:"fail allocating audio mdat "+V})}x||(i=new DataView(h.buffer),i.setUint32(0,V),h.set(l.default.types.mdat,4));for(var z=0;z<H;z++)w=b-(H-z)*j,E=o.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount),E||(s.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),E=f.subarray()),h.set(E,P),P+=E.byteLength,d={size:E.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},A.push(d)}h.set(f,P);var W=f.byteLength;P+=W,A.push(d={size:W,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}}),y=T}var q=0,Z=A.length;if(Z>=2&&(q=A[Z-2].duration,d.duration=q),Z){this.nextAudioPts=b+O*q,t.len=0,t.samples=A,p=x?new Uint8Array:l.default.moof(t.sequenceNumber++,g/O,t),t.samples=[];var K={id:this.id,level:this.level,sn:this.sn,data1:p,data2:h,startPTS:v/S,endPTS:this.nextAudioPts/S,startDTS:g/S,endDTS:(T+O*q)/S,type:"audio",nb:Z};return this.observer.trigger(a.default.FRAG_PARSING_DATA,K),K}return null}},{key:"remuxEmptyAudio",value:function(t,e,n,r){var i=this.PES_TIMESCALE,a=this.nextAudioPts,l=(void 0!==a?a:r.startDTS*i)+this._initDTS,u=1024*(i/(t.timescale?t.timescale:t.audiosamplerate)),c=Math.ceil((r.endDTS*i+this._initDTS-l)/u),d=o.default.getSilentFrame(t.manifestCodec||t.codec,t.channelCount);if(s.logger.warn("remux empty Audio"),d){for(var f=[],h=0;h<c;h++){var p=l+h*u;f.push({unit:d,pts:p,dts:p}),t.len+=d.length}t.samples=f,this.remuxAudio(t,e,n)}else s.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")}},{key:"remuxID3",value:function(t,e){var n,r=t.samples.length;if(r){for(var i=0;i<r;i++)n=t.samples[i],n.pts=(n.pts-this._initPTS)/this.PES_TIMESCALE,n.dts=(n.dts-this._initDTS)/this.PES_TIMESCALE;this.observer.trigger(a.default.FRAG_PARSING_METADATA,{id:this.id,level:this.level,sn:this.sn,samples:t.samples})}t.samples=[],e=e}},{key:"remuxText",value:function(t,e){t.samples.sort(function(t,e){return t.pts-e.pts});var n,r=t.samples.length;if(r){for(var i=0;i<r;i++)n=t.samples[i],n.pts=(n.pts-this._initPTS)/this.PES_TIMESCALE;this.observer.trigger(a.default.FRAG_PARSING_USERDATA,{id:this.id,level:this.level,sn:this.sn,samples:t.samples})}t.samples=[],e=e}},{key:"_PTSNormalize",value:function(t,e){var n;if(void 0===e)return t;for(n=e<t?-8589934592:8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}},{key:"passthrough",get:function(){return!1}}]),t}();n.default=c},{26:26,28:28,29:29,37:37,45:45}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=t(28),a=(r=o,r&&r.__esModule?r:{default:r}),s=function(){function t(e,n){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.observer=e,this.id=n,this.ISGenerated=!1}return i(t,[{key:"destroy",value:function(){}},{key:"insertDiscontinuity",value:function(){}},{key:"switchLevel",value:function(){this.ISGenerated=!1}},{key:"remux",value:function(t,e,n,r,i,o){var s=this.observer;if(!this.ISGenerated){var l={id:this.id,tracks:{},unique:!0},u=e,c=u.codec;c&&(l.tracks.video={container:u.container,codec:c,metadata:{width:u.width,height:u.height}}),(c=(u=t).codec)&&(l.tracks.audio={container:u.container,codec:c,metadata:{channelCount:u.channelCount}}),this.ISGenerated=!0,s.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,l)}s.trigger(a.default.FRAG_PARSING_DATA,{id:this.id,data1:o,startPTS:i,startDTS:i,type:"audiovideo",nb:1,dropped:0})}},{key:"passthrough",get:function(){return!0}}]),t}();n.default=s},{28:28}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=/^(\d+)x(\d+)$/,o=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,a=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),"string"==typeof e&&(e=t.parseAttrList(e));for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n])}return r(t,[{key:"decimalInteger",value:function(t){var e=parseInt(this[t],10);return e>Number.MAX_SAFE_INTEGER?1/0:e}},{key:"hexadecimalInteger",value:function(t){if(this[t]){var e=(this[t]||"0x").slice(2);e=(1&e.length?"0":"")+e;for(var n=new Uint8Array(e.length/2),r=0;r<e.length/2;r++)n[r]=parseInt(e.slice(2*r,2*r+2),16);return n}return null}},{key:"hexadecimalIntegerAsNumber",value:function(t){var e=parseInt(this[t],16);return e>Number.MAX_SAFE_INTEGER?1/0:e}},{key:"decimalFloatingPoint",value:function(t){return parseFloat(this[t])}},{key:"enumeratedString",value:function(t){return this[t]}},{key:"decimalResolution",value:function(t){var e=i.exec(this[t]);if(null!==e)return{width:parseInt(e[1],10),height:parseInt(e[2],10)}}}],[{key:"parseAttrList",value:function(t){var e,n={};for(o.lastIndex=0;null!==(e=o.exec(t));){var r=e[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[e[1]]=r}return n}}]),t}();n.default=a},{}],41:[function(t,e,n){"use strict";e.exports={search:function(t,e){for(var n=0,r=t.length-1,i=null,o=null;n<=r;){var a=e(o=t[i=(n+r)/2|0]);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null}}},{}],42:[function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(t){var e=t;return o.hasOwnProperty(t)&&(e=o[t]),String.fromCharCode(e)},s=15,l=32,u={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},d={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},f={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],p={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(t){this.time=t},log:function(t,e){}},v=function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].toString(16));return e},g=function(){function t(e,n,i,o,a){r(this,t),this.foreground=e||"white",this.underline=n||!1,this.italics=i||!1,this.background=o||"black",this.flash=a||!1}return i(t,[{key:"reset",value:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}},{key:"setStyles",value:function(t){for(var e=["foreground","underline","italics","background","flash"],n=0;n<e.length;n++){var r=e[n];t.hasOwnProperty(r)&&(this[r]=t[r])}}},{key:"isDefault",value:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash}},{key:"equals",value:function(t){return this.foreground===t.foreground&&this.underline===t.underline&&this.italics===t.italics&&this.background===t.background&&this.flash===t.flash}},{key:"copy",value:function(t){this.foreground=t.foreground,this.underline=t.underline,this.italics=t.italics,this.background=t.background,this.flash=t.flash}},{key:"toString",value:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}]),t}(),y=function(){function t(e,n,i,o,a,s){r(this,t),this.uchar=e||" ",this.penState=new g(n,i,o,a,s)}return i(t,[{key:"reset",value:function(){this.uchar=" ",this.penState.reset()}},{key:"setChar",value:function(t,e){this.uchar=t,this.penState.copy(e)}},{key:"setPenState",value:function(t){this.penState.copy(t)}},{key:"equals",value:function(t){return this.uchar===t.uchar&&this.penState.equals(t.penState)}},{key:"copy",value:function(t){this.uchar=t.uchar,this.penState.copy(t.penState)}},{key:"isEmpty",value:function(){return" "===this.uchar&&this.penState.isDefault()}}]),t}(),m=function(){function t(){r(this,t),this.chars=[];for(var e=0;e<l;e++)this.chars.push(new y);this.pos=0,this.currPenState=new g}return i(t,[{key:"equals",value:function(t){for(var e=!0,n=0;n<l;n++)if(!this.chars[n].equals(t.chars[n])){e=!1;break}return e}},{key:"copy",value:function(t){for(var e=0;e<l;e++)this.chars[e].copy(t.chars[e])}},{key:"isEmpty",value:function(){for(var t=!0,e=0;e<l;e++)if(!this.chars[e].isEmpty()){t=!1;break}return t}},{key:"setCursor",value:function(t){this.pos!==t&&(this.pos=t),this.pos<0?(p.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>l&&(p.log("ERROR","Too large cursor position "+this.pos),this.pos=l)}},{key:"moveCursor",value:function(t){var e=this.pos+t;if(t>1)for(var n=this.pos+1;n<e+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(e)}},{key:"backSpace",value:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}},{key:"insertChar",value:function(t){t>=144&&this.backSpace();var e=a(t);return this.pos>=l?void p.log("ERROR","Cannot insert "+t.toString(16)+" ("+e+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(e,this.currPenState),void this.moveCursor(1))}},{key:"clearFromPos",value:function(t){var e;for(e=t;e<l;e++)this.chars[e].reset()}},{key:"clear",value:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}},{key:"clearToEndOfRow",value:function(){this.clearFromPos(this.pos)}},{key:"getTextString",value:function(){for(var t=[],e=!0,n=0;n<l;n++){var r=this.chars[n].uchar;" "!==r&&(e=!1),t.push(r)}return e?"":t.join("")}},{key:"setPenStyles",value:function(t){this.currPenState.setStyles(t);this.chars[this.pos].setPenState(this.currPenState)}}]),t}(),_=function(){function t(){r(this,t),this.rows=[];for(var e=0;e<s;e++)this.rows.push(new m);this.currRow=s-1,this.nrRollUpRows=null,this.reset()}return i(t,[{key:"reset",value:function(){for(var t=0;t<s;t++)this.rows[t].clear();this.currRow=s-1}},{key:"equals",value:function(t){for(var e=!0,n=0;n<s;n++)if(!this.rows[n].equals(t.rows[n])){e=!1;break}return e}},{key:"copy",value:function(t){for(var e=0;e<s;e++)this.rows[e].copy(t.rows[e])}},{key:"isEmpty",value:function(){for(var t=!0,e=0;e<s;e++)if(!this.rows[e].isEmpty()){t=!1;break}return t}},{key:"backSpace",value:function(){this.rows[this.currRow].backSpace()}},{key:"clearToEndOfRow",value:function(){this.rows[this.currRow].clearToEndOfRow()}},{key:"insertChar",value:function(t){this.rows[this.currRow].insertChar(t)}},{key:"setPen",value:function(t){this.rows[this.currRow].setPenStyles(t)}},{key:"moveCursor",value:function(t){this.rows[this.currRow].moveCursor(t)}},{key:"setCursor",value:function(t){p.log("INFO","setCursor: "+t);this.rows[this.currRow].setCursor(t)}},{key:"setPAC",value:function(t,e){p.log("INFO","pacData = "+JSON.stringify(t));var n=t.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(var r=0;r<s;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,o=e.rows[i].cueStartTime;if(o&&o<p.time)for(r=0;r<this.nrRollUpRows;r++)this.rows[n-this.nrRollUpRows+r+1].copy(e.rows[i+r])}this.currRow=n;var a=this.rows[this.currRow];if(null!==t.indent){var l=Math.max(t.indent-1,0);a.setCursor(t.indent),t.color=a.chars[l].penState.foreground}this.setPen({foreground:t.color,underline:t.underline,italics:t.italics,background:"black",flash:!1})}},{key:"setBkgData",value:function(t){p.log("INFO","bkgData = "+JSON.stringify(t)),this.backSpace(),this.setPen(t),this.insertChar(32)}},{key:"setRollUpRows",value:function(t){this.nrRollUpRows=t}},{key:"rollUp",value:function(){if(null!==this.nrRollUpRows){p.log("TEXT",this.getDisplayText());var t=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),p.log("INFO","Rolling up")}else p.log("DEBUG","roll_up but nrRollUpRows not set yet")}},{key:"getDisplayText",value:function(t){t=t||!1;for(var e=[],n="",r=-1,i=0;i<s;i++){var o=this.rows[i].getTextString();o&&(r=i+1,e.push(t?"Row "+r+": '"+o+"'":o.trim()))}return e.length>0&&(n=t?"["+e.join(" | ")+"]":e.join("\n")),n}},{key:"getTextAndFormat",value:function(){return this.rows}}]),t}(),b=function(){function t(e,n){r(this,t),this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new _,this.nonDisplayedMemory=new _,this.lastOutputScreen=new _,this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return i(t,[{key:"reset",value:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[s-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null}},{key:"getHandler",value:function(){return this.outputFilter}},{key:"setHandler",value:function(t){this.outputFilter=t}},{key:"setPAC",value:function(t){this.writeScreen.setPAC(t,this.lastOutputScreen)}},{key:"setBkgData",value:function(t){this.writeScreen.setBkgData(t)}},{key:"setMode",value:function(t){t!==this.mode&&(this.mode=t,p.log("INFO","MODE="+t),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset(),this.lastOutputScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=t)}},{key:"insertChars",value:function(t){for(var e=0;e<t.length;e++)this.writeScreen.insertChar(t[e]);p.log("INFO",(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(p.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}},{key:"ccRCL",value:function(){p.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}},{key:"ccBS",value:function(){p.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}},{key:"ccAOF",value:function(){}},{key:"ccAON",value:function(){}},{key:"ccDER",value:function(){p.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}},{key:"ccRU",value:function(t){p.log("INFO","RU("+t+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(t)}},{key:"ccFON",value:function(){p.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})}},{key:"ccRDC",value:function(){p.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}},{key:"ccTR",value:function(){p.log("INFO","TR"),this.setMode("MODE_TEXT")}},{key:"ccRTD",value:function(){p.log("INFO","RTD"),this.setMode("MODE_TEXT")}},{key:"ccEDM",value:function(){p.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()}},{key:"ccCR",value:function(){p.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()}},{key:"ccENM",value:function(){p.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}},{key:"ccEOC",value:function(){if(p.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var t=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=t,this.writeScreen=this.nonDisplayedMemory,p.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate()}},{key:"ccTO",value:function(t){p.log("INFO","TO("+t+") - Tab Offset"),this.writeScreen.moveCursor(t)}},{key:"ccMIDROW",value:function(t){var e={flash:!1};if(e.underline=t%2==1,e.italics=t>=46,e.italics)e.foreground="white";else{var n=Math.floor(t/2)-16;e.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}p.log("INFO","MIDROW: "+JSON.stringify(e)),this.writeScreen.setPen(e)}},{key:"outputDataUpdate",value:function(){var t=p.time;null!==t&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(t,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))}},{key:"cueSplitAtTime",value:function(t){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,t,this.displayedMemory),this.cueStartTime=t))}}]),t}(),T=function(){function t(e,n,i){r(this,t),this.field=e||1,this.outputs=[n,i],this.channels=[new b(1,n),new b(2,i)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return i(t,[{key:"getHandler",value:function(t){return this.channels[t].getHandler()}},{key:"setHandler",value:function(t,e){this.channels[t].setHandler(e)}},{key:"addData",value:function(t,e){var n,r,i,o=!1;this.lastTime=t,p.setTime(t);for(var a=0;a<e.length;a+=2)if(r=127&e[a],i=127&e[a+1],0!==r||0!==i){if(p.log("DATA","["+v([e[a],e[a+1]])+"] -> ("+v([r,i])+")"),(n=this.parseCmd(r,i))||(n=this.parseMidrow(r,i)),n||(n=this.parsePAC(r,i)),n||(n=this.parseBackgroundAttributes(r,i)),!n&&(o=this.parseChars(r,i)))if(this.currChNr&&this.currChNr>=0){this.channels[this.currChNr-1].insertChars(o)}else p.log("WARNING","No channel found yet. TEXT-MODE?");n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,p.log("WARNING","Couldn't parse cleaned data "+v([r,i])+" orig: "+v([e[a],e[a+1]])))}else this.dataCounters.padding+=2}},{key:"parseCmd",value:function(t,e){var n=null;if(!((20===t||28===t)&&32<=e&&e<=47)&&!((23===t||31===t)&&33<=e&&e<=35))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,p.log("DEBUG","Repeated command ("+v([t,e])+") is dropped"),!0;var r=this.channels[(n=20===t||23===t?1:2)-1];return 20===t||28===t?32===e?r.ccRCL():33===e?r.ccBS():34===e?r.ccAOF():35===e?r.ccAON():36===e?r.ccDER():37===e?r.ccRU(2):38===e?r.ccRU(3):39===e?r.ccRU(4):40===e?r.ccFON():41===e?r.ccRDC():42===e?r.ccTR():43===e?r.ccRTD():44===e?r.ccEDM():45===e?r.ccCR():46===e?r.ccENM():47===e&&r.ccEOC():r.ccTO(e-32),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0}},{key:"parseMidrow",value:function(t,e){var n=null;if((17===t||25===t)&&32<=e&&e<=47){if((n=17===t?1:2)!==this.currChNr)return p.log("ERROR","Mismatch channel in midrow parsing"),!1;return this.channels[n-1].ccMIDROW(e),p.log("DEBUG","MIDROW ("+v([t,e])+")"),!0}return!1}},{key:"parsePAC",value:function(t,e){var n=null;if(!((17<=t&&t<=23||25<=t&&t<=31)&&64<=e&&e<=127)&&!((16===t||24===t)&&64<=e&&e<=95))return!1;if(t===this.lastCmdA&&e===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;n=t<=23?1:2;var r=this.interpretPAC(64<=e&&e<=95?1===n?u[t]:d[t]:1===n?c[t]:f[t],e);return this.channels[n-1].setPAC(r),this.lastCmdA=t,this.lastCmdB=e,this.currChNr=n,!0}},{key:"interpretPAC",value:function(t,e){var n=e,r={color:null,italics:!1,indent:null,underline:!1,row:t};return r.underline=1==(1&(n=e>95?e-96:e-64)),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r}},{key:"parseChars",value:function(t,e){var n=null,r=null,i=null;if(t>=25?(n=2,i=t-8):(n=1,i=t),17<=i&&i<=19){var o=e;p.log("INFO","Special char '"+a(o=17===i?e+80:18===i?e+112:e+144)+"' in channel "+n),r=[o]}else 32<=t&&t<=127&&(r=0===e?[t]:[t,e]);if(r){var s=v(r);p.log("DEBUG","Char codes =  "+s.join(",")),this.lastCmdA=null,this.lastCmdB=null}return r}},{key:"parseBackgroundAttributes",value:function(t,e){var n,r,i,o;return!(!((16===t||24===t)&&32<=e&&e<=47)&&!((23===t||31===t)&&45<=e&&e<=47)||(n={},16===t||24===t?(r=Math.floor((e-32)/2),n.background=h[r],e%2==1&&(n.background=n.background+"_semi")):45===e?n.background="transparent":(n.foreground="black",47===e&&(n.underline=!0)),i=t<24?1:2,o=this.channels[i-1],o.setBkgData(n),this.lastCmdA=null,this.lastCmdB=null,0))}},{key:"reset",value:function(){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].reset();this.lastCmdA=null,this.lastCmdB=null}},{key:"cueSplitAtTime",value:function(t){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].cueSplitAtTime(t)}}]),t}();n.default=T},{}],43:[function(t,e,n){"use strict";e.exports={newCue:function(t,e,n,r){for(var i,o,a,s,l,u=window.VTTCue||window.TextTrackCue,c=0;c<r.rows.length;c++)if(i=r.rows[c],a=!0,s=0,l="",!i.isEmpty()){for(var d=0;d<i.chars.length;d++)i.chars[d].uchar.match(/\s/)&&a?s++:(l+=i.chars[d].uchar,a=!1);i.cueStartTime=e,o=new u(e,n,l.trim()),s>=16?s--:s++,o.line=navigator.userAgent.match(/Firefox\//)?c+1:c>7?c-2:c+1,o.align="left",o.position=Math.max(0,Math.min(100,s/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),t.addCue(o)}}}},{}],44:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return r(t,[{key:"sample",value:function(t,e){var n=Math.pow(this.alpha_,t);this.estimate_=e*(1-n)+n*this.estimate_,this.totalWeight_+=t}},{key:"getTotalWeight",value:function(){return this.totalWeight_}},{key:"getEstimate",value:function(){if(this.alpha_){var t=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/t}return this.estimate_}}]),t}();n.default=i},{}],45:[function(t,e,n){"use strict";function r(){}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];n.forEach(function(e){s[e]=t[e]?t[e].bind(t):function(t){var e=self.console[t];return e?function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];r[0]&&(r[0]=(o=t,a=r[0],"["+o+"] > "+a)),e.apply(self.console,r);var o,a}:r}(e)})}Object.defineProperty(n,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a={trace:r,debug:r,log:r,warn:r,info:r,error:r},s=a;n.enableLogs=function(t){if(!0===t||"object"===(void 0===t?"undefined":o(t))){i(t,"debug","log","info","warn","error");try{s.log()}catch(t){s=a}}else s=a},n.logger=s},{}],46:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return r(t,null,[{key:"toString",value:function(t){for(var e="",n=t.length,r=0;r<n;r++)e+="["+t.start(r).toFixed(3)+","+t.end(r).toFixed(3)+"]";return e}}]),t}();n.default=i},{}],47:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=t(45),o=function(){function t(e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,t),e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return r(t,[{key:"destroy",value:function(){this.abort(),this.loader=null}},{key:"abort",value:function(){var t=this.loader;t&&4!==t.readyState&&(this.stats.aborted=!0,t.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null}},{key:"load",value:function(t,e,n){this.context=t,this.config=e,this.callbacks=n,this.stats={trequest:performance.now(),retry:0},this.retryDelay=e.retryDelay,this.loadInternal()}},{key:"loadInternal",value:function(){var t,e=this.context;(t=this.loader="undefined"!=typeof XDomainRequest?new XDomainRequest:new XMLHttpRequest).onreadystatechange=this.readystatechange.bind(this),t.onprogress=this.loadprogress.bind(this),t.open("GET",e.url,!0),e.rangeEnd&&t.setRequestHeader("Range","bytes="+e.rangeStart+"-"+(e.rangeEnd-1)),t.responseType=e.responseType;var n=this.stats;n.tfirst=0,n.loaded=0,this.xhrSetup&&this.xhrSetup(t,e.url),this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),t.send()}},{key:"readystatechange",value:function(t){var e=t.currentTarget,n=e.readyState,r=this.stats,o=this.context,a=this.config;if(!r.aborted&&n>=2)if(window.clearTimeout(this.requestTimeout),0===r.tfirst&&(r.tfirst=Math.max(performance.now(),r.trequest)),4===n){var s=e.status;if(s>=200&&s<300){r.tload=Math.max(r.tfirst,performance.now());var l=void 0,u=void 0;"arraybuffer"===o.responseType?u=(l=e.response).byteLength:u=(l=e.responseText).length,r.loaded=r.total=u;this.callbacks.onSuccess({url:e.responseURL,data:l},r,o)}else r.retry>=a.maxRetry||s>=400&&s<499?(i.logger.error(s+" while loading "+o.url),this.callbacks.onError({code:s,text:e.statusText},o)):(i.logger.warn(s+" while loading "+o.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,a.maxRetryDelay),r.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),a.timeout)}},{key:"loadtimeout",value:function(){i.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context)}},{key:"loadprogress",value:function(t){var e=this.stats;e.loaded=t.loaded,t.lengthComputable&&(e.total=t.total);var n=this.callbacks.onProgress;n&&n(e,this.context,null)}}]),t}();n.default=o},{45:45}]},{},[33])(33)})}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=videojs.getComponent("MenuItem"),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),r(e,[{key:"handleClick",value:function(){(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"handleClick",this).call(this),this.options_.qualitySwitchCallback(this.options_.id,this.options_.trackType)}}]),e}();n.default=o},{}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=videojs.getComponent("Menu"),o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i),r(e,[{key:"addItem",value:function(t){var n=this;(function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addItem",this).call(this,t),t.on("click",function(){for(var e=n.children(),r=0;r<e.length;r++){var i=e[r];t!==i&&i.selected(!1)}})}}]),e}();n.default=o},{}],6:[function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=r(t("./quality-menu")),s=r(t("./quality-menu-item")),l=videojs.getComponent("MenuButton"),u=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,l),o(e,[{key:"createMenu",value:function(){for(var t,e,n=new a.default(this.player,this.options_),r=0;r<this.options_.qualityList.length;r++){var o=this.options_;e=i({qualitySwitchCallback:o.qualitySwitchCallback,trackType:o.trackType},this.options_.qualityList[r],{selectable:!0}),t=new s.default(this.player,e),n.addItem(t)}return n}}]),e}();n.default=u},{"./quality-menu":5,"./quality-menu-item":4}],7:[function(t,e,n){"use strict";var r,i=t("./quality-picker-button"),o=(r=i,r&&r.__esModule?r:{default:r});videojs.plugin("qualityPickerPlugin",function(t){var e=this,n=["video","audio","subtitle"],r={video:"vjs-icon-hd",audio:"vjs-icon-cog",subtitle:"vjs-icon-subtitles"};this.tech_.on("loadedqualitydata",function(t,i){var a=i.qualityData,s=i.qualitySwitchCallback,l=e.controlBar.getChild("fullscreenToggle");e.controlBar.removeChild(l);for(var u=0;u<n.length;u++){var c=n[u],d=c+"PickerButton",f=e.controlBar.getChild(d);f&&(f.dispose(),e.controlBar.removeChild(f)),a[c]&&a[c].length>1&&(f=new o.default(e,{name:d,qualityList:a[c],qualitySwitchCallback:s,trackType:c}),f.addClass(r[c]),e.controlBar.addChild(f))}l&&e.controlBar.addChild(l)})})},{"./quality-picker-button":6}]},{},[1])}).call(e,n(65))}},[212]);